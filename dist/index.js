#!/usr/bin/env node
"use strict";var require$$0$1=require("events"),require$$1$1=require("child_process"),require$$1=require("path"),fs$m=require("fs"),require$$4$1=require("process"),require$$0$2=require("os"),require$$1$2=require("tty"),require$$0$3=require("constants"),require$$0$4=require("stream"),require$$4$2=require("util"),require$$5=require("assert"),url=require("url"),readline=require("readline"),promises=require("fs/promises"),_documentCurrentScript="undefined"!=typeof document?document.currentScript:null;function _interopNamespaceDefault(o){var l=Object.create(null);return o&&Object.keys(o).forEach(function(p){if("default"!==p){var m=Object.getOwnPropertyDescriptor(o,p);Object.defineProperty(l,p,m.get?m:{enumerable:!0,get:function(){return o[p]}})}}),l.default=o,Object.freeze(l)}var fs__namespace=_interopNamespaceDefault(fs$m),commonjsGlobal="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function getDefaultExportFromCjs(o){return o&&o.__esModule&&Object.prototype.hasOwnProperty.call(o,"default")?o.default:o}function getAugmentedNamespace(o){if(o.__esModule)return o;var l=o.default;if("function"==typeof l){var p=function a(){return this instanceof a?Reflect.construct(l,arguments,this.constructor):l.apply(this,arguments)};p.prototype=l.prototype}else p={};return Object.defineProperty(p,"__esModule",{value:!0}),Object.keys(o).forEach(function(l){var m=Object.getOwnPropertyDescriptor(o,l);Object.defineProperty(p,l,m.get?m:{enumerable:!0,get:function(){return o[l]}})}),p}var src$1={},commander={exports:{}},argument={},error$2={};let CommanderError$1=class extends Error{constructor(o,l,p){super(p),Error.captureStackTrace(this,this.constructor),this.name=this.constructor.name,this.code=l,this.exitCode=o,this.nestedError=void 0}},InvalidArgumentError$2=class extends CommanderError$1{constructor(o){super(1,"commander.invalidArgument",o),Error.captureStackTrace(this,this.constructor),this.name=this.constructor.name}};error$2.CommanderError=CommanderError$1,error$2.InvalidArgumentError=InvalidArgumentError$2;const{InvalidArgumentError:InvalidArgumentError$1}=error$2;let Argument$1=class{constructor(o,l){switch(this.description=l||"",this.variadic=!1,this.parseArg=void 0,this.defaultValue=void 0,this.defaultValueDescription=void 0,this.argChoices=void 0,o[0]){case"<":this.required=!0,this._name=o.slice(1,-1);break;case"[":this.required=!1,this._name=o.slice(1,-1);break;default:this.required=!0,this._name=o}this._name.length>3&&"..."===this._name.slice(-3)&&(this.variadic=!0,this._name=this._name.slice(0,-3))}name(){return this._name}_concatValue(o,l){return l!==this.defaultValue&&Array.isArray(l)?l.concat(o):[o]}default(o,l){return this.defaultValue=o,this.defaultValueDescription=l,this}argParser(o){return this.parseArg=o,this}choices(o){return this.argChoices=o.slice(),this.parseArg=(o,l)=>{if(!this.argChoices.includes(o))throw new InvalidArgumentError$1(`Allowed choices are ${this.argChoices.join(", ")}.`);return this.variadic?this._concatValue(o,l):o},this}argRequired(){return this.required=!0,this}argOptional(){return this.required=!1,this}};function humanReadableArgName$2(o){const l=o.name()+(!0===o.variadic?"...":"");return o.required?"<"+l+">":"["+l+"]"}argument.Argument=Argument$1,argument.humanReadableArgName=humanReadableArgName$2;var command={},help={};const{humanReadableArgName:humanReadableArgName$1}=argument;let Help$1=class{constructor(){this.helpWidth=void 0,this.sortSubcommands=!1,this.sortOptions=!1,this.showGlobalOptions=!1}visibleCommands(o){const l=o.commands.filter(o=>!o._hidden);if(o._hasImplicitHelpCommand()){const[,p,m]=o._helpCommandnameAndArgs.match(/([^ ]+) *(.*)/),g=o.createCommand(p).helpOption(!1);g.description(o._helpCommandDescription),m&&g.arguments(m),l.push(g)}return this.sortSubcommands&&l.sort((o,l)=>o.name().localeCompare(l.name())),l}compareOptions(o,l){const getSortKey=o=>o.short?o.short.replace(/^-/,""):o.long.replace(/^--/,"");return getSortKey(o).localeCompare(getSortKey(l))}visibleOptions(o){const l=o.options.filter(o=>!o.hidden),p=o._hasHelpOption&&o._helpShortFlag&&!o._findOption(o._helpShortFlag),m=o._hasHelpOption&&!o._findOption(o._helpLongFlag);if(p||m){let g;g=p?m?o.createOption(o._helpFlags,o._helpDescription):o.createOption(o._helpShortFlag,o._helpDescription):o.createOption(o._helpLongFlag,o._helpDescription),l.push(g)}return this.sortOptions&&l.sort(this.compareOptions),l}visibleGlobalOptions(o){if(!this.showGlobalOptions)return[];const l=[];for(let p=o.parent;p;p=p.parent){const o=p.options.filter(o=>!o.hidden);l.push(...o)}return this.sortOptions&&l.sort(this.compareOptions),l}visibleArguments(o){return o._argsDescription&&o.registeredArguments.forEach(l=>{l.description=l.description||o._argsDescription[l.name()]||""}),o.registeredArguments.find(o=>o.description)?o.registeredArguments:[]}subcommandTerm(o){const l=o.registeredArguments.map(o=>humanReadableArgName$1(o)).join(" ");return o._name+(o._aliases[0]?"|"+o._aliases[0]:"")+(o.options.length?" [options]":"")+(l?" "+l:"")}optionTerm(o){return o.flags}argumentTerm(o){return o.name()}longestSubcommandTermLength(o,l){return l.visibleCommands(o).reduce((o,p)=>Math.max(o,l.subcommandTerm(p).length),0)}longestOptionTermLength(o,l){return l.visibleOptions(o).reduce((o,p)=>Math.max(o,l.optionTerm(p).length),0)}longestGlobalOptionTermLength(o,l){return l.visibleGlobalOptions(o).reduce((o,p)=>Math.max(o,l.optionTerm(p).length),0)}longestArgumentTermLength(o,l){return l.visibleArguments(o).reduce((o,p)=>Math.max(o,l.argumentTerm(p).length),0)}commandUsage(o){let l=o._name;o._aliases[0]&&(l=l+"|"+o._aliases[0]);let p="";for(let l=o.parent;l;l=l.parent)p=l.name()+" "+p;return p+l+" "+o.usage()}commandDescription(o){return o.description()}subcommandDescription(o){return o.summary()||o.description()}optionDescription(o){const l=[];if(o.argChoices&&l.push(`choices: ${o.argChoices.map(o=>JSON.stringify(o)).join(", ")}`),void 0!==o.defaultValue){(o.required||o.optional||o.isBoolean()&&"boolean"==typeof o.defaultValue)&&l.push(`default: ${o.defaultValueDescription||JSON.stringify(o.defaultValue)}`)}return void 0!==o.presetArg&&o.optional&&l.push(`preset: ${JSON.stringify(o.presetArg)}`),void 0!==o.envVar&&l.push(`env: ${o.envVar}`),l.length>0?`${o.description} (${l.join(", ")})`:o.description}argumentDescription(o){const l=[];if(o.argChoices&&l.push(`choices: ${o.argChoices.map(o=>JSON.stringify(o)).join(", ")}`),void 0!==o.defaultValue&&l.push(`default: ${o.defaultValueDescription||JSON.stringify(o.defaultValue)}`),l.length>0){const p=`(${l.join(", ")})`;return o.description?`${o.description} ${p}`:p}return o.description}formatHelp(o,l){const p=l.padWidth(o,l),m=l.helpWidth||80;function formatItem(o,g){if(g){const y=`${o.padEnd(p+2)}${g}`;return l.wrap(y,m-2,p+2)}return o}function formatList(o){return o.join("\n").replace(/^/gm," ".repeat(2))}let g=[`Usage: ${l.commandUsage(o)}`,""];const y=l.commandDescription(o);y.length>0&&(g=g.concat([l.wrap(y,m,0),""]));const _=l.visibleArguments(o).map(o=>formatItem(l.argumentTerm(o),l.argumentDescription(o)));_.length>0&&(g=g.concat(["Arguments:",formatList(_),""]));const b=l.visibleOptions(o).map(o=>formatItem(l.optionTerm(o),l.optionDescription(o)));if(b.length>0&&(g=g.concat(["Options:",formatList(b),""])),this.showGlobalOptions){const p=l.visibleGlobalOptions(o).map(o=>formatItem(l.optionTerm(o),l.optionDescription(o)));p.length>0&&(g=g.concat(["Global Options:",formatList(p),""]))}const S=l.visibleCommands(o).map(o=>formatItem(l.subcommandTerm(o),l.subcommandDescription(o)));return S.length>0&&(g=g.concat(["Commands:",formatList(S),""])),g.join("\n")}padWidth(o,l){return Math.max(l.longestOptionTermLength(o,l),l.longestGlobalOptionTermLength(o,l),l.longestSubcommandTermLength(o,l),l.longestArgumentTermLength(o,l))}wrap(o,l,p,m=40){const g=new RegExp("[\\n][ \\f\\t\\v   -   　\ufeff]+");if(o.match(g))return o;const y=l-p;if(y<m)return o;const _=o.slice(0,p),b=o.slice(p).replace("\r\n","\n"),S=" ".repeat(p),A="\\s​",T=new RegExp(`\n|.{1,${y-1}}([${A}]|$)|[^${A}]+?([${A}]|$)`,"g");return _+(b.match(T)||[]).map((o,l)=>"\n"===o?"":(l>0?S:"")+o.trimEnd()).join("\n")}};help.Help=Help$1;var option={};const{InvalidArgumentError:InvalidArgumentError}=error$2;let Option$1=class{constructor(o,l){this.flags=o,this.description=l||"",this.required=o.includes("<"),this.optional=o.includes("["),this.variadic=/\w\.\.\.[>\]]$/.test(o),this.mandatory=!1;const p=splitOptionFlags$1(o);this.short=p.shortFlag,this.long=p.longFlag,this.negate=!1,this.long&&(this.negate=this.long.startsWith("--no-")),this.defaultValue=void 0,this.defaultValueDescription=void 0,this.presetArg=void 0,this.envVar=void 0,this.parseArg=void 0,this.hidden=!1,this.argChoices=void 0,this.conflictsWith=[],this.implied=void 0}default(o,l){return this.defaultValue=o,this.defaultValueDescription=l,this}preset(o){return this.presetArg=o,this}conflicts(o){return this.conflictsWith=this.conflictsWith.concat(o),this}implies(o){let l=o;return"string"==typeof o&&(l={[o]:!0}),this.implied=Object.assign(this.implied||{},l),this}env(o){return this.envVar=o,this}argParser(o){return this.parseArg=o,this}makeOptionMandatory(o=!0){return this.mandatory=!!o,this}hideHelp(o=!0){return this.hidden=!!o,this}_concatValue(o,l){return l!==this.defaultValue&&Array.isArray(l)?l.concat(o):[o]}choices(o){return this.argChoices=o.slice(),this.parseArg=(o,l)=>{if(!this.argChoices.includes(o))throw new InvalidArgumentError(`Allowed choices are ${this.argChoices.join(", ")}.`);return this.variadic?this._concatValue(o,l):o},this}name(){return this.long?this.long.replace(/^--/,""):this.short.replace(/^-/,"")}attributeName(){return camelcase(this.name().replace(/^no-/,""))}is(o){return this.short===o||this.long===o}isBoolean(){return!this.required&&!this.optional&&!this.negate}},DualOptions$1=class{constructor(o){this.positiveOptions=new Map,this.negativeOptions=new Map,this.dualOptions=new Set,o.forEach(o=>{o.negate?this.negativeOptions.set(o.attributeName(),o):this.positiveOptions.set(o.attributeName(),o)}),this.negativeOptions.forEach((o,l)=>{this.positiveOptions.has(l)&&this.dualOptions.add(l)})}valueFromOption(o,l){const p=l.attributeName();if(!this.dualOptions.has(p))return!0;const m=this.negativeOptions.get(p).presetArg,g=void 0!==m&&m;return l.negate===(g===o)}};function camelcase(o){return o.split("-").reduce((o,l)=>o+l[0].toUpperCase()+l.slice(1))}function splitOptionFlags$1(o){let l,p;const m=o.split(/[ |,]+/);return m.length>1&&!/^[[<]/.test(m[1])&&(l=m.shift()),p=m.shift(),!l&&/^-[^-]$/.test(p)&&(l=p,p=void 0),{shortFlag:l,longFlag:p}}option.Option=Option$1,option.splitOptionFlags=splitOptionFlags$1,option.DualOptions=DualOptions$1;var suggestSimilar$2={};const maxDistance=3;function editDistance(o,l){if(Math.abs(o.length-l.length)>maxDistance)return Math.max(o.length,l.length);const p=[];for(let l=0;l<=o.length;l++)p[l]=[l];for(let o=0;o<=l.length;o++)p[0][o]=o;for(let m=1;m<=l.length;m++)for(let g=1;g<=o.length;g++){let y=1;y=o[g-1]===l[m-1]?0:1,p[g][m]=Math.min(p[g-1][m]+1,p[g][m-1]+1,p[g-1][m-1]+y),g>1&&m>1&&o[g-1]===l[m-2]&&o[g-2]===l[m-1]&&(p[g][m]=Math.min(p[g][m],p[g-2][m-2]+1))}return p[o.length][l.length]}function suggestSimilar$1(o,l){if(!l||0===l.length)return"";l=Array.from(new Set(l));const p=o.startsWith("--");p&&(o=o.slice(2),l=l.map(o=>o.slice(2)));let m=[],g=maxDistance;return l.forEach(l=>{if(l.length<=1)return;const p=editDistance(o,l),y=Math.max(o.length,l.length);(y-p)/y>.4&&(p<g?(g=p,m=[l]):p===g&&m.push(l))}),m.sort((o,l)=>o.localeCompare(l)),p&&(m=m.map(o=>`--${o}`)),m.length>1?`\n(Did you mean one of ${m.join(", ")}?)`:1===m.length?`\n(Did you mean ${m[0]}?)`:""}suggestSimilar$2.suggestSimilar=suggestSimilar$1;const EventEmitter=require$$0$1.EventEmitter,childProcess=require$$1$1,path$h=require$$1,fs$l=fs$m,process$1=require$$4$1,{Argument:Argument,humanReadableArgName:humanReadableArgName}=argument,{CommanderError:CommanderError}=error$2,{Help:Help}=help,{Option:Option,splitOptionFlags:splitOptionFlags,DualOptions:DualOptions}=option,{suggestSimilar:suggestSimilar}=suggestSimilar$2;let Command$1=class o extends EventEmitter{constructor(o){super(),this.commands=[],this.options=[],this.parent=null,this._allowUnknownOption=!1,this._allowExcessArguments=!0,this.registeredArguments=[],this._args=this.registeredArguments,this.args=[],this.rawArgs=[],this.processedArgs=[],this._scriptPath=null,this._name=o||"",this._optionValues={},this._optionValueSources={},this._storeOptionsAsProperties=!1,this._actionHandler=null,this._executableHandler=!1,this._executableFile=null,this._executableDir=null,this._defaultCommandName=null,this._exitCallback=null,this._aliases=[],this._combineFlagAndOptionalValue=!0,this._description="",this._summary="",this._argsDescription=void 0,this._enablePositionalOptions=!1,this._passThroughOptions=!1,this._lifeCycleHooks={},this._showHelpAfterError=!1,this._showSuggestionAfterError=!0,this._outputConfiguration={writeOut:o=>process$1.stdout.write(o),writeErr:o=>process$1.stderr.write(o),getOutHelpWidth:()=>process$1.stdout.isTTY?process$1.stdout.columns:void 0,getErrHelpWidth:()=>process$1.stderr.isTTY?process$1.stderr.columns:void 0,outputError:(o,l)=>l(o)},this._hidden=!1,this._hasHelpOption=!0,this._helpFlags="-h, --help",this._helpDescription="display help for command",this._helpShortFlag="-h",this._helpLongFlag="--help",this._addImplicitHelpCommand=void 0,this._helpCommandName="help",this._helpCommandnameAndArgs="help [command]",this._helpCommandDescription="display help for command",this._helpConfiguration={}}copyInheritedSettings(o){return this._outputConfiguration=o._outputConfiguration,this._hasHelpOption=o._hasHelpOption,this._helpFlags=o._helpFlags,this._helpDescription=o._helpDescription,this._helpShortFlag=o._helpShortFlag,this._helpLongFlag=o._helpLongFlag,this._helpCommandName=o._helpCommandName,this._helpCommandnameAndArgs=o._helpCommandnameAndArgs,this._helpCommandDescription=o._helpCommandDescription,this._helpConfiguration=o._helpConfiguration,this._exitCallback=o._exitCallback,this._storeOptionsAsProperties=o._storeOptionsAsProperties,this._combineFlagAndOptionalValue=o._combineFlagAndOptionalValue,this._allowExcessArguments=o._allowExcessArguments,this._enablePositionalOptions=o._enablePositionalOptions,this._showHelpAfterError=o._showHelpAfterError,this._showSuggestionAfterError=o._showSuggestionAfterError,this}_getCommandAndAncestors(){const o=[];for(let l=this;l;l=l.parent)o.push(l);return o}command(o,l,p){let m=l,g=p;"object"==typeof m&&null!==m&&(g=m,m=null),g=g||{};const[,y,_]=o.match(/([^ ]+) *(.*)/),b=this.createCommand(y);return m&&(b.description(m),b._executableHandler=!0),g.isDefault&&(this._defaultCommandName=b._name),b._hidden=!(!g.noHelp&&!g.hidden),b._executableFile=g.executableFile||null,_&&b.arguments(_),this.commands.push(b),b.parent=this,b.copyInheritedSettings(this),m?this:b}createCommand(l){return new o(l)}createHelp(){return Object.assign(new Help,this.configureHelp())}configureHelp(o){return void 0===o?this._helpConfiguration:(this._helpConfiguration=o,this)}configureOutput(o){return void 0===o?this._outputConfiguration:(Object.assign(this._outputConfiguration,o),this)}showHelpAfterError(o=!0){return"string"!=typeof o&&(o=!!o),this._showHelpAfterError=o,this}showSuggestionAfterError(o=!0){return this._showSuggestionAfterError=!!o,this}addCommand(o,l){if(!o._name)throw new Error("Command passed to .addCommand() must have a name\n- specify the name in Command constructor or using .name()");return(l=l||{}).isDefault&&(this._defaultCommandName=o._name),(l.noHelp||l.hidden)&&(o._hidden=!0),this.commands.push(o),o.parent=this,this}createArgument(o,l){return new Argument(o,l)}argument(o,l,p,m){const g=this.createArgument(o,l);return"function"==typeof p?g.default(m).argParser(p):g.default(p),this.addArgument(g),this}arguments(o){return o.trim().split(/ +/).forEach(o=>{this.argument(o)}),this}addArgument(o){const l=this.registeredArguments.slice(-1)[0];if(l&&l.variadic)throw new Error(`only the last argument can be variadic '${l.name()}'`);if(o.required&&void 0!==o.defaultValue&&void 0===o.parseArg)throw new Error(`a default value for a required argument is never used: '${o.name()}'`);return this.registeredArguments.push(o),this}addHelpCommand(o,l){return!1===o?this._addImplicitHelpCommand=!1:(this._addImplicitHelpCommand=!0,"string"==typeof o&&(this._helpCommandName=o.split(" ")[0],this._helpCommandnameAndArgs=o),this._helpCommandDescription=l||this._helpCommandDescription),this}_hasImplicitHelpCommand(){return void 0===this._addImplicitHelpCommand?this.commands.length&&!this._actionHandler&&!this._findCommand("help"):this._addImplicitHelpCommand}hook(o,l){const p=["preSubcommand","preAction","postAction"];if(!p.includes(o))throw new Error(`Unexpected value for event passed to hook : '${o}'.\nExpecting one of '${p.join("', '")}'`);return this._lifeCycleHooks[o]?this._lifeCycleHooks[o].push(l):this._lifeCycleHooks[o]=[l],this}exitOverride(o){return this._exitCallback=o||(o=>{if("commander.executeSubCommandAsync"!==o.code)throw o}),this}_exit(o,l,p){this._exitCallback&&this._exitCallback(new CommanderError(o,l,p)),process$1.exit(o)}action(o){return this._actionHandler=l=>{const p=this.registeredArguments.length,m=l.slice(0,p);return this._storeOptionsAsProperties?m[p]=this:m[p]=this.opts(),m.push(this),o.apply(this,m)},this}createOption(o,l){return new Option(o,l)}_callParseArg(o,l,p,m){try{return o.parseArg(l,p)}catch(o){if("commander.invalidArgument"===o.code){const l=`${m} ${o.message}`;this.error(l,{exitCode:o.exitCode,code:o.code})}throw o}}addOption(o){const l=o.name(),p=o.attributeName();if(o.negate){const l=o.long.replace(/^--no-/,"--");this._findOption(l)||this.setOptionValueWithSource(p,void 0===o.defaultValue||o.defaultValue,"default")}else void 0!==o.defaultValue&&this.setOptionValueWithSource(p,o.defaultValue,"default");this.options.push(o);const handleOptionValue=(l,m,g)=>{null==l&&void 0!==o.presetArg&&(l=o.presetArg);const y=this.getOptionValue(p);null!==l&&o.parseArg?l=this._callParseArg(o,l,y,m):null!==l&&o.variadic&&(l=o._concatValue(l,y)),null==l&&(l=!o.negate&&(!(!o.isBoolean()&&!o.optional)||"")),this.setOptionValueWithSource(p,l,g)};return this.on("option:"+l,l=>{const p=`error: option '${o.flags}' argument '${l}' is invalid.`;handleOptionValue(l,p,"cli")}),o.envVar&&this.on("optionEnv:"+l,l=>{const p=`error: option '${o.flags}' value '${l}' from env '${o.envVar}' is invalid.`;handleOptionValue(l,p,"env")}),this}_optionEx(o,l,p,m,g){if("object"==typeof l&&l instanceof Option)throw new Error("To add an Option object use addOption() instead of option() or requiredOption()");const y=this.createOption(l,p);if(y.makeOptionMandatory(!!o.mandatory),"function"==typeof m)y.default(g).argParser(m);else if(m instanceof RegExp){const o=m;m=(l,p)=>{const m=o.exec(l);return m?m[0]:p},y.default(g).argParser(m)}else y.default(m);return this.addOption(y)}option(o,l,p,m){return this._optionEx({},o,l,p,m)}requiredOption(o,l,p,m){return this._optionEx({mandatory:!0},o,l,p,m)}combineFlagAndOptionalValue(o=!0){return this._combineFlagAndOptionalValue=!!o,this}allowUnknownOption(o=!0){return this._allowUnknownOption=!!o,this}allowExcessArguments(o=!0){return this._allowExcessArguments=!!o,this}enablePositionalOptions(o=!0){return this._enablePositionalOptions=!!o,this}passThroughOptions(o=!0){if(this._passThroughOptions=!!o,this.parent&&o&&!this.parent._enablePositionalOptions)throw new Error("passThroughOptions can not be used without turning on enablePositionalOptions for parent command(s)");return this}storeOptionsAsProperties(o=!0){if(this.options.length)throw new Error("call .storeOptionsAsProperties() before adding options");return this._storeOptionsAsProperties=!!o,this}getOptionValue(o){return this._storeOptionsAsProperties?this[o]:this._optionValues[o]}setOptionValue(o,l){return this.setOptionValueWithSource(o,l,void 0)}setOptionValueWithSource(o,l,p){return this._storeOptionsAsProperties?this[o]=l:this._optionValues[o]=l,this._optionValueSources[o]=p,this}getOptionValueSource(o){return this._optionValueSources[o]}getOptionValueSourceWithGlobals(o){let l;return this._getCommandAndAncestors().forEach(p=>{void 0!==p.getOptionValueSource(o)&&(l=p.getOptionValueSource(o))}),l}_prepareUserArgs(o,l){if(void 0!==o&&!Array.isArray(o))throw new Error("first parameter to parse must be array or undefined");let p;switch(l=l||{},void 0===o&&(o=process$1.argv,process$1.versions&&process$1.versions.electron&&(l.from="electron")),this.rawArgs=o.slice(),l.from){case void 0:case"node":this._scriptPath=o[1],p=o.slice(2);break;case"electron":process$1.defaultApp?(this._scriptPath=o[1],p=o.slice(2)):p=o.slice(1);break;case"user":p=o.slice(0);break;default:throw new Error(`unexpected parse option { from: '${l.from}' }`)}return!this._name&&this._scriptPath&&this.nameFromFilename(this._scriptPath),this._name=this._name||"program",p}parse(o,l){const p=this._prepareUserArgs(o,l);return this._parseCommand([],p),this}async parseAsync(o,l){const p=this._prepareUserArgs(o,l);return await this._parseCommand([],p),this}_executeSubCommand(o,l){l=l.slice();let p=!1;const m=[".js",".ts",".tsx",".mjs",".cjs"];function findFile(o,l){const p=path$h.resolve(o,l);if(fs$l.existsSync(p))return p;if(m.includes(path$h.extname(l)))return;const g=m.find(o=>fs$l.existsSync(`${p}${o}`));return g?`${p}${g}`:void 0}this._checkForMissingMandatoryOptions(),this._checkForConflictingOptions();let g,y=o._executableFile||`${this._name}-${o._name}`,_=this._executableDir||"";if(this._scriptPath){let o;try{o=fs$l.realpathSync(this._scriptPath)}catch(l){o=this._scriptPath}_=path$h.resolve(path$h.dirname(o),_)}if(_){let l=findFile(_,y);if(!l&&!o._executableFile&&this._scriptPath){const p=path$h.basename(this._scriptPath,path$h.extname(this._scriptPath));p!==this._name&&(l=findFile(_,`${p}-${o._name}`))}y=l||y}if(p=m.includes(path$h.extname(y)),"win32"!==process$1.platform?p?(l.unshift(y),l=incrementNodeInspectorPort(process$1.execArgv).concat(l),g=childProcess.spawn(process$1.argv[0],l,{stdio:"inherit"})):g=childProcess.spawn(y,l,{stdio:"inherit"}):(l.unshift(y),l=incrementNodeInspectorPort(process$1.execArgv).concat(l),g=childProcess.spawn(process$1.execPath,l,{stdio:"inherit"})),!g.killed){["SIGUSR1","SIGUSR2","SIGTERM","SIGINT","SIGHUP"].forEach(o=>{process$1.on(o,()=>{!1===g.killed&&null===g.exitCode&&g.kill(o)})})}const b=this._exitCallback;b?g.on("close",()=>{b(new CommanderError(process$1.exitCode||0,"commander.executeSubCommandAsync","(close)"))}):g.on("close",process$1.exit.bind(process$1)),g.on("error",l=>{if("ENOENT"===l.code){const l=_?`searched for local subcommand relative to directory '${_}'`:"no directory for search for local subcommand, use .executableDir() to supply a custom directory",p=`'${y}' does not exist\n - if '${o._name}' is not meant to be an executable command, remove description parameter from '.command()' and use '.description()' instead\n - if the default executable name is not suitable, use the executableFile option to supply a custom name or path\n - ${l}`;throw new Error(p)}if("EACCES"===l.code)throw new Error(`'${y}' not executable`);if(b){const o=new CommanderError(1,"commander.executeSubCommandAsync","(error)");o.nestedError=l,b(o)}else process$1.exit(1)}),this.runningCommand=g}_dispatchSubcommand(o,l,p){const m=this._findCommand(o);let g;return m||this.help({error:!0}),g=this._chainOrCallSubCommandHook(g,m,"preSubcommand"),g=this._chainOrCall(g,()=>{if(!m._executableHandler)return m._parseCommand(l,p);this._executeSubCommand(m,l.concat(p))}),g}_dispatchHelpCommand(o){o||this.help();const l=this._findCommand(o);return l&&!l._executableHandler&&l.help(),this._dispatchSubcommand(o,[],[this._helpLongFlag||this._helpShortFlag])}_checkNumberOfArguments(){this.registeredArguments.forEach((o,l)=>{o.required&&null==this.args[l]&&this.missingArgument(o.name())}),this.registeredArguments.length>0&&this.registeredArguments[this.registeredArguments.length-1].variadic||this.args.length>this.registeredArguments.length&&this._excessArguments(this.args)}_processArguments(){const myParseArg=(o,l,p)=>{let m=l;if(null!==l&&o.parseArg){const g=`error: command-argument value '${l}' is invalid for argument '${o.name()}'.`;m=this._callParseArg(o,l,p,g)}return m};this._checkNumberOfArguments();const o=[];this.registeredArguments.forEach((l,p)=>{let m=l.defaultValue;l.variadic?p<this.args.length?(m=this.args.slice(p),l.parseArg&&(m=m.reduce((o,p)=>myParseArg(l,p,o),l.defaultValue))):void 0===m&&(m=[]):p<this.args.length&&(m=this.args[p],l.parseArg&&(m=myParseArg(l,m,l.defaultValue))),o[p]=m}),this.processedArgs=o}_chainOrCall(o,l){return o&&o.then&&"function"==typeof o.then?o.then(()=>l()):l()}_chainOrCallHooks(o,l){let p=o;const m=[];return this._getCommandAndAncestors().reverse().filter(o=>void 0!==o._lifeCycleHooks[l]).forEach(o=>{o._lifeCycleHooks[l].forEach(l=>{m.push({hookedCommand:o,callback:l})})}),"postAction"===l&&m.reverse(),m.forEach(o=>{p=this._chainOrCall(p,()=>o.callback(o.hookedCommand,this))}),p}_chainOrCallSubCommandHook(o,l,p){let m=o;return void 0!==this._lifeCycleHooks[p]&&this._lifeCycleHooks[p].forEach(o=>{m=this._chainOrCall(m,()=>o(this,l))}),m}_parseCommand(o,l){const p=this.parseOptions(l);if(this._parseOptionsEnv(),this._parseOptionsImplied(),o=o.concat(p.operands),l=p.unknown,this.args=o.concat(l),o&&this._findCommand(o[0]))return this._dispatchSubcommand(o[0],o.slice(1),l);if(this._hasImplicitHelpCommand()&&o[0]===this._helpCommandName)return this._dispatchHelpCommand(o[1]);if(this._defaultCommandName)return outputHelpIfRequested(this,l),this._dispatchSubcommand(this._defaultCommandName,o,l);!this.commands.length||0!==this.args.length||this._actionHandler||this._defaultCommandName||this.help({error:!0}),outputHelpIfRequested(this,p.unknown),this._checkForMissingMandatoryOptions(),this._checkForConflictingOptions();const checkForUnknownOptions=()=>{p.unknown.length>0&&this.unknownOption(p.unknown[0])},m=`command:${this.name()}`;if(this._actionHandler){let p;return checkForUnknownOptions(),this._processArguments(),p=this._chainOrCallHooks(p,"preAction"),p=this._chainOrCall(p,()=>this._actionHandler(this.processedArgs)),this.parent&&(p=this._chainOrCall(p,()=>{this.parent.emit(m,o,l)})),p=this._chainOrCallHooks(p,"postAction"),p}if(this.parent&&this.parent.listenerCount(m))checkForUnknownOptions(),this._processArguments(),this.parent.emit(m,o,l);else if(o.length){if(this._findCommand("*"))return this._dispatchSubcommand("*",o,l);this.listenerCount("command:*")?this.emit("command:*",o,l):this.commands.length?this.unknownCommand():(checkForUnknownOptions(),this._processArguments())}else this.commands.length?(checkForUnknownOptions(),this.help({error:!0})):(checkForUnknownOptions(),this._processArguments())}_findCommand(o){if(o)return this.commands.find(l=>l._name===o||l._aliases.includes(o))}_findOption(o){return this.options.find(l=>l.is(o))}_checkForMissingMandatoryOptions(){this._getCommandAndAncestors().forEach(o=>{o.options.forEach(l=>{l.mandatory&&void 0===o.getOptionValue(l.attributeName())&&o.missingMandatoryOptionValue(l)})})}_checkForConflictingLocalOptions(){const o=this.options.filter(o=>{const l=o.attributeName();return void 0!==this.getOptionValue(l)&&"default"!==this.getOptionValueSource(l)}),l=o.filter(o=>o.conflictsWith.length>0);l.forEach(l=>{const p=o.find(o=>l.conflictsWith.includes(o.attributeName()));p&&this._conflictingOption(l,p)})}_checkForConflictingOptions(){this._getCommandAndAncestors().forEach(o=>{o._checkForConflictingLocalOptions()})}parseOptions(o){const l=[],p=[];let m=l;const g=o.slice();function maybeOption(o){return o.length>1&&"-"===o[0]}let y=null;for(;g.length;){const o=g.shift();if("--"===o){m===p&&m.push(o),m.push(...g);break}if(!y||maybeOption(o)){if(y=null,maybeOption(o)){const l=this._findOption(o);if(l){if(l.required){const o=g.shift();void 0===o&&this.optionMissingArgument(l),this.emit(`option:${l.name()}`,o)}else if(l.optional){let o=null;g.length>0&&!maybeOption(g[0])&&(o=g.shift()),this.emit(`option:${l.name()}`,o)}else this.emit(`option:${l.name()}`);y=l.variadic?l:null;continue}}if(o.length>2&&"-"===o[0]&&"-"!==o[1]){const l=this._findOption(`-${o[1]}`);if(l){l.required||l.optional&&this._combineFlagAndOptionalValue?this.emit(`option:${l.name()}`,o.slice(2)):(this.emit(`option:${l.name()}`),g.unshift(`-${o.slice(2)}`));continue}}if(/^--[^=]+=/.test(o)){const l=o.indexOf("="),p=this._findOption(o.slice(0,l));if(p&&(p.required||p.optional)){this.emit(`option:${p.name()}`,o.slice(l+1));continue}}if(maybeOption(o)&&(m=p),(this._enablePositionalOptions||this._passThroughOptions)&&0===l.length&&0===p.length){if(this._findCommand(o)){l.push(o),g.length>0&&p.push(...g);break}if(o===this._helpCommandName&&this._hasImplicitHelpCommand()){l.push(o),g.length>0&&l.push(...g);break}if(this._defaultCommandName){p.push(o),g.length>0&&p.push(...g);break}}if(this._passThroughOptions){m.push(o),g.length>0&&m.push(...g);break}m.push(o)}else this.emit(`option:${y.name()}`,o)}return{operands:l,unknown:p}}opts(){if(this._storeOptionsAsProperties){const o={},l=this.options.length;for(let p=0;p<l;p++){const l=this.options[p].attributeName();o[l]=l===this._versionOptionName?this._version:this[l]}return o}return this._optionValues}optsWithGlobals(){return this._getCommandAndAncestors().reduce((o,l)=>Object.assign(o,l.opts()),{})}error(o,l){this._outputConfiguration.outputError(`${o}\n`,this._outputConfiguration.writeErr),"string"==typeof this._showHelpAfterError?this._outputConfiguration.writeErr(`${this._showHelpAfterError}\n`):this._showHelpAfterError&&(this._outputConfiguration.writeErr("\n"),this.outputHelp({error:!0}));const p=l||{},m=p.exitCode||1,g=p.code||"commander.error";this._exit(m,g,o)}_parseOptionsEnv(){this.options.forEach(o=>{if(o.envVar&&o.envVar in process$1.env){const l=o.attributeName();(void 0===this.getOptionValue(l)||["default","config","env"].includes(this.getOptionValueSource(l)))&&(o.required||o.optional?this.emit(`optionEnv:${o.name()}`,process$1.env[o.envVar]):this.emit(`optionEnv:${o.name()}`))}})}_parseOptionsImplied(){const o=new DualOptions(this.options),hasCustomOptionValue=o=>void 0!==this.getOptionValue(o)&&!["default","implied"].includes(this.getOptionValueSource(o));this.options.filter(l=>void 0!==l.implied&&hasCustomOptionValue(l.attributeName())&&o.valueFromOption(this.getOptionValue(l.attributeName()),l)).forEach(o=>{Object.keys(o.implied).filter(o=>!hasCustomOptionValue(o)).forEach(l=>{this.setOptionValueWithSource(l,o.implied[l],"implied")})})}missingArgument(o){const l=`error: missing required argument '${o}'`;this.error(l,{code:"commander.missingArgument"})}optionMissingArgument(o){const l=`error: option '${o.flags}' argument missing`;this.error(l,{code:"commander.optionMissingArgument"})}missingMandatoryOptionValue(o){const l=`error: required option '${o.flags}' not specified`;this.error(l,{code:"commander.missingMandatoryOptionValue"})}_conflictingOption(o,l){const findBestOptionFromValue=o=>{const l=o.attributeName(),p=this.getOptionValue(l),m=this.options.find(o=>o.negate&&l===o.attributeName()),g=this.options.find(o=>!o.negate&&l===o.attributeName());return m&&(void 0===m.presetArg&&!1===p||void 0!==m.presetArg&&p===m.presetArg)?m:g||o},getErrorMessage=o=>{const l=findBestOptionFromValue(o),p=l.attributeName();return"env"===this.getOptionValueSource(p)?`environment variable '${l.envVar}'`:`option '${l.flags}'`},p=`error: ${getErrorMessage(o)} cannot be used with ${getErrorMessage(l)}`;this.error(p,{code:"commander.conflictingOption"})}unknownOption(o){if(this._allowUnknownOption)return;let l="";if(o.startsWith("--")&&this._showSuggestionAfterError){let p=[],m=this;do{const o=m.createHelp().visibleOptions(m).filter(o=>o.long).map(o=>o.long);p=p.concat(o),m=m.parent}while(m&&!m._enablePositionalOptions);l=suggestSimilar(o,p)}const p=`error: unknown option '${o}'${l}`;this.error(p,{code:"commander.unknownOption"})}_excessArguments(o){if(this._allowExcessArguments)return;const l=this.registeredArguments.length,p=1===l?"":"s",m=`error: too many arguments${this.parent?` for '${this.name()}'`:""}. Expected ${l} argument${p} but got ${o.length}.`;this.error(m,{code:"commander.excessArguments"})}unknownCommand(){const o=this.args[0];let l="";if(this._showSuggestionAfterError){const p=[];this.createHelp().visibleCommands(this).forEach(o=>{p.push(o.name()),o.alias()&&p.push(o.alias())}),l=suggestSimilar(o,p)}const p=`error: unknown command '${o}'${l}`;this.error(p,{code:"commander.unknownCommand"})}version(o,l,p){if(void 0===o)return this._version;this._version=o,l=l||"-V, --version",p=p||"output the version number";const m=this.createOption(l,p);return this._versionOptionName=m.attributeName(),this.options.push(m),this.on("option:"+m.name(),()=>{this._outputConfiguration.writeOut(`${o}\n`),this._exit(0,"commander.version",o)}),this}description(o,l){return void 0===o&&void 0===l?this._description:(this._description=o,l&&(this._argsDescription=l),this)}summary(o){return void 0===o?this._summary:(this._summary=o,this)}alias(o){if(void 0===o)return this._aliases[0];let l=this;if(0!==this.commands.length&&this.commands[this.commands.length-1]._executableHandler&&(l=this.commands[this.commands.length-1]),o===l._name)throw new Error("Command alias can't be the same as its name");return l._aliases.push(o),this}aliases(o){return void 0===o?this._aliases:(o.forEach(o=>this.alias(o)),this)}usage(o){if(void 0===o){if(this._usage)return this._usage;const o=this.registeredArguments.map(o=>humanReadableArgName(o));return[].concat(this.options.length||this._hasHelpOption?"[options]":[],this.commands.length?"[command]":[],this.registeredArguments.length?o:[]).join(" ")}return this._usage=o,this}name(o){return void 0===o?this._name:(this._name=o,this)}nameFromFilename(o){return this._name=path$h.basename(o,path$h.extname(o)),this}executableDir(o){return void 0===o?this._executableDir:(this._executableDir=o,this)}helpInformation(o){const l=this.createHelp();return void 0===l.helpWidth&&(l.helpWidth=o&&o.error?this._outputConfiguration.getErrHelpWidth():this._outputConfiguration.getOutHelpWidth()),l.formatHelp(this,l)}_getHelpContext(o){const l={error:!!(o=o||{}).error};let p;return p=l.error?o=>this._outputConfiguration.writeErr(o):o=>this._outputConfiguration.writeOut(o),l.write=o.write||p,l.command=this,l}outputHelp(o){let l;"function"==typeof o&&(l=o,o=void 0);const p=this._getHelpContext(o);this._getCommandAndAncestors().reverse().forEach(o=>o.emit("beforeAllHelp",p)),this.emit("beforeHelp",p);let m=this.helpInformation(p);if(l&&(m=l(m),"string"!=typeof m&&!Buffer.isBuffer(m)))throw new Error("outputHelp callback must return a string or a Buffer");p.write(m),this._helpLongFlag&&this.emit(this._helpLongFlag),this.emit("afterHelp",p),this._getCommandAndAncestors().forEach(o=>o.emit("afterAllHelp",p))}helpOption(o,l){if("boolean"==typeof o)return this._hasHelpOption=o,this;this._helpFlags=o||this._helpFlags,this._helpDescription=l||this._helpDescription;const p=splitOptionFlags(this._helpFlags);return this._helpShortFlag=p.shortFlag,this._helpLongFlag=p.longFlag,this}help(o){this.outputHelp(o);let l=process$1.exitCode||0;0===l&&o&&"function"!=typeof o&&o.error&&(l=1),this._exit(l,"commander.help","(outputHelp)")}addHelpText(o,l){const p=["beforeAll","before","after","afterAll"];if(!p.includes(o))throw new Error(`Unexpected value for position to addHelpText.\nExpecting one of '${p.join("', '")}'`);const m=`${o}Help`;return this.on(m,o=>{let p;p="function"==typeof l?l({error:o.error,command:o.command}):l,p&&o.write(`${p}\n`)}),this}};function outputHelpIfRequested(o,l){o._hasHelpOption&&l.find(l=>l===o._helpLongFlag||l===o._helpShortFlag)&&(o.outputHelp(),o._exit(0,"commander.helpDisplayed","(outputHelp)"))}function incrementNodeInspectorPort(o){return o.map(o=>{if(!o.startsWith("--inspect"))return o;let l,p,m="127.0.0.1",g="9229";return null!==(p=o.match(/^(--inspect(-brk)?)$/))?l=p[1]:null!==(p=o.match(/^(--inspect(-brk|-port)?)=([^:]+)$/))?(l=p[1],/^\d+$/.test(p[3])?g=p[3]:m=p[3]):null!==(p=o.match(/^(--inspect(-brk|-port)?)=([^:]+):(\d+)$/))&&(l=p[1],m=p[3],g=p[4]),l&&"0"!==g?`${l}=${m}:${parseInt(g)+1}`:o})}command.Command=Command$1,function(o,l){const{Argument:p}=argument,{Command:m}=command,{CommanderError:g,InvalidArgumentError:y}=error$2,{Help:_}=help,{Option:b}=option;(l=o.exports=new m).program=l,l.Command=m,l.Option=b,l.Argument=p,l.Help=_,l.CommanderError=g,l.InvalidArgumentError=y,l.InvalidOptionArgumentError=y}(commander,commander.exports);var commanderExports=commander.exports,ansiStyles$1={exports:{}},colorName,hasRequiredColorName,conversions,hasRequiredConversions,route,hasRequiredRoute,colorConvert,hasRequiredColorConvert;function requireColorName(){return hasRequiredColorName?colorName:(hasRequiredColorName=1,colorName={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]})}function requireConversions(){if(hasRequiredConversions)return conversions;hasRequiredConversions=1;const o=requireColorName(),l={};for(const p of Object.keys(o))l[o[p]]=p;const p={rgb:{channels:3,labels:"rgb"},hsl:{channels:3,labels:"hsl"},hsv:{channels:3,labels:"hsv"},hwb:{channels:3,labels:"hwb"},cmyk:{channels:4,labels:"cmyk"},xyz:{channels:3,labels:"xyz"},lab:{channels:3,labels:"lab"},lch:{channels:3,labels:"lch"},hex:{channels:1,labels:["hex"]},keyword:{channels:1,labels:["keyword"]},ansi16:{channels:1,labels:["ansi16"]},ansi256:{channels:1,labels:["ansi256"]},hcg:{channels:3,labels:["h","c","g"]},apple:{channels:3,labels:["r16","g16","b16"]},gray:{channels:1,labels:["gray"]}};conversions=p;for(const o of Object.keys(p)){if(!("channels"in p[o]))throw new Error("missing channels property: "+o);if(!("labels"in p[o]))throw new Error("missing channel labels property: "+o);if(p[o].labels.length!==p[o].channels)throw new Error("channel and label counts mismatch: "+o);const{channels:l,labels:m}=p[o];delete p[o].channels,delete p[o].labels,Object.defineProperty(p[o],"channels",{value:l}),Object.defineProperty(p[o],"labels",{value:m})}function comparativeDistance(o,l){return(o[0]-l[0])**2+(o[1]-l[1])**2+(o[2]-l[2])**2}return p.rgb.hsl=function(o){const l=o[0]/255,p=o[1]/255,m=o[2]/255,g=Math.min(l,p,m),y=Math.max(l,p,m),_=y-g;let b,S;y===g?b=0:l===y?b=(p-m)/_:p===y?b=2+(m-l)/_:m===y&&(b=4+(l-p)/_),b=Math.min(60*b,360),b<0&&(b+=360);const A=(g+y)/2;return S=y===g?0:A<=.5?_/(y+g):_/(2-y-g),[b,100*S,100*A]},p.rgb.hsv=function(o){let l,p,m,g,y;const _=o[0]/255,b=o[1]/255,S=o[2]/255,A=Math.max(_,b,S),T=A-Math.min(_,b,S),diffc=function(o){return(A-o)/6/T+.5};return 0===T?(g=0,y=0):(y=T/A,l=diffc(_),p=diffc(b),m=diffc(S),_===A?g=m-p:b===A?g=1/3+l-m:S===A&&(g=2/3+p-l),g<0?g+=1:g>1&&(g-=1)),[360*g,100*y,100*A]},p.rgb.hwb=function(o){const l=o[0],m=o[1];let g=o[2];const y=p.rgb.hsl(o)[0],_=1/255*Math.min(l,Math.min(m,g));return g=1-1/255*Math.max(l,Math.max(m,g)),[y,100*_,100*g]},p.rgb.cmyk=function(o){const l=o[0]/255,p=o[1]/255,m=o[2]/255,g=Math.min(1-l,1-p,1-m);return[100*((1-l-g)/(1-g)||0),100*((1-p-g)/(1-g)||0),100*((1-m-g)/(1-g)||0),100*g]},p.rgb.keyword=function(p){const m=l[p];if(m)return m;let g,y=1/0;for(const l of Object.keys(o)){const m=comparativeDistance(p,o[l]);m<y&&(y=m,g=l)}return g},p.keyword.rgb=function(l){return o[l]},p.rgb.xyz=function(o){let l=o[0]/255,p=o[1]/255,m=o[2]/255;l=l>.04045?((l+.055)/1.055)**2.4:l/12.92,p=p>.04045?((p+.055)/1.055)**2.4:p/12.92,m=m>.04045?((m+.055)/1.055)**2.4:m/12.92;return[100*(.4124*l+.3576*p+.1805*m),100*(.2126*l+.7152*p+.0722*m),100*(.0193*l+.1192*p+.9505*m)]},p.rgb.lab=function(o){const l=p.rgb.xyz(o);let m=l[0],g=l[1],y=l[2];m/=95.047,g/=100,y/=108.883,m=m>.008856?m**(1/3):7.787*m+16/116,g=g>.008856?g**(1/3):7.787*g+16/116,y=y>.008856?y**(1/3):7.787*y+16/116;return[116*g-16,500*(m-g),200*(g-y)]},p.hsl.rgb=function(o){const l=o[0]/360,p=o[1]/100,m=o[2]/100;let g,y,_;if(0===p)return _=255*m,[_,_,_];g=m<.5?m*(1+p):m+p-m*p;const b=2*m-g,S=[0,0,0];for(let o=0;o<3;o++)y=l+1/3*-(o-1),y<0&&y++,y>1&&y--,_=6*y<1?b+6*(g-b)*y:2*y<1?g:3*y<2?b+(g-b)*(2/3-y)*6:b,S[o]=255*_;return S},p.hsl.hsv=function(o){const l=o[0];let p=o[1]/100,m=o[2]/100,g=p;const y=Math.max(m,.01);m*=2,p*=m<=1?m:2-m,g*=y<=1?y:2-y;return[l,100*(0===m?2*g/(y+g):2*p/(m+p)),100*((m+p)/2)]},p.hsv.rgb=function(o){const l=o[0]/60,p=o[1]/100;let m=o[2]/100;const g=Math.floor(l)%6,y=l-Math.floor(l),_=255*m*(1-p),b=255*m*(1-p*y),S=255*m*(1-p*(1-y));switch(m*=255,g){case 0:return[m,S,_];case 1:return[b,m,_];case 2:return[_,m,S];case 3:return[_,b,m];case 4:return[S,_,m];case 5:return[m,_,b]}},p.hsv.hsl=function(o){const l=o[0],p=o[1]/100,m=o[2]/100,g=Math.max(m,.01);let y,_;_=(2-p)*m;const b=(2-p)*g;return y=p*g,y/=b<=1?b:2-b,y=y||0,_/=2,[l,100*y,100*_]},p.hwb.rgb=function(o){const l=o[0]/360;let p=o[1]/100,m=o[2]/100;const g=p+m;let y;g>1&&(p/=g,m/=g);const _=Math.floor(6*l),b=1-m;y=6*l-_,1&_&&(y=1-y);const S=p+y*(b-p);let A,T,w;switch(_){default:case 6:case 0:A=b,T=S,w=p;break;case 1:A=S,T=b,w=p;break;case 2:A=p,T=b,w=S;break;case 3:A=p,T=S,w=b;break;case 4:A=S,T=p,w=b;break;case 5:A=b,T=p,w=S}return[255*A,255*T,255*w]},p.cmyk.rgb=function(o){const l=o[0]/100,p=o[1]/100,m=o[2]/100,g=o[3]/100;return[255*(1-Math.min(1,l*(1-g)+g)),255*(1-Math.min(1,p*(1-g)+g)),255*(1-Math.min(1,m*(1-g)+g))]},p.xyz.rgb=function(o){const l=o[0]/100,p=o[1]/100,m=o[2]/100;let g,y,_;return g=3.2406*l+-1.5372*p+-.4986*m,y=-.9689*l+1.8758*p+.0415*m,_=.0557*l+-.204*p+1.057*m,g=g>.0031308?1.055*g**(1/2.4)-.055:12.92*g,y=y>.0031308?1.055*y**(1/2.4)-.055:12.92*y,_=_>.0031308?1.055*_**(1/2.4)-.055:12.92*_,g=Math.min(Math.max(0,g),1),y=Math.min(Math.max(0,y),1),_=Math.min(Math.max(0,_),1),[255*g,255*y,255*_]},p.xyz.lab=function(o){let l=o[0],p=o[1],m=o[2];l/=95.047,p/=100,m/=108.883,l=l>.008856?l**(1/3):7.787*l+16/116,p=p>.008856?p**(1/3):7.787*p+16/116,m=m>.008856?m**(1/3):7.787*m+16/116;return[116*p-16,500*(l-p),200*(p-m)]},p.lab.xyz=function(o){let l,p,m;p=(o[0]+16)/116,l=o[1]/500+p,m=p-o[2]/200;const g=p**3,y=l**3,_=m**3;return p=g>.008856?g:(p-16/116)/7.787,l=y>.008856?y:(l-16/116)/7.787,m=_>.008856?_:(m-16/116)/7.787,l*=95.047,p*=100,m*=108.883,[l,p,m]},p.lab.lch=function(o){const l=o[0],p=o[1],m=o[2];let g;g=360*Math.atan2(m,p)/2/Math.PI,g<0&&(g+=360);return[l,Math.sqrt(p*p+m*m),g]},p.lch.lab=function(o){const l=o[0],p=o[1],m=o[2]/360*2*Math.PI;return[l,p*Math.cos(m),p*Math.sin(m)]},p.rgb.ansi16=function(o,l=null){const[m,g,y]=o;let _=null===l?p.rgb.hsv(o)[2]:l;if(_=Math.round(_/50),0===_)return 30;let b=30+(Math.round(y/255)<<2|Math.round(g/255)<<1|Math.round(m/255));return 2===_&&(b+=60),b},p.hsv.ansi16=function(o){return p.rgb.ansi16(p.hsv.rgb(o),o[2])},p.rgb.ansi256=function(o){const l=o[0],p=o[1],m=o[2];if(l===p&&p===m)return l<8?16:l>248?231:Math.round((l-8)/247*24)+232;return 16+36*Math.round(l/255*5)+6*Math.round(p/255*5)+Math.round(m/255*5)},p.ansi16.rgb=function(o){let l=o%10;if(0===l||7===l)return o>50&&(l+=3.5),l=l/10.5*255,[l,l,l];const p=.5*(1+~~(o>50));return[(1&l)*p*255,(l>>1&1)*p*255,(l>>2&1)*p*255]},p.ansi256.rgb=function(o){if(o>=232){const l=10*(o-232)+8;return[l,l,l]}let l;o-=16;return[Math.floor(o/36)/5*255,Math.floor((l=o%36)/6)/5*255,l%6/5*255]},p.rgb.hex=function(o){const l=(((255&Math.round(o[0]))<<16)+((255&Math.round(o[1]))<<8)+(255&Math.round(o[2]))).toString(16).toUpperCase();return"000000".substring(l.length)+l},p.hex.rgb=function(o){const l=o.toString(16).match(/[a-f0-9]{6}|[a-f0-9]{3}/i);if(!l)return[0,0,0];let p=l[0];3===l[0].length&&(p=p.split("").map(o=>o+o).join(""));const m=parseInt(p,16);return[m>>16&255,m>>8&255,255&m]},p.rgb.hcg=function(o){const l=o[0]/255,p=o[1]/255,m=o[2]/255,g=Math.max(Math.max(l,p),m),y=Math.min(Math.min(l,p),m),_=g-y;let b,S;return b=_<1?y/(1-_):0,S=_<=0?0:g===l?(p-m)/_%6:g===p?2+(m-l)/_:4+(l-p)/_,S/=6,S%=1,[360*S,100*_,100*b]},p.hsl.hcg=function(o){const l=o[1]/100,p=o[2]/100,m=p<.5?2*l*p:2*l*(1-p);let g=0;return m<1&&(g=(p-.5*m)/(1-m)),[o[0],100*m,100*g]},p.hsv.hcg=function(o){const l=o[1]/100,p=o[2]/100,m=l*p;let g=0;return m<1&&(g=(p-m)/(1-m)),[o[0],100*m,100*g]},p.hcg.rgb=function(o){const l=o[0]/360,p=o[1]/100,m=o[2]/100;if(0===p)return[255*m,255*m,255*m];const g=[0,0,0],y=l%1*6,_=y%1,b=1-_;let S=0;switch(Math.floor(y)){case 0:g[0]=1,g[1]=_,g[2]=0;break;case 1:g[0]=b,g[1]=1,g[2]=0;break;case 2:g[0]=0,g[1]=1,g[2]=_;break;case 3:g[0]=0,g[1]=b,g[2]=1;break;case 4:g[0]=_,g[1]=0,g[2]=1;break;default:g[0]=1,g[1]=0,g[2]=b}return S=(1-p)*m,[255*(p*g[0]+S),255*(p*g[1]+S),255*(p*g[2]+S)]},p.hcg.hsv=function(o){const l=o[1]/100,p=l+o[2]/100*(1-l);let m=0;return p>0&&(m=l/p),[o[0],100*m,100*p]},p.hcg.hsl=function(o){const l=o[1]/100,p=o[2]/100*(1-l)+.5*l;let m=0;return p>0&&p<.5?m=l/(2*p):p>=.5&&p<1&&(m=l/(2*(1-p))),[o[0],100*m,100*p]},p.hcg.hwb=function(o){const l=o[1]/100,p=l+o[2]/100*(1-l);return[o[0],100*(p-l),100*(1-p)]},p.hwb.hcg=function(o){const l=o[1]/100,p=1-o[2]/100,m=p-l;let g=0;return m<1&&(g=(p-m)/(1-m)),[o[0],100*m,100*g]},p.apple.rgb=function(o){return[o[0]/65535*255,o[1]/65535*255,o[2]/65535*255]},p.rgb.apple=function(o){return[o[0]/255*65535,o[1]/255*65535,o[2]/255*65535]},p.gray.rgb=function(o){return[o[0]/100*255,o[0]/100*255,o[0]/100*255]},p.gray.hsl=function(o){return[0,0,o[0]]},p.gray.hsv=p.gray.hsl,p.gray.hwb=function(o){return[0,100,o[0]]},p.gray.cmyk=function(o){return[0,0,0,o[0]]},p.gray.lab=function(o){return[o[0],0,0]},p.gray.hex=function(o){const l=255&Math.round(o[0]/100*255),p=((l<<16)+(l<<8)+l).toString(16).toUpperCase();return"000000".substring(p.length)+p},p.rgb.gray=function(o){return[(o[0]+o[1]+o[2])/3/255*100]},conversions}function requireRoute(){if(hasRequiredRoute)return route;hasRequiredRoute=1;const o=requireConversions();function deriveBFS(l){const p=function(){const l={},p=Object.keys(o);for(let o=p.length,m=0;m<o;m++)l[p[m]]={distance:-1,parent:null};return l}(),m=[l];for(p[l].distance=0;m.length;){const l=m.pop(),g=Object.keys(o[l]);for(let o=g.length,y=0;y<o;y++){const o=g[y],_=p[o];-1===_.distance&&(_.distance=p[l].distance+1,_.parent=l,m.unshift(o))}}return p}function link(o,l){return function(p){return l(o(p))}}function wrapConversion(l,p){const m=[p[l].parent,l];let g=o[p[l].parent][l],y=p[l].parent;for(;p[y].parent;)m.unshift(p[y].parent),g=link(o[p[y].parent][y],g),y=p[y].parent;return g.conversion=m,g}return route=function(o){const l=deriveBFS(o),p={},m=Object.keys(l);for(let o=m.length,g=0;g<o;g++){const o=m[g];null!==l[o].parent&&(p[o]=wrapConversion(o,l))}return p},route}function requireColorConvert(){if(hasRequiredColorConvert)return colorConvert;hasRequiredColorConvert=1;const o=requireConversions(),l=requireRoute(),p={};return Object.keys(o).forEach(m=>{p[m]={},Object.defineProperty(p[m],"channels",{value:o[m].channels}),Object.defineProperty(p[m],"labels",{value:o[m].labels});const g=l(m);Object.keys(g).forEach(o=>{const l=g[o];p[m][o]=function(o){const wrappedFn=function(...l){const p=l[0];if(null==p)return p;p.length>1&&(l=p);const m=o(l);if("object"==typeof m)for(let o=m.length,l=0;l<o;l++)m[l]=Math.round(m[l]);return m};return"conversion"in o&&(wrappedFn.conversion=o.conversion),wrappedFn}(l),p[m][o].raw=function(o){const wrappedFn=function(...l){const p=l[0];return null==p?p:(p.length>1&&(l=p),o(l))};return"conversion"in o&&(wrappedFn.conversion=o.conversion),wrappedFn}(l)})}),colorConvert=p}ansiStyles$1.exports,function(o){const wrapAnsi16=(o,l)=>(...p)=>`[${o(...p)+l}m`,wrapAnsi256=(o,l)=>(...p)=>{const m=o(...p);return`[${38+l};5;${m}m`},wrapAnsi16m=(o,l)=>(...p)=>{const m=o(...p);return`[${38+l};2;${m[0]};${m[1]};${m[2]}m`},ansi2ansi=o=>o,rgb2rgb=(o,l,p)=>[o,l,p],setLazyProperty=(o,l,p)=>{Object.defineProperty(o,l,{get:()=>{const m=p();return Object.defineProperty(o,l,{value:m,enumerable:!0,configurable:!0}),m},enumerable:!0,configurable:!0})};let l;const makeDynamicStyles=(o,p,m,g)=>{void 0===l&&(l=requireColorConvert());const y=g?10:0,_={};for(const[g,b]of Object.entries(l)){const l="ansi16"===g?"ansi":g;g===p?_[l]=o(m,y):"object"==typeof b&&(_[l]=o(b[p],y))}return _};Object.defineProperty(o,"exports",{enumerable:!0,get:function(){const o=new Map,l={modifier:{reset:[0,0],bold:[1,22],dim:[2,22],italic:[3,23],underline:[4,24],inverse:[7,27],hidden:[8,28],strikethrough:[9,29]},color:{black:[30,39],red:[31,39],green:[32,39],yellow:[33,39],blue:[34,39],magenta:[35,39],cyan:[36,39],white:[37,39],blackBright:[90,39],redBright:[91,39],greenBright:[92,39],yellowBright:[93,39],blueBright:[94,39],magentaBright:[95,39],cyanBright:[96,39],whiteBright:[97,39]},bgColor:{bgBlack:[40,49],bgRed:[41,49],bgGreen:[42,49],bgYellow:[43,49],bgBlue:[44,49],bgMagenta:[45,49],bgCyan:[46,49],bgWhite:[47,49],bgBlackBright:[100,49],bgRedBright:[101,49],bgGreenBright:[102,49],bgYellowBright:[103,49],bgBlueBright:[104,49],bgMagentaBright:[105,49],bgCyanBright:[106,49],bgWhiteBright:[107,49]}};l.color.gray=l.color.blackBright,l.bgColor.bgGray=l.bgColor.bgBlackBright,l.color.grey=l.color.blackBright,l.bgColor.bgGrey=l.bgColor.bgBlackBright;for(const[p,m]of Object.entries(l)){for(const[p,g]of Object.entries(m))l[p]={open:`[${g[0]}m`,close:`[${g[1]}m`},m[p]=l[p],o.set(g[0],g[1]);Object.defineProperty(l,p,{value:m,enumerable:!1})}return Object.defineProperty(l,"codes",{value:o,enumerable:!1}),l.color.close="[39m",l.bgColor.close="[49m",setLazyProperty(l.color,"ansi",()=>makeDynamicStyles(wrapAnsi16,"ansi16",ansi2ansi,!1)),setLazyProperty(l.color,"ansi256",()=>makeDynamicStyles(wrapAnsi256,"ansi256",ansi2ansi,!1)),setLazyProperty(l.color,"ansi16m",()=>makeDynamicStyles(wrapAnsi16m,"rgb",rgb2rgb,!1)),setLazyProperty(l.bgColor,"ansi",()=>makeDynamicStyles(wrapAnsi16,"ansi16",ansi2ansi,!0)),setLazyProperty(l.bgColor,"ansi256",()=>makeDynamicStyles(wrapAnsi256,"ansi256",ansi2ansi,!0)),setLazyProperty(l.bgColor,"ansi16m",()=>makeDynamicStyles(wrapAnsi16m,"rgb",rgb2rgb,!0)),l}})}(ansiStyles$1);var ansiStylesExports=ansiStyles$1.exports,hasFlag$1=(o,l=process.argv)=>{const p=o.startsWith("-")?"":1===o.length?"-":"--",m=l.indexOf(p+o),g=l.indexOf("--");return-1!==m&&(-1===g||m<g)};const os$2=require$$0$2,tty=require$$1$2,hasFlag=hasFlag$1,{env:env$1}=process;let forceColor;function translateLevel(o){return 0!==o&&{level:o,hasBasic:!0,has256:o>=2,has16m:o>=3}}function supportsColor(o,l){if(0===forceColor)return 0;if(hasFlag("color=16m")||hasFlag("color=full")||hasFlag("color=truecolor"))return 3;if(hasFlag("color=256"))return 2;if(!l&&void 0===forceColor)return 0;const p=forceColor||0;if("dumb"===env$1.TERM)return p;if("win32"===process.platform){const o=os$2.release().split(".");return Number(o[0])>=10&&Number(o[2])>=10586?Number(o[2])>=14931?3:2:1}if("CI"in env$1)return["TRAVIS","CIRCLECI","APPVEYOR","GITLAB_CI","GITHUB_ACTIONS","BUILDKITE"].some(o=>o in env$1)||"codeship"===env$1.CI_NAME?1:p;if("TEAMCITY_VERSION"in env$1)return/^(9\.(0*[1-9]\d*)\.|\d{2,}\.)/.test(env$1.TEAMCITY_VERSION)?1:0;if("truecolor"===env$1.COLORTERM)return 3;if("TERM_PROGRAM"in env$1){const o=parseInt((env$1.TERM_PROGRAM_VERSION||"").split(".")[0],10);switch(env$1.TERM_PROGRAM){case"iTerm.app":return o>=3?3:2;case"Apple_Terminal":return 2}}return/-256(color)?$/i.test(env$1.TERM)?2:/^screen|^xterm|^vt100|^vt220|^rxvt|color|ansi|cygwin|linux/i.test(env$1.TERM)||"COLORTERM"in env$1?1:p}hasFlag("no-color")||hasFlag("no-colors")||hasFlag("color=false")||hasFlag("color=never")?forceColor=0:(hasFlag("color")||hasFlag("colors")||hasFlag("color=true")||hasFlag("color=always"))&&(forceColor=1),"FORCE_COLOR"in env$1&&(forceColor="true"===env$1.FORCE_COLOR?1:"false"===env$1.FORCE_COLOR?0:0===env$1.FORCE_COLOR.length?1:Math.min(parseInt(env$1.FORCE_COLOR,10),3));var supportsColor_1={stdout:translateLevel(supportsColor(!0,tty.isatty(1))),stderr:translateLevel(supportsColor(!0,tty.isatty(2)))};const stringReplaceAll$1=(o,l,p)=>{let m=o.indexOf(l);if(-1===m)return o;const g=l.length;let y=0,_="";do{_+=o.substr(y,m-y)+l+p,y=m+g,m=o.indexOf(l,y)}while(-1!==m);return _+=o.substr(y),_},stringEncaseCRLFWithFirstIndex$1=(o,l,p,m)=>{let g=0,y="";do{const _="\r"===o[m-1];y+=o.substr(g,(_?m-1:m)-g)+l+(_?"\r\n":"\n")+p,g=m+1,m=o.indexOf("\n",g)}while(-1!==m);return y+=o.substr(g),y};var util$3={stringReplaceAll:stringReplaceAll$1,stringEncaseCRLFWithFirstIndex:stringEncaseCRLFWithFirstIndex$1},templates,hasRequiredTemplates;function requireTemplates(){if(hasRequiredTemplates)return templates;hasRequiredTemplates=1;const o=/(?:\\(u(?:[a-f\d]{4}|\{[a-f\d]{1,6}\})|x[a-f\d]{2}|.))|(?:\{(~)?(\w+(?:\([^)]*\))?(?:\.\w+(?:\([^)]*\))?)*)(?:[ \t]|(?=\r?\n)))|(\})|((?:.|[\r\n\f])+?)/gi,l=/(?:^|\.)(\w+)(?:\(([^)]*)\))?/g,p=/^(['"])((?:\\.|(?!\1)[^\\])*)\1$/,m=/\\(u(?:[a-f\d]{4}|{[a-f\d]{1,6}})|x[a-f\d]{2}|.)|([^\\])/gi,g=new Map([["n","\n"],["r","\r"],["t","\t"],["b","\b"],["f","\f"],["v","\v"],["0","\0"],["\\","\\"],["e",""],["a",""]]);function unescape(o){const l="u"===o[0],p="{"===o[1];return l&&!p&&5===o.length||"x"===o[0]&&3===o.length?String.fromCharCode(parseInt(o.slice(1),16)):l&&p?String.fromCodePoint(parseInt(o.slice(2,-1),16)):g.get(o)||o}function parseArguments(o,l){const g=[],y=l.trim().split(/\s*,\s*/g);let _;for(const l of y){const y=Number(l);if(Number.isNaN(y)){if(!(_=l.match(p)))throw new Error(`Invalid Chalk template style argument: ${l} (in style '${o}')`);g.push(_[2].replace(m,(o,l,p)=>l?unescape(l):p))}else g.push(y)}return g}function parseStyle(o){l.lastIndex=0;const p=[];let m;for(;null!==(m=l.exec(o));){const o=m[1];if(m[2]){const l=parseArguments(o,m[2]);p.push([o].concat(l))}else p.push([o])}return p}function buildStyle(o,l){const p={};for(const o of l)for(const l of o.styles)p[l[0]]=o.inverse?null:l.slice(1);let m=o;for(const[o,l]of Object.entries(p))if(Array.isArray(l)){if(!(o in m))throw new Error(`Unknown Chalk style: ${o}`);m=l.length>0?m[o](...l):m[o]}return m}return templates=(l,p)=>{const m=[],g=[];let y=[];if(p.replace(o,(o,p,_,b,S,A)=>{if(p)y.push(unescape(p));else if(b){const o=y.join("");y=[],g.push(0===m.length?o:buildStyle(l,m)(o)),m.push({inverse:_,styles:parseStyle(b)})}else if(S){if(0===m.length)throw new Error("Found extraneous } in Chalk template literal");g.push(buildStyle(l,m)(y.join(""))),y=[],m.pop()}else y.push(A)}),g.push(y.join("")),m.length>0){const o=`Chalk template literal is missing ${m.length} closing bracket${1===m.length?"":"s"} (\`}\`)`;throw new Error(o)}return g.join("")},templates}const ansiStyles=ansiStylesExports,{stdout:stdoutColor,stderr:stderrColor}=supportsColor_1,{stringReplaceAll:stringReplaceAll,stringEncaseCRLFWithFirstIndex:stringEncaseCRLFWithFirstIndex}=util$3,{isArray:isArray}=Array,levelMapping=["ansi","ansi","ansi256","ansi16m"],styles=Object.create(null),applyOptions=(o,l={})=>{if(l.level&&!(Number.isInteger(l.level)&&l.level>=0&&l.level<=3))throw new Error("The `level` option should be an integer from 0 to 3");const p=stdoutColor?stdoutColor.level:0;o.level=void 0===l.level?p:l.level};class ChalkClass{constructor(o){return chalkFactory(o)}}const chalkFactory=o=>{const l={};return applyOptions(l,o),l.template=(...o)=>chalkTag(l.template,...o),Object.setPrototypeOf(l,Chalk.prototype),Object.setPrototypeOf(l.template,l),l.template.constructor=()=>{throw new Error("`chalk.constructor()` is deprecated. Use `new chalk.Instance()` instead.")},l.template.Instance=ChalkClass,l.template};function Chalk(o){return chalkFactory(o)}for(const[o,l]of Object.entries(ansiStyles))styles[o]={get(){const p=createBuilder(this,createStyler(l.open,l.close,this._styler),this._isEmpty);return Object.defineProperty(this,o,{value:p}),p}};styles.visible={get(){const o=createBuilder(this,this._styler,!0);return Object.defineProperty(this,"visible",{value:o}),o}};const usedModels=["rgb","hex","keyword","hsl","hsv","hwb","ansi","ansi256"];for(const o of usedModels)styles[o]={get(){const{level:l}=this;return function(...p){const m=createStyler(ansiStyles.color[levelMapping[l]][o](...p),ansiStyles.color.close,this._styler);return createBuilder(this,m,this._isEmpty)}}};for(const o of usedModels){const l="bg"+o[0].toUpperCase()+o.slice(1);styles[l]={get(){const{level:l}=this;return function(...p){const m=createStyler(ansiStyles.bgColor[levelMapping[l]][o](...p),ansiStyles.bgColor.close,this._styler);return createBuilder(this,m,this._isEmpty)}}}}const proto=Object.defineProperties(()=>{},{...styles,level:{enumerable:!0,get(){return this._generator.level},set(o){this._generator.level=o}}}),createStyler=(o,l,p)=>{let m,g;return void 0===p?(m=o,g=l):(m=p.openAll+o,g=l+p.closeAll),{open:o,close:l,openAll:m,closeAll:g,parent:p}},createBuilder=(o,l,p)=>{const builder=(...o)=>isArray(o[0])&&isArray(o[0].raw)?applyStyle(builder,chalkTag(builder,...o)):applyStyle(builder,1===o.length?""+o[0]:o.join(" "));return Object.setPrototypeOf(builder,proto),builder._generator=o,builder._styler=l,builder._isEmpty=p,builder},applyStyle=(o,l)=>{if(o.level<=0||!l)return o._isEmpty?"":l;let p=o._styler;if(void 0===p)return l;const{openAll:m,closeAll:g}=p;if(-1!==l.indexOf(""))for(;void 0!==p;)l=stringReplaceAll(l,p.close,p.open),p=p.parent;const y=l.indexOf("\n");return-1!==y&&(l=stringEncaseCRLFWithFirstIndex(l,g,m,y)),m+l+g};let template;const chalkTag=(o,...l)=>{const[p]=l;if(!isArray(p)||!isArray(p.raw))return l.join(" ");const m=l.slice(1),g=[p.raw[0]];for(let o=1;o<p.length;o++)g.push(String(m[o-1]).replace(/[{}\\]/g,"\\$&"),String(p.raw[o]));return void 0===template&&(template=requireTemplates()),template(o,g.join(""))};Object.defineProperties(Chalk.prototype,styles);const chalk$7=Chalk();chalk$7.supportsColor=stdoutColor,chalk$7.stderr=Chalk({level:stderrColor?stderrColor.level:0}),chalk$7.stderr.supportsColor=stderrColor;var source$1=chalk$7,name="@4xian/ccapi",version$2="1.0.6",description="Claude Code settings.json中key自动配置工具，方便API_KEY、AUTH_TOKEN、多模型快速切换",require$$2$1={name:name,version:version$2,description:description};const chalk$6=source$1,packageJson$1=require$$2$1;function versionCommand$1(){console.log(chalk$6.blue(`${packageJson$1.name} v${packageJson$1.version}`)),console.log(packageJson$1.description)}var version$1=versionCommand$1,fs$k={},universalify$1={fromCallback:function(o){return Object.defineProperty(function(...l){if("function"!=typeof l[l.length-1])return new Promise((p,m)=>{l.push((o,l)=>null!=o?m(o):p(l)),o.apply(this,l)});o.apply(this,l)},"name",{value:o.name})},fromPromise:function(o){return Object.defineProperty(function(...l){const p=l[l.length-1];if("function"!=typeof p)return o.apply(this,l);l.pop(),o.apply(this,l).then(o=>p(null,o),p)},"name",{value:o.name})}},constants$2=require$$0$3,origCwd=process.cwd,cwd=null,platform=process.env.GRACEFUL_FS_PLATFORM||process.platform;process.cwd=function(){return cwd||(cwd=origCwd.call(process)),cwd};try{process.cwd()}catch(o){}if("function"==typeof process.chdir){var chdir=process.chdir;process.chdir=function(o){cwd=null,chdir.call(process,o)},Object.setPrototypeOf&&Object.setPrototypeOf(process.chdir,chdir)}var polyfills$1=patch$1;function patch$1(o){var l;function chmodFix(l){return l?function(p,m,g){return l.call(o,p,m,function(o){chownErOk(o)&&(o=null),g&&g.apply(this,arguments)})}:l}function chmodFixSync(l){return l?function(p,m){try{return l.call(o,p,m)}catch(o){if(!chownErOk(o))throw o}}:l}function chownFix(l){return l?function(p,m,g,y){return l.call(o,p,m,g,function(o){chownErOk(o)&&(o=null),y&&y.apply(this,arguments)})}:l}function chownFixSync(l){return l?function(p,m,g){try{return l.call(o,p,m,g)}catch(o){if(!chownErOk(o))throw o}}:l}function statFix(l){return l?function(p,m,g){function callback(o,l){l&&(l.uid<0&&(l.uid+=4294967296),l.gid<0&&(l.gid+=4294967296)),g&&g.apply(this,arguments)}return"function"==typeof m&&(g=m,m=null),m?l.call(o,p,m,callback):l.call(o,p,callback)}:l}function statFixSync(l){return l?function(p,m){var g=m?l.call(o,p,m):l.call(o,p);return g&&(g.uid<0&&(g.uid+=4294967296),g.gid<0&&(g.gid+=4294967296)),g}:l}function chownErOk(o){return!o||("ENOSYS"===o.code||!(process.getuid&&0===process.getuid()||"EINVAL"!==o.code&&"EPERM"!==o.code))}constants$2.hasOwnProperty("O_SYMLINK")&&process.version.match(/^v0\.6\.[0-2]|^v0\.5\./)&&function(o){o.lchmod=function(l,p,m){o.open(l,constants$2.O_WRONLY|constants$2.O_SYMLINK,p,function(l,g){l?m&&m(l):o.fchmod(g,p,function(l){o.close(g,function(o){m&&m(l||o)})})})},o.lchmodSync=function(l,p){var m,g=o.openSync(l,constants$2.O_WRONLY|constants$2.O_SYMLINK,p),y=!0;try{m=o.fchmodSync(g,p),y=!1}finally{if(y)try{o.closeSync(g)}catch(o){}else o.closeSync(g)}return m}}(o),o.lutimes||function(o){constants$2.hasOwnProperty("O_SYMLINK")&&o.futimes?(o.lutimes=function(l,p,m,g){o.open(l,constants$2.O_SYMLINK,function(l,y){l?g&&g(l):o.futimes(y,p,m,function(l){o.close(y,function(o){g&&g(l||o)})})})},o.lutimesSync=function(l,p,m){var g,y=o.openSync(l,constants$2.O_SYMLINK),_=!0;try{g=o.futimesSync(y,p,m),_=!1}finally{if(_)try{o.closeSync(y)}catch(o){}else o.closeSync(y)}return g}):o.futimes&&(o.lutimes=function(o,l,p,m){m&&process.nextTick(m)},o.lutimesSync=function(){})}(o),o.chown=chownFix(o.chown),o.fchown=chownFix(o.fchown),o.lchown=chownFix(o.lchown),o.chmod=chmodFix(o.chmod),o.fchmod=chmodFix(o.fchmod),o.lchmod=chmodFix(o.lchmod),o.chownSync=chownFixSync(o.chownSync),o.fchownSync=chownFixSync(o.fchownSync),o.lchownSync=chownFixSync(o.lchownSync),o.chmodSync=chmodFixSync(o.chmodSync),o.fchmodSync=chmodFixSync(o.fchmodSync),o.lchmodSync=chmodFixSync(o.lchmodSync),o.stat=statFix(o.stat),o.fstat=statFix(o.fstat),o.lstat=statFix(o.lstat),o.statSync=statFixSync(o.statSync),o.fstatSync=statFixSync(o.fstatSync),o.lstatSync=statFixSync(o.lstatSync),o.chmod&&!o.lchmod&&(o.lchmod=function(o,l,p){p&&process.nextTick(p)},o.lchmodSync=function(){}),o.chown&&!o.lchown&&(o.lchown=function(o,l,p,m){m&&process.nextTick(m)},o.lchownSync=function(){}),"win32"===platform&&(o.rename="function"!=typeof o.rename?o.rename:function(l){function rename(p,m,g){var y=Date.now(),_=0;l(p,m,function CB(b){if(b&&("EACCES"===b.code||"EPERM"===b.code||"EBUSY"===b.code)&&Date.now()-y<6e4)return setTimeout(function(){o.stat(m,function(o,y){o&&"ENOENT"===o.code?l(p,m,CB):g(b)})},_),void(_<100&&(_+=10));g&&g(b)})}return Object.setPrototypeOf&&Object.setPrototypeOf(rename,l),rename}(o.rename)),o.read="function"!=typeof o.read?o.read:function(l){function read(p,m,g,y,_,b){var S;if(b&&"function"==typeof b){var A=0;S=function(T,w,D){if(T&&"EAGAIN"===T.code&&A<10)return A++,l.call(o,p,m,g,y,_,S);b.apply(this,arguments)}}return l.call(o,p,m,g,y,_,S)}return Object.setPrototypeOf&&Object.setPrototypeOf(read,l),read}(o.read),o.readSync="function"!=typeof o.readSync?o.readSync:(l=o.readSync,function(p,m,g,y,_){for(var b=0;;)try{return l.call(o,p,m,g,y,_)}catch(o){if("EAGAIN"===o.code&&b<10){b++;continue}throw o}})}var Stream$2=require$$0$4.Stream,legacyStreams=legacy$1;function legacy$1(o){return{ReadStream:function ReadStream(l,p){if(!(this instanceof ReadStream))return new ReadStream(l,p);Stream$2.call(this);var m=this;this.path=l,this.fd=null,this.readable=!0,this.paused=!1,this.flags="r",this.mode=438,this.bufferSize=65536,p=p||{};for(var g=Object.keys(p),y=0,_=g.length;y<_;y++){var b=g[y];this[b]=p[b]}this.encoding&&this.setEncoding(this.encoding);if(void 0!==this.start){if("number"!=typeof this.start)throw TypeError("start must be a Number");if(void 0===this.end)this.end=1/0;else if("number"!=typeof this.end)throw TypeError("end must be a Number");if(this.start>this.end)throw new Error("start must be <= end");this.pos=this.start}if(null!==this.fd)return void process.nextTick(function(){m._read()});o.open(this.path,this.flags,this.mode,function(o,l){if(o)return m.emit("error",o),void(m.readable=!1);m.fd=l,m.emit("open",l),m._read()})},WriteStream:function WriteStream(l,p){if(!(this instanceof WriteStream))return new WriteStream(l,p);Stream$2.call(this),this.path=l,this.fd=null,this.writable=!0,this.flags="w",this.encoding="binary",this.mode=438,this.bytesWritten=0,p=p||{};for(var m=Object.keys(p),g=0,y=m.length;g<y;g++){var _=m[g];this[_]=p[_]}if(void 0!==this.start){if("number"!=typeof this.start)throw TypeError("start must be a Number");if(this.start<0)throw new Error("start must be >= zero");this.pos=this.start}this.busy=!1,this._queue=[],null===this.fd&&(this._open=o.open,this._queue.push([this._open,this.path,this.flags,this.mode,void 0]),this.flush())}}}var clone_1=clone$1,getPrototypeOf=Object.getPrototypeOf||function(o){return o.__proto__};function clone$1(o){if(null===o||"object"!=typeof o)return o;if(o instanceof Object)var l={__proto__:getPrototypeOf(o)};else l=Object.create(null);return Object.getOwnPropertyNames(o).forEach(function(p){Object.defineProperty(l,p,Object.getOwnPropertyDescriptor(o,p))}),l}var fs$j=fs$m,polyfills=polyfills$1,legacy=legacyStreams,clone=clone_1,util$2=require$$4$2,gracefulQueue,previousSymbol;function noop(){}function publishQueue(o,l){Object.defineProperty(o,gracefulQueue,{get:function(){return l}})}"function"==typeof Symbol&&"function"==typeof Symbol.for?(gracefulQueue=Symbol.for("graceful-fs.queue"),previousSymbol=Symbol.for("graceful-fs.previous")):(gracefulQueue="___graceful-fs.queue",previousSymbol="___graceful-fs.previous");var debug=noop;if(util$2.debuglog?debug=util$2.debuglog("gfs4"):/\bgfs4\b/i.test(process.env.NODE_DEBUG||"")&&(debug=function(){var o=util$2.format.apply(util$2,arguments);o="GFS4: "+o.split(/\n/).join("\nGFS4: "),console.error(o)}),!fs$j[gracefulQueue]){var queue=commonjsGlobal[gracefulQueue]||[];publishQueue(fs$j,queue),fs$j.close=function(o){function close(l,p){return o.call(fs$j,l,function(o){o||resetQueue(),"function"==typeof p&&p.apply(this,arguments)})}return Object.defineProperty(close,previousSymbol,{value:o}),close}(fs$j.close),fs$j.closeSync=function(o){function closeSync(l){o.apply(fs$j,arguments),resetQueue()}return Object.defineProperty(closeSync,previousSymbol,{value:o}),closeSync}(fs$j.closeSync),/\bgfs4\b/i.test(process.env.NODE_DEBUG||"")&&process.on("exit",function(){debug(fs$j[gracefulQueue]),require$$5.equal(fs$j[gracefulQueue].length,0)})}commonjsGlobal[gracefulQueue]||publishQueue(commonjsGlobal,fs$j[gracefulQueue]);var gracefulFs=patch(clone(fs$j)),retryTimer;function patch(o){polyfills(o),o.gracefulify=patch,o.createReadStream=function(l,p){return new o.ReadStream(l,p)},o.createWriteStream=function(l,p){return new o.WriteStream(l,p)};var l=o.readFile;o.readFile=function(o,p,m){"function"==typeof p&&(m=p,p=null);return function go$readFile(o,p,m,g){return l(o,p,function(l){!l||"EMFILE"!==l.code&&"ENFILE"!==l.code?"function"==typeof m&&m.apply(this,arguments):enqueue([go$readFile,[o,p,m],l,g||Date.now(),Date.now()])})}(o,p,m)};var p=o.writeFile;o.writeFile=function(o,l,m,g){"function"==typeof m&&(g=m,m=null);return function go$writeFile(o,l,m,g,y){return p(o,l,m,function(p){!p||"EMFILE"!==p.code&&"ENFILE"!==p.code?"function"==typeof g&&g.apply(this,arguments):enqueue([go$writeFile,[o,l,m,g],p,y||Date.now(),Date.now()])})}(o,l,m,g)};var m=o.appendFile;m&&(o.appendFile=function(o,l,p,g){"function"==typeof p&&(g=p,p=null);return function go$appendFile(o,l,p,g,y){return m(o,l,p,function(m){!m||"EMFILE"!==m.code&&"ENFILE"!==m.code?"function"==typeof g&&g.apply(this,arguments):enqueue([go$appendFile,[o,l,p,g],m,y||Date.now(),Date.now()])})}(o,l,p,g)});var g=o.copyFile;g&&(o.copyFile=function(o,l,p,m){"function"==typeof p&&(m=p,p=0);return function go$copyFile(o,l,p,m,y){return g(o,l,p,function(g){!g||"EMFILE"!==g.code&&"ENFILE"!==g.code?"function"==typeof m&&m.apply(this,arguments):enqueue([go$copyFile,[o,l,p,m],g,y||Date.now(),Date.now()])})}(o,l,p,m)});var y=o.readdir;o.readdir=function(o,l,p){"function"==typeof l&&(p=l,l=null);var m=_.test(process.version)?function(o,l,p,m){return y(o,fs$readdirCallback(o,l,p,m))}:function(o,l,p,m){return y(o,l,fs$readdirCallback(o,l,p,m))};return m(o,l,p);function fs$readdirCallback(o,l,p,g){return function(y,_){!y||"EMFILE"!==y.code&&"ENFILE"!==y.code?(_&&_.sort&&_.sort(),"function"==typeof p&&p.call(this,y,_)):enqueue([m,[o,l,p],y,g||Date.now(),Date.now()])}}};var _=/^v[0-5]\./;if("v0.8"===process.version.substr(0,4)){var b=legacy(o);ReadStream=b.ReadStream,WriteStream=b.WriteStream}var S=o.ReadStream;S&&(ReadStream.prototype=Object.create(S.prototype),ReadStream.prototype.open=function(){var o=this;open(o.path,o.flags,o.mode,function(l,p){l?(o.autoClose&&o.destroy(),o.emit("error",l)):(o.fd=p,o.emit("open",p),o.read())})});var A=o.WriteStream;A&&(WriteStream.prototype=Object.create(A.prototype),WriteStream.prototype.open=function(){var o=this;open(o.path,o.flags,o.mode,function(l,p){l?(o.destroy(),o.emit("error",l)):(o.fd=p,o.emit("open",p))})}),Object.defineProperty(o,"ReadStream",{get:function(){return ReadStream},set:function(o){ReadStream=o},enumerable:!0,configurable:!0}),Object.defineProperty(o,"WriteStream",{get:function(){return WriteStream},set:function(o){WriteStream=o},enumerable:!0,configurable:!0});var T=ReadStream;Object.defineProperty(o,"FileReadStream",{get:function(){return T},set:function(o){T=o},enumerable:!0,configurable:!0});var w=WriteStream;function ReadStream(o,l){return this instanceof ReadStream?(S.apply(this,arguments),this):ReadStream.apply(Object.create(ReadStream.prototype),arguments)}function WriteStream(o,l){return this instanceof WriteStream?(A.apply(this,arguments),this):WriteStream.apply(Object.create(WriteStream.prototype),arguments)}Object.defineProperty(o,"FileWriteStream",{get:function(){return w},set:function(o){w=o},enumerable:!0,configurable:!0});var D=o.open;function open(o,l,p,m){return"function"==typeof p&&(m=p,p=null),function go$open(o,l,p,m,g){return D(o,l,p,function(y,_){!y||"EMFILE"!==y.code&&"ENFILE"!==y.code?"function"==typeof m&&m.apply(this,arguments):enqueue([go$open,[o,l,p,m],y,g||Date.now(),Date.now()])})}(o,l,p,m)}return o.open=open,o}function enqueue(o){debug("ENQUEUE",o[0].name,o[1]),fs$j[gracefulQueue].push(o),retry()}function resetQueue(){for(var o=Date.now(),l=0;l<fs$j[gracefulQueue].length;++l)fs$j[gracefulQueue][l].length>2&&(fs$j[gracefulQueue][l][3]=o,fs$j[gracefulQueue][l][4]=o);retry()}function retry(){if(clearTimeout(retryTimer),retryTimer=void 0,0!==fs$j[gracefulQueue].length){var o=fs$j[gracefulQueue].shift(),l=o[0],p=o[1],m=o[2],g=o[3],y=o[4];if(void 0===g)debug("RETRY",l.name,p),l.apply(null,p);else if(Date.now()-g>=6e4){debug("TIMEOUT",l.name,p);var _=p.pop();"function"==typeof _&&_.call(null,m)}else{var b=Date.now()-y,S=Math.max(y-g,1);b>=Math.min(1.2*S,100)?(debug("RETRY",l.name,p),l.apply(null,p.concat([g]))):fs$j[gracefulQueue].push(o)}void 0===retryTimer&&(retryTimer=setTimeout(retry,0))}}process.env.TEST_GRACEFUL_FS_GLOBAL_PATCH&&!fs$j.__patched&&(gracefulFs=patch(fs$j),fs$j.__patched=!0),function(o){const l=universalify$1.fromCallback,p=gracefulFs,m=["access","appendFile","chmod","chown","close","copyFile","cp","fchmod","fchown","fdatasync","fstat","fsync","ftruncate","futimes","glob","lchmod","lchown","lutimes","link","lstat","mkdir","mkdtemp","open","opendir","readdir","readFile","readlink","realpath","rename","rm","rmdir","stat","statfs","symlink","truncate","unlink","utimes","writeFile"].filter(o=>"function"==typeof p[o]);Object.assign(o,p),m.forEach(m=>{o[m]=l(p[m])}),o.exists=function(o,l){return"function"==typeof l?p.exists(o,l):new Promise(l=>p.exists(o,l))},o.read=function(o,l,m,g,y,_){return"function"==typeof _?p.read(o,l,m,g,y,_):new Promise((_,b)=>{p.read(o,l,m,g,y,(o,l,p)=>{if(o)return b(o);_({bytesRead:l,buffer:p})})})},o.write=function(o,l,...m){return"function"==typeof m[m.length-1]?p.write(o,l,...m):new Promise((g,y)=>{p.write(o,l,...m,(o,l,p)=>{if(o)return y(o);g({bytesWritten:l,buffer:p})})})},o.readv=function(o,l,...m){return"function"==typeof m[m.length-1]?p.readv(o,l,...m):new Promise((g,y)=>{p.readv(o,l,...m,(o,l,p)=>{if(o)return y(o);g({bytesRead:l,buffers:p})})})},o.writev=function(o,l,...m){return"function"==typeof m[m.length-1]?p.writev(o,l,...m):new Promise((g,y)=>{p.writev(o,l,...m,(o,l,p)=>{if(o)return y(o);g({bytesWritten:l,buffers:p})})})},"function"==typeof p.realpath.native?o.realpath.native=l(p.realpath.native):process.emitWarning("fs.realpath.native is not a function. Is fs being monkey-patched?","Warning","fs-extra-WARN0003")}(fs$k);var makeDir$1={},utils$1={};const path$g=require$$1;utils$1.checkPath=function(o){if("win32"===process.platform){if(/[<>:"|?*]/.test(o.replace(path$g.parse(o).root,""))){const l=new Error(`Path contains invalid characters: ${o}`);throw l.code="EINVAL",l}}};const fs$i=fs$k,{checkPath:checkPath}=utils$1,getMode=o=>"number"==typeof o?o:{mode:511,...o}.mode;makeDir$1.makeDir=async(o,l)=>(checkPath(o),fs$i.mkdir(o,{mode:getMode(l),recursive:!0})),makeDir$1.makeDirSync=(o,l)=>(checkPath(o),fs$i.mkdirSync(o,{mode:getMode(l),recursive:!0}));const u$e=universalify$1.fromPromise,{makeDir:_makeDir,makeDirSync:makeDirSync}=makeDir$1,makeDir=u$e(_makeDir);var mkdirs$2={mkdirs:makeDir,mkdirsSync:makeDirSync,mkdirp:makeDir,mkdirpSync:makeDirSync,ensureDir:makeDir,ensureDirSync:makeDirSync};const u$d=universalify$1.fromPromise,fs$h=fs$k;function pathExists$6(o){return fs$h.access(o).then(()=>!0).catch(()=>!1)}var pathExists_1={pathExists:u$d(pathExists$6),pathExistsSync:fs$h.existsSync};const fs$g=fs$k,u$c=universalify$1.fromPromise;async function utimesMillis$1(o,l,p){const m=await fs$g.open(o,"r+");let g=null;try{await fs$g.futimes(m,l,p)}finally{try{await fs$g.close(m)}catch(o){g=o}}if(g)throw g}function utimesMillisSync$1(o,l,p){const m=fs$g.openSync(o,"r+");return fs$g.futimesSync(m,l,p),fs$g.closeSync(m)}var utimes={utimesMillis:u$c(utimesMillis$1),utimesMillisSync:utimesMillisSync$1};const fs$f=fs$k,path$f=require$$1,u$b=universalify$1.fromPromise;function getStats$1(o,l,p){const m=p.dereference?o=>fs$f.stat(o,{bigint:!0}):o=>fs$f.lstat(o,{bigint:!0});return Promise.all([m(o),m(l).catch(o=>{if("ENOENT"===o.code)return null;throw o})]).then(([o,l])=>({srcStat:o,destStat:l}))}function getStatsSync(o,l,p){let m;const g=p.dereference?o=>fs$f.statSync(o,{bigint:!0}):o=>fs$f.lstatSync(o,{bigint:!0}),y=g(o);try{m=g(l)}catch(o){if("ENOENT"===o.code)return{srcStat:y,destStat:null};throw o}return{srcStat:y,destStat:m}}async function checkPaths(o,l,p,m){const{srcStat:g,destStat:y}=await getStats$1(o,l,m);if(y){if(areIdentical$2(g,y)){const m=path$f.basename(o),_=path$f.basename(l);if("move"===p&&m!==_&&m.toLowerCase()===_.toLowerCase())return{srcStat:g,destStat:y,isChangingCase:!0};throw new Error("Source and destination must not be the same.")}if(g.isDirectory()&&!y.isDirectory())throw new Error(`Cannot overwrite non-directory '${l}' with directory '${o}'.`);if(!g.isDirectory()&&y.isDirectory())throw new Error(`Cannot overwrite directory '${l}' with non-directory '${o}'.`)}if(g.isDirectory()&&isSrcSubdir(o,l))throw new Error(errMsg(o,l,p));return{srcStat:g,destStat:y}}function checkPathsSync(o,l,p,m){const{srcStat:g,destStat:y}=getStatsSync(o,l,m);if(y){if(areIdentical$2(g,y)){const m=path$f.basename(o),_=path$f.basename(l);if("move"===p&&m!==_&&m.toLowerCase()===_.toLowerCase())return{srcStat:g,destStat:y,isChangingCase:!0};throw new Error("Source and destination must not be the same.")}if(g.isDirectory()&&!y.isDirectory())throw new Error(`Cannot overwrite non-directory '${l}' with directory '${o}'.`);if(!g.isDirectory()&&y.isDirectory())throw new Error(`Cannot overwrite directory '${l}' with non-directory '${o}'.`)}if(g.isDirectory()&&isSrcSubdir(o,l))throw new Error(errMsg(o,l,p));return{srcStat:g,destStat:y}}async function checkParentPaths(o,l,p,m){const g=path$f.resolve(path$f.dirname(o)),y=path$f.resolve(path$f.dirname(p));if(y===g||y===path$f.parse(y).root)return;let _;try{_=await fs$f.stat(y,{bigint:!0})}catch(o){if("ENOENT"===o.code)return;throw o}if(areIdentical$2(l,_))throw new Error(errMsg(o,p,m));return checkParentPaths(o,l,y,m)}function checkParentPathsSync(o,l,p,m){const g=path$f.resolve(path$f.dirname(o)),y=path$f.resolve(path$f.dirname(p));if(y===g||y===path$f.parse(y).root)return;let _;try{_=fs$f.statSync(y,{bigint:!0})}catch(o){if("ENOENT"===o.code)return;throw o}if(areIdentical$2(l,_))throw new Error(errMsg(o,p,m));return checkParentPathsSync(o,l,y,m)}function areIdentical$2(o,l){return l.ino&&l.dev&&l.ino===o.ino&&l.dev===o.dev}function isSrcSubdir(o,l){const p=path$f.resolve(o).split(path$f.sep).filter(o=>o),m=path$f.resolve(l).split(path$f.sep).filter(o=>o);return p.every((o,l)=>m[l]===o)}function errMsg(o,l,p){return`Cannot ${p} '${o}' to a subdirectory of itself, '${l}'.`}var stat$4={checkPaths:u$b(checkPaths),checkPathsSync:checkPathsSync,checkParentPaths:u$b(checkParentPaths),checkParentPathsSync:checkParentPathsSync,isSrcSubdir:isSrcSubdir,areIdentical:areIdentical$2};const fs$e=fs$k,path$e=require$$1,{mkdirs:mkdirs$1}=mkdirs$2,{pathExists:pathExists$5}=pathExists_1,{utimesMillis:utimesMillis}=utimes,stat$3=stat$4;async function copy$2(o,l,p={}){"function"==typeof p&&(p={filter:p}),p.clobber=!("clobber"in p)||!!p.clobber,p.overwrite="overwrite"in p?!!p.overwrite:p.clobber,p.preserveTimestamps&&"ia32"===process.arch&&process.emitWarning("Using the preserveTimestamps option in 32-bit node is not recommended;\n\n\tsee https://github.com/jprichardson/node-fs-extra/issues/269","Warning","fs-extra-WARN0001");const{srcStat:m,destStat:g}=await stat$3.checkPaths(o,l,"copy",p);await stat$3.checkParentPaths(o,m,l,"copy");if(!await runFilter(o,l,p))return;const y=path$e.dirname(l);await pathExists$5(y)||await mkdirs$1(y),await getStatsAndPerformCopy(g,o,l,p)}async function runFilter(o,l,p){return!p.filter||p.filter(o,l)}async function getStatsAndPerformCopy(o,l,p,m){const g=m.dereference?fs$e.stat:fs$e.lstat,y=await g(l);if(y.isDirectory())return onDir$1(y,o,l,p,m);if(y.isFile()||y.isCharacterDevice()||y.isBlockDevice())return onFile$1(y,o,l,p,m);if(y.isSymbolicLink())return onLink$1(o,l,p,m);if(y.isSocket())throw new Error(`Cannot copy a socket file: ${l}`);if(y.isFIFO())throw new Error(`Cannot copy a FIFO pipe: ${l}`);throw new Error(`Unknown file: ${l}`)}async function onFile$1(o,l,p,m,g){if(!l)return copyFile$1(o,p,m,g);if(g.overwrite)return await fs$e.unlink(m),copyFile$1(o,p,m,g);if(g.errorOnExist)throw new Error(`'${m}' already exists`)}async function copyFile$1(o,l,p,m){if(await fs$e.copyFile(l,p),m.preserveTimestamps){fileIsNotWritable$1(o.mode)&&await makeFileWritable$1(p,o.mode);const m=await fs$e.stat(l);await utimesMillis(p,m.atime,m.mtime)}return fs$e.chmod(p,o.mode)}function fileIsNotWritable$1(o){return!(128&o)}function makeFileWritable$1(o,l){return fs$e.chmod(o,128|l)}async function onDir$1(o,l,p,m,g){l||await fs$e.mkdir(m);const y=[];for await(const o of await fs$e.opendir(p)){const l=path$e.join(p,o.name),_=path$e.join(m,o.name);y.push(runFilter(l,_,g).then(o=>{if(o)return stat$3.checkPaths(l,_,"copy",g).then(({destStat:o})=>getStatsAndPerformCopy(o,l,_,g))}))}await Promise.all(y),l||await fs$e.chmod(m,o.mode)}async function onLink$1(o,l,p,m){let g=await fs$e.readlink(l);if(m.dereference&&(g=path$e.resolve(process.cwd(),g)),!o)return fs$e.symlink(g,p);let y=null;try{y=await fs$e.readlink(p)}catch(o){if("EINVAL"===o.code||"UNKNOWN"===o.code)return fs$e.symlink(g,p);throw o}if(m.dereference&&(y=path$e.resolve(process.cwd(),y)),stat$3.isSrcSubdir(g,y))throw new Error(`Cannot copy '${g}' to a subdirectory of itself, '${y}'.`);if(stat$3.isSrcSubdir(y,g))throw new Error(`Cannot overwrite '${y}' with '${g}'.`);return await fs$e.unlink(p),fs$e.symlink(g,p)}var copy_1=copy$2;const fs$d=gracefulFs,path$d=require$$1,mkdirsSync$1=mkdirs$2.mkdirsSync,utimesMillisSync=utimes.utimesMillisSync,stat$2=stat$4;function copySync$1(o,l,p){"function"==typeof p&&(p={filter:p}),(p=p||{}).clobber=!("clobber"in p)||!!p.clobber,p.overwrite="overwrite"in p?!!p.overwrite:p.clobber,p.preserveTimestamps&&"ia32"===process.arch&&process.emitWarning("Using the preserveTimestamps option in 32-bit node is not recommended;\n\n\tsee https://github.com/jprichardson/node-fs-extra/issues/269","Warning","fs-extra-WARN0002");const{srcStat:m,destStat:g}=stat$2.checkPathsSync(o,l,"copy",p);if(stat$2.checkParentPathsSync(o,m,l,"copy"),p.filter&&!p.filter(o,l))return;const y=path$d.dirname(l);return fs$d.existsSync(y)||mkdirsSync$1(y),getStats(g,o,l,p)}function getStats(o,l,p,m){const g=(m.dereference?fs$d.statSync:fs$d.lstatSync)(l);if(g.isDirectory())return onDir(g,o,l,p,m);if(g.isFile()||g.isCharacterDevice()||g.isBlockDevice())return onFile(g,o,l,p,m);if(g.isSymbolicLink())return onLink(o,l,p,m);if(g.isSocket())throw new Error(`Cannot copy a socket file: ${l}`);if(g.isFIFO())throw new Error(`Cannot copy a FIFO pipe: ${l}`);throw new Error(`Unknown file: ${l}`)}function onFile(o,l,p,m,g){return l?mayCopyFile(o,p,m,g):copyFile(o,p,m,g)}function mayCopyFile(o,l,p,m){if(m.overwrite)return fs$d.unlinkSync(p),copyFile(o,l,p,m);if(m.errorOnExist)throw new Error(`'${p}' already exists`)}function copyFile(o,l,p,m){return fs$d.copyFileSync(l,p),m.preserveTimestamps&&handleTimestamps(o.mode,l,p),setDestMode(p,o.mode)}function handleTimestamps(o,l,p){return fileIsNotWritable(o)&&makeFileWritable(p,o),setDestTimestamps(l,p)}function fileIsNotWritable(o){return!(128&o)}function makeFileWritable(o,l){return setDestMode(o,128|l)}function setDestMode(o,l){return fs$d.chmodSync(o,l)}function setDestTimestamps(o,l){const p=fs$d.statSync(o);return utimesMillisSync(l,p.atime,p.mtime)}function onDir(o,l,p,m,g){return l?copyDir(p,m,g):mkDirAndCopy(o.mode,p,m,g)}function mkDirAndCopy(o,l,p,m){return fs$d.mkdirSync(p),copyDir(l,p,m),setDestMode(p,o)}function copyDir(o,l,p){const m=fs$d.opendirSync(o);try{let g;for(;null!==(g=m.readSync());)copyDirItem(g.name,o,l,p)}finally{m.closeSync()}}function copyDirItem(o,l,p,m){const g=path$d.join(l,o),y=path$d.join(p,o);if(m.filter&&!m.filter(g,y))return;const{destStat:_}=stat$2.checkPathsSync(g,y,"copy",m);return getStats(_,g,y,m)}function onLink(o,l,p,m){let g=fs$d.readlinkSync(l);if(m.dereference&&(g=path$d.resolve(process.cwd(),g)),o){let o;try{o=fs$d.readlinkSync(p)}catch(o){if("EINVAL"===o.code||"UNKNOWN"===o.code)return fs$d.symlinkSync(g,p);throw o}if(m.dereference&&(o=path$d.resolve(process.cwd(),o)),stat$2.isSrcSubdir(g,o))throw new Error(`Cannot copy '${g}' to a subdirectory of itself, '${o}'.`);if(stat$2.isSrcSubdir(o,g))throw new Error(`Cannot overwrite '${o}' with '${g}'.`);return copyLink(g,p)}return fs$d.symlinkSync(g,p)}function copyLink(o,l){return fs$d.unlinkSync(l),fs$d.symlinkSync(o,l)}var copySync_1=copySync$1;const u$a=universalify$1.fromPromise;var copy$1={copy:u$a(copy_1),copySync:copySync_1};const fs$c=gracefulFs,u$9=universalify$1.fromCallback;function remove$2(o,l){fs$c.rm(o,{recursive:!0,force:!0},l)}function removeSync$1(o){fs$c.rmSync(o,{recursive:!0,force:!0})}var remove_1={remove:u$9(remove$2),removeSync:removeSync$1};const u$8=universalify$1.fromPromise,fs$b=fs$k,path$c=require$$1,mkdir$3=mkdirs$2,remove$1=remove_1,emptyDir=u$8(async function(o){let l;try{l=await fs$b.readdir(o)}catch{return mkdir$3.mkdirs(o)}return Promise.all(l.map(l=>remove$1.remove(path$c.join(o,l))))});function emptyDirSync(o){let l;try{l=fs$b.readdirSync(o)}catch{return mkdir$3.mkdirsSync(o)}l.forEach(l=>{l=path$c.join(o,l),remove$1.removeSync(l)})}var empty={emptyDirSync:emptyDirSync,emptydirSync:emptyDirSync,emptyDir:emptyDir,emptydir:emptyDir};const u$7=universalify$1.fromPromise,path$b=require$$1,fs$a=fs$k,mkdir$2=mkdirs$2;async function createFile$1(o){let l;try{l=await fs$a.stat(o)}catch{}if(l&&l.isFile())return;const p=path$b.dirname(o);let m=null;try{m=await fs$a.stat(p)}catch(l){if("ENOENT"===l.code)return await mkdir$2.mkdirs(p),void await fs$a.writeFile(o,"");throw l}m.isDirectory()?await fs$a.writeFile(o,""):await fs$a.readdir(p)}function createFileSync$1(o){let l;try{l=fs$a.statSync(o)}catch{}if(l&&l.isFile())return;const p=path$b.dirname(o);try{fs$a.statSync(p).isDirectory()||fs$a.readdirSync(p)}catch(o){if(!o||"ENOENT"!==o.code)throw o;mkdir$2.mkdirsSync(p)}fs$a.writeFileSync(o,"")}var file$1={createFile:u$7(createFile$1),createFileSync:createFileSync$1};const u$6=universalify$1.fromPromise,path$a=require$$1,fs$9=fs$k,mkdir$1=mkdirs$2,{pathExists:pathExists$4}=pathExists_1,{areIdentical:areIdentical$1}=stat$4;async function createLink$1(o,l){let p,m;try{p=await fs$9.lstat(l)}catch{}try{m=await fs$9.lstat(o)}catch(o){throw o.message=o.message.replace("lstat","ensureLink"),o}if(p&&areIdentical$1(m,p))return;const g=path$a.dirname(l);await pathExists$4(g)||await mkdir$1.mkdirs(g),await fs$9.link(o,l)}function createLinkSync$1(o,l){let p;try{p=fs$9.lstatSync(l)}catch{}try{const l=fs$9.lstatSync(o);if(p&&areIdentical$1(l,p))return}catch(o){throw o.message=o.message.replace("lstat","ensureLink"),o}const m=path$a.dirname(l);return fs$9.existsSync(m)||mkdir$1.mkdirsSync(m),fs$9.linkSync(o,l)}var link={createLink:u$6(createLink$1),createLinkSync:createLinkSync$1};const path$9=require$$1,fs$8=fs$k,{pathExists:pathExists$3}=pathExists_1,u$5=universalify$1.fromPromise;async function symlinkPaths$1(o,l){if(path$9.isAbsolute(o)){try{await fs$8.lstat(o)}catch(o){throw o.message=o.message.replace("lstat","ensureSymlink"),o}return{toCwd:o,toDst:o}}const p=path$9.dirname(l),m=path$9.join(p,o);if(await pathExists$3(m))return{toCwd:m,toDst:o};try{await fs$8.lstat(o)}catch(o){throw o.message=o.message.replace("lstat","ensureSymlink"),o}return{toCwd:o,toDst:path$9.relative(p,o)}}function symlinkPathsSync$1(o,l){if(path$9.isAbsolute(o)){if(!fs$8.existsSync(o))throw new Error("absolute srcpath does not exist");return{toCwd:o,toDst:o}}const p=path$9.dirname(l),m=path$9.join(p,o);if(fs$8.existsSync(m))return{toCwd:m,toDst:o};if(!fs$8.existsSync(o))throw new Error("relative srcpath does not exist");return{toCwd:o,toDst:path$9.relative(p,o)}}var symlinkPaths_1={symlinkPaths:u$5(symlinkPaths$1),symlinkPathsSync:symlinkPathsSync$1};const fs$7=fs$k,u$4=universalify$1.fromPromise;async function symlinkType$1(o,l){if(l)return l;let p;try{p=await fs$7.lstat(o)}catch{return"file"}return p&&p.isDirectory()?"dir":"file"}function symlinkTypeSync$1(o,l){if(l)return l;let p;try{p=fs$7.lstatSync(o)}catch{return"file"}return p&&p.isDirectory()?"dir":"file"}var symlinkType_1={symlinkType:u$4(symlinkType$1),symlinkTypeSync:symlinkTypeSync$1};const u$3=universalify$1.fromPromise,path$8=require$$1,fs$6=fs$k,{mkdirs:mkdirs,mkdirsSync:mkdirsSync}=mkdirs$2,{symlinkPaths:symlinkPaths,symlinkPathsSync:symlinkPathsSync}=symlinkPaths_1,{symlinkType:symlinkType,symlinkTypeSync:symlinkTypeSync}=symlinkType_1,{pathExists:pathExists$2}=pathExists_1,{areIdentical:areIdentical}=stat$4;async function createSymlink$1(o,l,p){let m;try{m=await fs$6.lstat(l)}catch{}if(m&&m.isSymbolicLink()){const[p,m]=await Promise.all([fs$6.stat(o),fs$6.stat(l)]);if(areIdentical(p,m))return}const g=await symlinkPaths(o,l);o=g.toDst;const y=await symlinkType(g.toCwd,p),_=path$8.dirname(l);return await pathExists$2(_)||await mkdirs(_),fs$6.symlink(o,l,y)}function createSymlinkSync$1(o,l,p){let m;try{m=fs$6.lstatSync(l)}catch{}if(m&&m.isSymbolicLink()){const p=fs$6.statSync(o),m=fs$6.statSync(l);if(areIdentical(p,m))return}const g=symlinkPathsSync(o,l);o=g.toDst,p=symlinkTypeSync(g.toCwd,p);const y=path$8.dirname(l);return fs$6.existsSync(y)||mkdirsSync(y),fs$6.symlinkSync(o,l,p)}var symlink={createSymlink:u$3(createSymlink$1),createSymlinkSync:createSymlinkSync$1};const{createFile:createFile,createFileSync:createFileSync}=file$1,{createLink:createLink,createLinkSync:createLinkSync}=link,{createSymlink:createSymlink,createSymlinkSync:createSymlinkSync}=symlink;var ensure={createFile:createFile,createFileSync:createFileSync,ensureFile:createFile,ensureFileSync:createFileSync,createLink:createLink,createLinkSync:createLinkSync,ensureLink:createLink,ensureLinkSync:createLinkSync,createSymlink:createSymlink,createSymlinkSync:createSymlinkSync,ensureSymlink:createSymlink,ensureSymlinkSync:createSymlinkSync};function stringify$6(o,{EOL:l="\n",finalEOL:p=!0,replacer:m=null,spaces:g}={}){const y=p?l:"";return JSON.stringify(o,m,g).replace(/\n/g,l)+y}function stripBom$1(o){return Buffer.isBuffer(o)&&(o=o.toString("utf8")),o.replace(/^\uFEFF/,"")}var utils={stringify:stringify$6,stripBom:stripBom$1};let _fs;try{_fs=gracefulFs}catch(o){_fs=fs$m}const universalify=universalify$1,{stringify:stringify$5,stripBom:stripBom}=utils;async function _readFile(o,l={}){"string"==typeof l&&(l={encoding:l});const p=l.fs||_fs,m=!("throws"in l)||l.throws;let g,y=await universalify.fromCallback(p.readFile)(o,l);y=stripBom(y);try{g=JSON.parse(y,l?l.reviver:null)}catch(l){if(m)throw l.message=`${o}: ${l.message}`,l;return null}return g}const readFile$1=universalify.fromPromise(_readFile);function readFileSync(o,l={}){"string"==typeof l&&(l={encoding:l});const p=l.fs||_fs,m=!("throws"in l)||l.throws;try{let m=p.readFileSync(o,l);return m=stripBom(m),JSON.parse(m,l.reviver)}catch(l){if(m)throw l.message=`${o}: ${l.message}`,l;return null}}async function _writeFile(o,l,p={}){const m=p.fs||_fs,g=stringify$5(l,p);await universalify.fromCallback(m.writeFile)(o,g,p)}const writeFile$1=universalify.fromPromise(_writeFile);function writeFileSync(o,l,p={}){const m=p.fs||_fs,g=stringify$5(l,p);return m.writeFileSync(o,g,p)}const jsonfile$1={readFile:readFile$1,readFileSync:readFileSync,writeFile:writeFile$1,writeFileSync:writeFileSync};var jsonfile_1=jsonfile$1;const jsonFile$1=jsonfile_1;var jsonfile={readJson:jsonFile$1.readFile,readJsonSync:jsonFile$1.readFileSync,writeJson:jsonFile$1.writeFile,writeJsonSync:jsonFile$1.writeFileSync};const u$2=universalify$1.fromPromise,fs$5=fs$k,path$7=require$$1,mkdir=mkdirs$2,pathExists$1=pathExists_1.pathExists;async function outputFile$1(o,l,p="utf-8"){const m=path$7.dirname(o);return await pathExists$1(m)||await mkdir.mkdirs(m),fs$5.writeFile(o,l,p)}function outputFileSync$1(o,...l){const p=path$7.dirname(o);fs$5.existsSync(p)||mkdir.mkdirsSync(p),fs$5.writeFileSync(o,...l)}var outputFile_1={outputFile:u$2(outputFile$1),outputFileSync:outputFileSync$1};const{stringify:stringify$4}=utils,{outputFile:outputFile}=outputFile_1;async function outputJson(o,l,p={}){const m=stringify$4(l,p);await outputFile(o,m,p)}var outputJson_1=outputJson;const{stringify:stringify$3}=utils,{outputFileSync:outputFileSync}=outputFile_1;function outputJsonSync(o,l,p){const m=stringify$3(l,p);outputFileSync(o,m,p)}var outputJsonSync_1=outputJsonSync;const u$1=universalify$1.fromPromise,jsonFile=jsonfile;jsonFile.outputJson=u$1(outputJson_1),jsonFile.outputJsonSync=outputJsonSync_1,jsonFile.outputJSON=jsonFile.outputJson,jsonFile.outputJSONSync=jsonFile.outputJsonSync,jsonFile.writeJSON=jsonFile.writeJson,jsonFile.writeJSONSync=jsonFile.writeJsonSync,jsonFile.readJSON=jsonFile.readJson,jsonFile.readJSONSync=jsonFile.readJsonSync;var json$1=jsonFile;const fs$4=fs$k,path$6=require$$1,{copy:copy}=copy$1,{remove:remove}=remove_1,{mkdirp:mkdirp}=mkdirs$2,{pathExists:pathExists}=pathExists_1,stat$1=stat$4;async function move$1(o,l,p={}){const m=p.overwrite||p.clobber||!1,{srcStat:g,isChangingCase:y=!1}=await stat$1.checkPaths(o,l,"move",p);await stat$1.checkParentPaths(o,g,l,"move");const _=path$6.dirname(l);return path$6.parse(_).root!==_&&await mkdirp(_),doRename$1(o,l,m,y)}async function doRename$1(o,l,p,m){if(!m)if(p)await remove(l);else if(await pathExists(l))throw new Error("dest already exists.");try{await fs$4.rename(o,l)}catch(m){if("EXDEV"!==m.code)throw m;await moveAcrossDevice$1(o,l,p)}}async function moveAcrossDevice$1(o,l,p){const m={overwrite:p,errorOnExist:!0,preserveTimestamps:!0};return await copy(o,l,m),remove(o)}var move_1=move$1;const fs$3=gracefulFs,path$5=require$$1,copySync=copy$1.copySync,removeSync=remove_1.removeSync,mkdirpSync=mkdirs$2.mkdirpSync,stat=stat$4;function moveSync(o,l,p){const m=(p=p||{}).overwrite||p.clobber||!1,{srcStat:g,isChangingCase:y=!1}=stat.checkPathsSync(o,l,"move",p);return stat.checkParentPathsSync(o,g,l,"move"),isParentRoot(l)||mkdirpSync(path$5.dirname(l)),doRename(o,l,m,y)}function isParentRoot(o){const l=path$5.dirname(o);return path$5.parse(l).root===l}function doRename(o,l,p,m){if(m)return rename(o,l,p);if(p)return removeSync(l),rename(o,l,p);if(fs$3.existsSync(l))throw new Error("dest already exists.");return rename(o,l,p)}function rename(o,l,p){try{fs$3.renameSync(o,l)}catch(m){if("EXDEV"!==m.code)throw m;return moveAcrossDevice(o,l,p)}}function moveAcrossDevice(o,l,p){return copySync(o,l,{overwrite:p,errorOnExist:!0,preserveTimestamps:!0}),removeSync(o)}var moveSync_1=moveSync;const u=universalify$1.fromPromise;var move={move:u(move_1),moveSync:moveSync_1},lib$1={...fs$k,...copy$1,...empty,...ensure,...json$1,...mkdirs$2,...move,...outputFile_1,...pathExists_1,...remove_1},Space_Separator=/[\u1680\u2000-\u200A\u202F\u205F\u3000]/,ID_Start=/[\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA\u05F0-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u08A0-\u08B4\u08B6-\u08BD\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1877\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1CE9-\u1CEC\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312E\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FEA\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA7AE\uA7B0-\uA7B7\uA7F7-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB65\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD40-\uDD74\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF4A\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE33\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2]|\uD804[\uDC03-\uDC37\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDF00-\uDF19]|\uD806[\uDCA0-\uDCDF\uDCFF\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE83\uDE86-\uDE89\uDEC0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|[\uD80C\uD81C-\uD820\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDF00-\uDF44\uDF50\uDF93-\uDF9F\uDFE0\uDFE1]|\uD821[\uDC00-\uDFEC]|\uD822[\uDC00-\uDEF2]|\uD82C[\uDC00-\uDD1E\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDED6\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF34\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]/,ID_Continue=/[\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0300-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u0483-\u0487\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u05D0-\u05EA\u05F0-\u05F2\u0610-\u061A\u0620-\u0669\u066E-\u06D3\u06D5-\u06DC\u06DF-\u06E8\u06EA-\u06FC\u06FF\u0710-\u074A\u074D-\u07B1\u07C0-\u07F5\u07FA\u0800-\u082D\u0840-\u085B\u0860-\u086A\u08A0-\u08B4\u08B6-\u08BD\u08D4-\u08E1\u08E3-\u0963\u0966-\u096F\u0971-\u0983\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BC-\u09C4\u09C7\u09C8\u09CB-\u09CE\u09D7\u09DC\u09DD\u09DF-\u09E3\u09E6-\u09F1\u09FC\u0A01-\u0A03\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A59-\u0A5C\u0A5E\u0A66-\u0A75\u0A81-\u0A83\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABC-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AD0\u0AE0-\u0AE3\u0AE6-\u0AEF\u0AF9-\u0AFF\u0B01-\u0B03\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3C-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B56\u0B57\u0B5C\u0B5D\u0B5F-\u0B63\u0B66-\u0B6F\u0B71\u0B82\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD0\u0BD7\u0BE6-\u0BEF\u0C00-\u0C03\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C58-\u0C5A\u0C60-\u0C63\u0C66-\u0C6F\u0C80-\u0C83\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBC-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CDE\u0CE0-\u0CE3\u0CE6-\u0CEF\u0CF1\u0CF2\u0D00-\u0D03\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D44\u0D46-\u0D48\u0D4A-\u0D4E\u0D54-\u0D57\u0D5F-\u0D63\u0D66-\u0D6F\u0D7A-\u0D7F\u0D82\u0D83\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DE6-\u0DEF\u0DF2\u0DF3\u0E01-\u0E3A\u0E40-\u0E4E\u0E50-\u0E59\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB9\u0EBB-\u0EBD\u0EC0-\u0EC4\u0EC6\u0EC8-\u0ECD\u0ED0-\u0ED9\u0EDC-\u0EDF\u0F00\u0F18\u0F19\u0F20-\u0F29\u0F35\u0F37\u0F39\u0F3E-\u0F47\u0F49-\u0F6C\u0F71-\u0F84\u0F86-\u0F97\u0F99-\u0FBC\u0FC6\u1000-\u1049\u1050-\u109D\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u135D-\u135F\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1714\u1720-\u1734\u1740-\u1753\u1760-\u176C\u176E-\u1770\u1772\u1773\u1780-\u17D3\u17D7\u17DC\u17DD\u17E0-\u17E9\u180B-\u180D\u1810-\u1819\u1820-\u1877\u1880-\u18AA\u18B0-\u18F5\u1900-\u191E\u1920-\u192B\u1930-\u193B\u1946-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u19D0-\u19D9\u1A00-\u1A1B\u1A20-\u1A5E\u1A60-\u1A7C\u1A7F-\u1A89\u1A90-\u1A99\u1AA7\u1AB0-\u1ABD\u1B00-\u1B4B\u1B50-\u1B59\u1B6B-\u1B73\u1B80-\u1BF3\u1C00-\u1C37\u1C40-\u1C49\u1C4D-\u1C7D\u1C80-\u1C88\u1CD0-\u1CD2\u1CD4-\u1CF9\u1D00-\u1DF9\u1DFB-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u203F\u2040\u2054\u2071\u207F\u2090-\u209C\u20D0-\u20DC\u20E1\u20E5-\u20F0\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D7F-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2DE0-\u2DFF\u2E2F\u3005-\u3007\u3021-\u302F\u3031-\u3035\u3038-\u303C\u3041-\u3096\u3099\u309A\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312E\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FEA\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA62B\uA640-\uA66F\uA674-\uA67D\uA67F-\uA6F1\uA717-\uA71F\uA722-\uA788\uA78B-\uA7AE\uA7B0-\uA7B7\uA7F7-\uA827\uA840-\uA873\uA880-\uA8C5\uA8D0-\uA8D9\uA8E0-\uA8F7\uA8FB\uA8FD\uA900-\uA92D\uA930-\uA953\uA960-\uA97C\uA980-\uA9C0\uA9CF-\uA9D9\uA9E0-\uA9FE\uAA00-\uAA36\uAA40-\uAA4D\uAA50-\uAA59\uAA60-\uAA76\uAA7A-\uAAC2\uAADB-\uAADD\uAAE0-\uAAEF\uAAF2-\uAAF6\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB65\uAB70-\uABEA\uABEC\uABED\uABF0-\uABF9\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE00-\uFE0F\uFE20-\uFE2F\uFE33\uFE34\uFE4D-\uFE4F\uFE70-\uFE74\uFE76-\uFEFC\uFF10-\uFF19\uFF21-\uFF3A\uFF3F\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD40-\uDD74\uDDFD\uDE80-\uDE9C\uDEA0-\uDED0\uDEE0\uDF00-\uDF1F\uDF2D-\uDF4A\uDF50-\uDF7A\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDCA0-\uDCA9\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00-\uDE03\uDE05\uDE06\uDE0C-\uDE13\uDE15-\uDE17\uDE19-\uDE33\uDE38-\uDE3A\uDE3F\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE6\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2]|\uD804[\uDC00-\uDC46\uDC66-\uDC6F\uDC7F-\uDCBA\uDCD0-\uDCE8\uDCF0-\uDCF9\uDD00-\uDD34\uDD36-\uDD3F\uDD50-\uDD73\uDD76\uDD80-\uDDC4\uDDCA-\uDDCC\uDDD0-\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE37\uDE3E\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEEA\uDEF0-\uDEF9\uDF00-\uDF03\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3C-\uDF44\uDF47\uDF48\uDF4B-\uDF4D\uDF50\uDF57\uDF5D-\uDF63\uDF66-\uDF6C\uDF70-\uDF74]|\uD805[\uDC00-\uDC4A\uDC50-\uDC59\uDC80-\uDCC5\uDCC7\uDCD0-\uDCD9\uDD80-\uDDB5\uDDB8-\uDDC0\uDDD8-\uDDDD\uDE00-\uDE40\uDE44\uDE50-\uDE59\uDE80-\uDEB7\uDEC0-\uDEC9\uDF00-\uDF19\uDF1D-\uDF2B\uDF30-\uDF39]|\uD806[\uDCA0-\uDCE9\uDCFF\uDE00-\uDE3E\uDE47\uDE50-\uDE83\uDE86-\uDE99\uDEC0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC36\uDC38-\uDC40\uDC50-\uDC59\uDC72-\uDC8F\uDC92-\uDCA7\uDCA9-\uDCB6\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD36\uDD3A\uDD3C\uDD3D\uDD3F-\uDD47\uDD50-\uDD59]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|[\uD80C\uD81C-\uD820\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE60-\uDE69\uDED0-\uDEED\uDEF0-\uDEF4\uDF00-\uDF36\uDF40-\uDF43\uDF50-\uDF59\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDF00-\uDF44\uDF50-\uDF7E\uDF8F-\uDF9F\uDFE0\uDFE1]|\uD821[\uDC00-\uDFEC]|\uD822[\uDC00-\uDEF2]|\uD82C[\uDC00-\uDD1E\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99\uDC9D\uDC9E]|\uD834[\uDD65-\uDD69\uDD6D-\uDD72\uDD7B-\uDD82\uDD85-\uDD8B\uDDAA-\uDDAD\uDE42-\uDE44]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB\uDFCE-\uDFFF]|\uD836[\uDE00-\uDE36\uDE3B-\uDE6C\uDE75\uDE84\uDE9B-\uDE9F\uDEA1-\uDEAF]|\uD838[\uDC00-\uDC06\uDC08-\uDC18\uDC1B-\uDC21\uDC23\uDC24\uDC26-\uDC2A]|\uD83A[\uDC00-\uDCC4\uDCD0-\uDCD6\uDD00-\uDD4A\uDD50-\uDD59]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDED6\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF34\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uDB40[\uDD00-\uDDEF]/,unicode={Space_Separator:Space_Separator,ID_Start:ID_Start,ID_Continue:ID_Continue},util$1={isSpaceSeparator:o=>"string"==typeof o&&unicode.Space_Separator.test(o),isIdStartChar:o=>"string"==typeof o&&(o>="a"&&o<="z"||o>="A"&&o<="Z"||"$"===o||"_"===o||unicode.ID_Start.test(o)),isIdContinueChar:o=>"string"==typeof o&&(o>="a"&&o<="z"||o>="A"&&o<="Z"||o>="0"&&o<="9"||"$"===o||"_"===o||"‌"===o||"‍"===o||unicode.ID_Continue.test(o)),isDigit:o=>"string"==typeof o&&/[0-9]/.test(o),isHexDigit:o=>"string"==typeof o&&/[0-9A-Fa-f]/.test(o)};let source,parseState,stack,pos,line$1,column,token,key,root;var parse$2=function(o,l){source=String(o),parseState="start",stack=[],pos=0,line$1=1,column=0,token=void 0,key=void 0,root=void 0;do{token=lex(),parseStates[parseState]()}while("eof"!==token.type);return"function"==typeof l?internalize({"":root},"",l):root};function internalize(o,l,p){const m=o[l];if(null!=m&&"object"==typeof m)if(Array.isArray(m))for(let o=0;o<m.length;o++){const l=String(o),g=internalize(m,l,p);void 0===g?delete m[l]:Object.defineProperty(m,l,{value:g,writable:!0,enumerable:!0,configurable:!0})}else for(const o in m){const l=internalize(m,o,p);void 0===l?delete m[o]:Object.defineProperty(m,o,{value:l,writable:!0,enumerable:!0,configurable:!0})}return p.call(o,l,m)}let lexState,buffer,doubleQuote,sign,c;function lex(){for(lexState="default",buffer="",doubleQuote=!1,sign=1;;){c=peek();const o=lexStates[lexState]();if(o)return o}}function peek(){if(source[pos])return String.fromCodePoint(source.codePointAt(pos))}function read(){const o=peek();return"\n"===o?(line$1++,column=0):o?column+=o.length:column++,o&&(pos+=o.length),o}const lexStates={default(){switch(c){case"\t":case"\v":case"\f":case" ":case" ":case"\ufeff":case"\n":case"\r":case"\u2028":case"\u2029":return void read();case"/":return read(),void(lexState="comment");case void 0:return read(),newToken("eof")}if(!util$1.isSpaceSeparator(c))return lexStates[parseState]();read()},comment(){switch(c){case"*":return read(),void(lexState="multiLineComment");case"/":return read(),void(lexState="singleLineComment")}throw invalidChar(read())},multiLineComment(){switch(c){case"*":return read(),void(lexState="multiLineCommentAsterisk");case void 0:throw invalidChar(read())}read()},multiLineCommentAsterisk(){switch(c){case"*":return void read();case"/":return read(),void(lexState="default");case void 0:throw invalidChar(read())}read(),lexState="multiLineComment"},singleLineComment(){switch(c){case"\n":case"\r":case"\u2028":case"\u2029":return read(),void(lexState="default");case void 0:return read(),newToken("eof")}read()},value(){switch(c){case"{":case"[":return newToken("punctuator",read());case"n":return read(),literal("ull"),newToken("null",null);case"t":return read(),literal("rue"),newToken("boolean",!0);case"f":return read(),literal("alse"),newToken("boolean",!1);case"-":case"+":return"-"===read()&&(sign=-1),void(lexState="sign");case".":return buffer=read(),void(lexState="decimalPointLeading");case"0":return buffer=read(),void(lexState="zero");case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":return buffer=read(),void(lexState="decimalInteger");case"I":return read(),literal("nfinity"),newToken("numeric",1/0);case"N":return read(),literal("aN"),newToken("numeric",NaN);case'"':case"'":return doubleQuote='"'===read(),buffer="",void(lexState="string")}throw invalidChar(read())},identifierNameStartEscape(){if("u"!==c)throw invalidChar(read());read();const o=unicodeEscape();switch(o){case"$":case"_":break;default:if(!util$1.isIdStartChar(o))throw invalidIdentifier()}buffer+=o,lexState="identifierName"},identifierName(){switch(c){case"$":case"_":case"‌":case"‍":return void(buffer+=read());case"\\":return read(),void(lexState="identifierNameEscape")}if(!util$1.isIdContinueChar(c))return newToken("identifier",buffer);buffer+=read()},identifierNameEscape(){if("u"!==c)throw invalidChar(read());read();const o=unicodeEscape();switch(o){case"$":case"_":case"‌":case"‍":break;default:if(!util$1.isIdContinueChar(o))throw invalidIdentifier()}buffer+=o,lexState="identifierName"},sign(){switch(c){case".":return buffer=read(),void(lexState="decimalPointLeading");case"0":return buffer=read(),void(lexState="zero");case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":return buffer=read(),void(lexState="decimalInteger");case"I":return read(),literal("nfinity"),newToken("numeric",sign*(1/0));case"N":return read(),literal("aN"),newToken("numeric",NaN)}throw invalidChar(read())},zero(){switch(c){case".":return buffer+=read(),void(lexState="decimalPoint");case"e":case"E":return buffer+=read(),void(lexState="decimalExponent");case"x":case"X":return buffer+=read(),void(lexState="hexadecimal")}return newToken("numeric",0*sign)},decimalInteger(){switch(c){case".":return buffer+=read(),void(lexState="decimalPoint");case"e":case"E":return buffer+=read(),void(lexState="decimalExponent")}if(!util$1.isDigit(c))return newToken("numeric",sign*Number(buffer));buffer+=read()},decimalPointLeading(){if(util$1.isDigit(c))return buffer+=read(),void(lexState="decimalFraction");throw invalidChar(read())},decimalPoint(){switch(c){case"e":case"E":return buffer+=read(),void(lexState="decimalExponent")}return util$1.isDigit(c)?(buffer+=read(),void(lexState="decimalFraction")):newToken("numeric",sign*Number(buffer))},decimalFraction(){switch(c){case"e":case"E":return buffer+=read(),void(lexState="decimalExponent")}if(!util$1.isDigit(c))return newToken("numeric",sign*Number(buffer));buffer+=read()},decimalExponent(){switch(c){case"+":case"-":return buffer+=read(),void(lexState="decimalExponentSign")}if(util$1.isDigit(c))return buffer+=read(),void(lexState="decimalExponentInteger");throw invalidChar(read())},decimalExponentSign(){if(util$1.isDigit(c))return buffer+=read(),void(lexState="decimalExponentInteger");throw invalidChar(read())},decimalExponentInteger(){if(!util$1.isDigit(c))return newToken("numeric",sign*Number(buffer));buffer+=read()},hexadecimal(){if(util$1.isHexDigit(c))return buffer+=read(),void(lexState="hexadecimalInteger");throw invalidChar(read())},hexadecimalInteger(){if(!util$1.isHexDigit(c))return newToken("numeric",sign*Number(buffer));buffer+=read()},string(){switch(c){case"\\":return read(),void(buffer+=escape());case'"':return doubleQuote?(read(),newToken("string",buffer)):void(buffer+=read());case"'":return doubleQuote?void(buffer+=read()):(read(),newToken("string",buffer));case"\n":case"\r":throw invalidChar(read());case"\u2028":case"\u2029":separatorChar(c);break;case void 0:throw invalidChar(read())}buffer+=read()},start(){switch(c){case"{":case"[":return newToken("punctuator",read())}lexState="value"},beforePropertyName(){switch(c){case"$":case"_":return buffer=read(),void(lexState="identifierName");case"\\":return read(),void(lexState="identifierNameStartEscape");case"}":return newToken("punctuator",read());case'"':case"'":return doubleQuote='"'===read(),void(lexState="string")}if(util$1.isIdStartChar(c))return buffer+=read(),void(lexState="identifierName");throw invalidChar(read())},afterPropertyName(){if(":"===c)return newToken("punctuator",read());throw invalidChar(read())},beforePropertyValue(){lexState="value"},afterPropertyValue(){switch(c){case",":case"}":return newToken("punctuator",read())}throw invalidChar(read())},beforeArrayValue(){if("]"===c)return newToken("punctuator",read());lexState="value"},afterArrayValue(){switch(c){case",":case"]":return newToken("punctuator",read())}throw invalidChar(read())},end(){throw invalidChar(read())}};function newToken(o,l){return{type:o,value:l,line:line$1,column:column}}function literal(o){for(const l of o){if(peek()!==l)throw invalidChar(read());read()}}function escape(){switch(peek()){case"b":return read(),"\b";case"f":return read(),"\f";case"n":return read(),"\n";case"r":return read(),"\r";case"t":return read(),"\t";case"v":return read(),"\v";case"0":if(read(),util$1.isDigit(peek()))throw invalidChar(read());return"\0";case"x":return read(),hexEscape();case"u":return read(),unicodeEscape();case"\n":case"\u2028":case"\u2029":return read(),"";case"\r":return read(),"\n"===peek()&&read(),"";case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":case void 0:throw invalidChar(read())}return read()}function hexEscape(){let o="",l=peek();if(!util$1.isHexDigit(l))throw invalidChar(read());if(o+=read(),l=peek(),!util$1.isHexDigit(l))throw invalidChar(read());return o+=read(),String.fromCodePoint(parseInt(o,16))}function unicodeEscape(){let o="",l=4;for(;l-- >0;){const l=peek();if(!util$1.isHexDigit(l))throw invalidChar(read());o+=read()}return String.fromCodePoint(parseInt(o,16))}const parseStates={start(){if("eof"===token.type)throw invalidEOF();push()},beforePropertyName(){switch(token.type){case"identifier":case"string":return key=token.value,void(parseState="afterPropertyName");case"punctuator":return void pop();case"eof":throw invalidEOF()}},afterPropertyName(){if("eof"===token.type)throw invalidEOF();parseState="beforePropertyValue"},beforePropertyValue(){if("eof"===token.type)throw invalidEOF();push()},beforeArrayValue(){if("eof"===token.type)throw invalidEOF();"punctuator"!==token.type||"]"!==token.value?push():pop()},afterPropertyValue(){if("eof"===token.type)throw invalidEOF();switch(token.value){case",":return void(parseState="beforePropertyName");case"}":pop()}},afterArrayValue(){if("eof"===token.type)throw invalidEOF();switch(token.value){case",":return void(parseState="beforeArrayValue");case"]":pop()}},end(){}};function push(){let o;switch(token.type){case"punctuator":switch(token.value){case"{":o={};break;case"[":o=[]}break;case"null":case"boolean":case"numeric":case"string":o=token.value}if(void 0===root)root=o;else{const l=stack[stack.length-1];Array.isArray(l)?l.push(o):Object.defineProperty(l,key,{value:o,writable:!0,enumerable:!0,configurable:!0})}if(null!==o&&"object"==typeof o)stack.push(o),parseState=Array.isArray(o)?"beforeArrayValue":"beforePropertyName";else{const o=stack[stack.length-1];parseState=null==o?"end":Array.isArray(o)?"afterArrayValue":"afterPropertyValue"}}function pop(){stack.pop();const o=stack[stack.length-1];parseState=null==o?"end":Array.isArray(o)?"afterArrayValue":"afterPropertyValue"}function invalidChar(o){return syntaxError(void 0===o?`JSON5: invalid end of input at ${line$1}:${column}`:`JSON5: invalid character '${formatChar(o)}' at ${line$1}:${column}`)}function invalidEOF(){return syntaxError(`JSON5: invalid end of input at ${line$1}:${column}`)}function invalidIdentifier(){return column-=5,syntaxError(`JSON5: invalid identifier character at ${line$1}:${column}`)}function separatorChar(o){console.warn(`JSON5: '${formatChar(o)}' in strings is not valid ECMAScript; consider escaping`)}function formatChar(o){const l={"'":"\\'",'"':'\\"',"\\":"\\\\","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t","\v":"\\v","\0":"\\0","\u2028":"\\u2028","\u2029":"\\u2029"};if(l[o])return l[o];if(o<" "){const l=o.charCodeAt(0).toString(16);return"\\x"+("00"+l).substring(l.length)}return o}function syntaxError(o){const l=new SyntaxError(o);return l.lineNumber=line$1,l.columnNumber=column,l}var stringify$2=function(o,l,p){const m=[];let g,y,_,b="",S="";if(null==l||"object"!=typeof l||Array.isArray(l)||(p=l.space,_=l.quote,l=l.replacer),"function"==typeof l)y=l;else if(Array.isArray(l)){g=[];for(const o of l){let l;"string"==typeof o?l=o:("number"==typeof o||o instanceof String||o instanceof Number)&&(l=String(o)),void 0!==l&&g.indexOf(l)<0&&g.push(l)}}return p instanceof Number?p=Number(p):p instanceof String&&(p=String(p)),"number"==typeof p?p>0&&(p=Math.min(10,Math.floor(p)),S="          ".substr(0,p)):"string"==typeof p&&(S=p.substr(0,10)),serializeProperty("",{"":o});function serializeProperty(o,l){let p=l[o];switch(null!=p&&("function"==typeof p.toJSON5?p=p.toJSON5(o):"function"==typeof p.toJSON&&(p=p.toJSON(o))),y&&(p=y.call(l,o,p)),p instanceof Number?p=Number(p):p instanceof String?p=String(p):p instanceof Boolean&&(p=p.valueOf()),p){case null:return"null";case!0:return"true";case!1:return"false"}return"string"==typeof p?quoteString(p):"number"==typeof p?String(p):"object"==typeof p?Array.isArray(p)?function(o){if(m.indexOf(o)>=0)throw TypeError("Converting circular structure to JSON5");m.push(o);let l=b;b+=S;let p,g=[];for(let l=0;l<o.length;l++){const p=serializeProperty(String(l),o);g.push(void 0!==p?p:"null")}if(0===g.length)p="[]";else if(""===S){p="["+g.join(",")+"]"}else{let o=",\n"+b,m=g.join(o);p="[\n"+b+m+",\n"+l+"]"}return m.pop(),b=l,p}(p):function(o){if(m.indexOf(o)>=0)throw TypeError("Converting circular structure to JSON5");m.push(o);let l=b;b+=S;let p,y=g||Object.keys(o),_=[];for(const l of y){const p=serializeProperty(l,o);if(void 0!==p){let o=serializeKey(l)+":";""!==S&&(o+=" "),o+=p,_.push(o)}}if(0===_.length)p="{}";else{let o;if(""===S)o=_.join(","),p="{"+o+"}";else{let m=",\n"+b;o=_.join(m),p="{\n"+b+o+",\n"+l+"}"}}return m.pop(),b=l,p}(p):void 0}function quoteString(o){const l={"'":.1,'"':.2},p={"'":"\\'",'"':'\\"',"\\":"\\\\","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t","\v":"\\v","\0":"\\0","\u2028":"\\u2028","\u2029":"\\u2029"};let m="";for(let g=0;g<o.length;g++){const y=o[g];switch(y){case"'":case'"':l[y]++,m+=y;continue;case"\0":if(util$1.isDigit(o[g+1])){m+="\\x00";continue}}if(p[y])m+=p[y];else{if(y<" "){let o=y.charCodeAt(0).toString(16);m+="\\x"+("00"+o).substring(o.length);continue}m+=y}}const g=_||Object.keys(l).reduce((o,p)=>l[o]<l[p]?o:p);return m=m.replace(new RegExp(g,"g"),p[g]),g+m+g}function serializeKey(o){if(0===o.length)return quoteString(o);const l=String.fromCodePoint(o.codePointAt(0));if(!util$1.isIdStartChar(l))return quoteString(o);for(let p=l.length;p<o.length;p++)if(!util$1.isIdContinueChar(String.fromCodePoint(o.codePointAt(p))))return quoteString(o);return o}};const JSON5$1={parse:parse$2,stringify:stringify$2};var lib=JSON5$1,dist$1=Object.freeze({__proto__:null,default:lib}),require$$2=getAugmentedNamespace(dist$1),jsYaml={},loader$1={},common$5={};function isNothing(o){return null==o}function isObject(o){return"object"==typeof o&&null!==o}function toArray(o){return Array.isArray(o)?o:isNothing(o)?[]:[o]}function extend(o,l){var p,m,g,y;if(l)for(p=0,m=(y=Object.keys(l)).length;p<m;p+=1)o[g=y[p]]=l[g];return o}function repeat(o,l){var p,m="";for(p=0;p<l;p+=1)m+=o;return m}function isNegativeZero(o){return 0===o&&Number.NEGATIVE_INFINITY===1/o}function formatError(o,l){var p="",m=o.reason||"(unknown reason)";return o.mark?(o.mark.name&&(p+='in "'+o.mark.name+'" '),p+="("+(o.mark.line+1)+":"+(o.mark.column+1)+")",!l&&o.mark.snippet&&(p+="\n\n"+o.mark.snippet),m+" "+p):m}function YAMLException$4(o,l){Error.call(this),this.name="YAMLException",this.reason=o,this.mark=l,this.message=formatError(this,!1),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=(new Error).stack||""}common$5.isNothing=isNothing,common$5.isObject=isObject,common$5.toArray=toArray,common$5.repeat=repeat,common$5.isNegativeZero=isNegativeZero,common$5.extend=extend,YAMLException$4.prototype=Object.create(Error.prototype),YAMLException$4.prototype.constructor=YAMLException$4,YAMLException$4.prototype.toString=function(o){return this.name+": "+formatError(this,o)};var exception=YAMLException$4,common$4=common$5;function getLine(o,l,p,m,g){var y="",_="",b=Math.floor(g/2)-1;return m-l>b&&(l=m-b+(y=" ... ").length),p-m>b&&(p=m+b-(_=" ...").length),{str:y+o.slice(l,p).replace(/\t/g,"→")+_,pos:m-l+y.length}}function padStart(o,l){return common$4.repeat(" ",l-o.length)+o}function makeSnippet$1(o,l){if(l=Object.create(l||null),!o.buffer)return null;l.maxLength||(l.maxLength=79),"number"!=typeof l.indent&&(l.indent=1),"number"!=typeof l.linesBefore&&(l.linesBefore=3),"number"!=typeof l.linesAfter&&(l.linesAfter=2);for(var p,m=/\r?\n|\r|\0/g,g=[0],y=[],_=-1;p=m.exec(o.buffer);)y.push(p.index),g.push(p.index+p[0].length),o.position<=p.index&&_<0&&(_=g.length-2);_<0&&(_=g.length-1);var b,S,A="",T=Math.min(o.line+l.linesAfter,y.length).toString().length,w=l.maxLength-(l.indent+T+3);for(b=1;b<=l.linesBefore&&!(_-b<0);b++)S=getLine(o.buffer,g[_-b],y[_-b],o.position-(g[_]-g[_-b]),w),A=common$4.repeat(" ",l.indent)+padStart((o.line-b+1).toString(),T)+" | "+S.str+"\n"+A;for(S=getLine(o.buffer,g[_],y[_],o.position,w),A+=common$4.repeat(" ",l.indent)+padStart((o.line+1).toString(),T)+" | "+S.str+"\n",A+=common$4.repeat("-",l.indent+T+3+S.pos)+"^\n",b=1;b<=l.linesAfter&&!(_+b>=y.length);b++)S=getLine(o.buffer,g[_+b],y[_+b],o.position-(g[_]-g[_+b]),w),A+=common$4.repeat(" ",l.indent)+padStart((o.line+b+1).toString(),T)+" | "+S.str+"\n";return A.replace(/\n$/,"")}var snippet=makeSnippet$1,YAMLException$3=exception,TYPE_CONSTRUCTOR_OPTIONS=["kind","multi","resolve","construct","instanceOf","predicate","represent","representName","defaultStyle","styleAliases"],YAML_NODE_KINDS=["scalar","sequence","mapping"];function compileStyleAliases(o){var l={};return null!==o&&Object.keys(o).forEach(function(p){o[p].forEach(function(o){l[String(o)]=p})}),l}function Type$e(o,l){if(l=l||{},Object.keys(l).forEach(function(l){if(-1===TYPE_CONSTRUCTOR_OPTIONS.indexOf(l))throw new YAMLException$3('Unknown option "'+l+'" is met in definition of "'+o+'" YAML type.')}),this.options=l,this.tag=o,this.kind=l.kind||null,this.resolve=l.resolve||function(){return!0},this.construct=l.construct||function(o){return o},this.instanceOf=l.instanceOf||null,this.predicate=l.predicate||null,this.represent=l.represent||null,this.representName=l.representName||null,this.defaultStyle=l.defaultStyle||null,this.multi=l.multi||!1,this.styleAliases=compileStyleAliases(l.styleAliases||null),-1===YAML_NODE_KINDS.indexOf(this.kind))throw new YAMLException$3('Unknown kind "'+this.kind+'" is specified for "'+o+'" YAML type.')}var type=Type$e,YAMLException$2=exception,Type$d=type;function compileList(o,l){var p=[];return o[l].forEach(function(o){var l=p.length;p.forEach(function(p,m){p.tag===o.tag&&p.kind===o.kind&&p.multi===o.multi&&(l=m)}),p[l]=o}),p}function compileMap(){var o,l,p={scalar:{},sequence:{},mapping:{},fallback:{},multi:{scalar:[],sequence:[],mapping:[],fallback:[]}};function collectType(o){o.multi?(p.multi[o.kind].push(o),p.multi.fallback.push(o)):p[o.kind][o.tag]=p.fallback[o.tag]=o}for(o=0,l=arguments.length;o<l;o+=1)arguments[o].forEach(collectType);return p}function Schema$1(o){return this.extend(o)}Schema$1.prototype.extend=function(o){var l=[],p=[];if(o instanceof Type$d)p.push(o);else if(Array.isArray(o))p=p.concat(o);else{if(!o||!Array.isArray(o.implicit)&&!Array.isArray(o.explicit))throw new YAMLException$2("Schema.extend argument should be a Type, [ Type ], or a schema definition ({ implicit: [...], explicit: [...] })");o.implicit&&(l=l.concat(o.implicit)),o.explicit&&(p=p.concat(o.explicit))}l.forEach(function(o){if(!(o instanceof Type$d))throw new YAMLException$2("Specified list of YAML types (or a single Type object) contains a non-Type object.");if(o.loadKind&&"scalar"!==o.loadKind)throw new YAMLException$2("There is a non-scalar type in the implicit list of a schema. Implicit resolving of such types is not supported.");if(o.multi)throw new YAMLException$2("There is a multi type in the implicit list of a schema. Multi tags can only be listed as explicit.")}),p.forEach(function(o){if(!(o instanceof Type$d))throw new YAMLException$2("Specified list of YAML types (or a single Type object) contains a non-Type object.")});var m=Object.create(Schema$1.prototype);return m.implicit=(this.implicit||[]).concat(l),m.explicit=(this.explicit||[]).concat(p),m.compiledImplicit=compileList(m,"implicit"),m.compiledExplicit=compileList(m,"explicit"),m.compiledTypeMap=compileMap(m.compiledImplicit,m.compiledExplicit),m};var schema=Schema$1,Type$c=type,str=new Type$c("tag:yaml.org,2002:str",{kind:"scalar",construct:function(o){return null!==o?o:""}}),Type$b=type,seq=new Type$b("tag:yaml.org,2002:seq",{kind:"sequence",construct:function(o){return null!==o?o:[]}}),Type$a=type,map=new Type$a("tag:yaml.org,2002:map",{kind:"mapping",construct:function(o){return null!==o?o:{}}}),Schema=schema,failsafe=new Schema({explicit:[str,seq,map]}),Type$9=type;function resolveYamlNull(o){if(null===o)return!0;var l=o.length;return 1===l&&"~"===o||4===l&&("null"===o||"Null"===o||"NULL"===o)}function constructYamlNull(){return null}function isNull(o){return null===o}var _null=new Type$9("tag:yaml.org,2002:null",{kind:"scalar",resolve:resolveYamlNull,construct:constructYamlNull,predicate:isNull,represent:{canonical:function(){return"~"},lowercase:function(){return"null"},uppercase:function(){return"NULL"},camelcase:function(){return"Null"},empty:function(){return""}},defaultStyle:"lowercase"}),Type$8=type;function resolveYamlBoolean(o){if(null===o)return!1;var l=o.length;return 4===l&&("true"===o||"True"===o||"TRUE"===o)||5===l&&("false"===o||"False"===o||"FALSE"===o)}function constructYamlBoolean(o){return"true"===o||"True"===o||"TRUE"===o}function isBoolean(o){return"[object Boolean]"===Object.prototype.toString.call(o)}var bool=new Type$8("tag:yaml.org,2002:bool",{kind:"scalar",resolve:resolveYamlBoolean,construct:constructYamlBoolean,predicate:isBoolean,represent:{lowercase:function(o){return o?"true":"false"},uppercase:function(o){return o?"TRUE":"FALSE"},camelcase:function(o){return o?"True":"False"}},defaultStyle:"lowercase"}),common$3=common$5,Type$7=type;function isHexCode(o){return 48<=o&&o<=57||65<=o&&o<=70||97<=o&&o<=102}function isOctCode(o){return 48<=o&&o<=55}function isDecCode(o){return 48<=o&&o<=57}function resolveYamlInteger(o){if(null===o)return!1;var l,p=o.length,m=0,g=!1;if(!p)return!1;if("-"!==(l=o[m])&&"+"!==l||(l=o[++m]),"0"===l){if(m+1===p)return!0;if("b"===(l=o[++m])){for(m++;m<p;m++)if("_"!==(l=o[m])){if("0"!==l&&"1"!==l)return!1;g=!0}return g&&"_"!==l}if("x"===l){for(m++;m<p;m++)if("_"!==(l=o[m])){if(!isHexCode(o.charCodeAt(m)))return!1;g=!0}return g&&"_"!==l}if("o"===l){for(m++;m<p;m++)if("_"!==(l=o[m])){if(!isOctCode(o.charCodeAt(m)))return!1;g=!0}return g&&"_"!==l}}if("_"===l)return!1;for(;m<p;m++)if("_"!==(l=o[m])){if(!isDecCode(o.charCodeAt(m)))return!1;g=!0}return!(!g||"_"===l)}function constructYamlInteger(o){var l,p=o,m=1;if(-1!==p.indexOf("_")&&(p=p.replace(/_/g,"")),"-"!==(l=p[0])&&"+"!==l||("-"===l&&(m=-1),l=(p=p.slice(1))[0]),"0"===p)return 0;if("0"===l){if("b"===p[1])return m*parseInt(p.slice(2),2);if("x"===p[1])return m*parseInt(p.slice(2),16);if("o"===p[1])return m*parseInt(p.slice(2),8)}return m*parseInt(p,10)}function isInteger$1(o){return"[object Number]"===Object.prototype.toString.call(o)&&o%1==0&&!common$3.isNegativeZero(o)}var int=new Type$7("tag:yaml.org,2002:int",{kind:"scalar",resolve:resolveYamlInteger,construct:constructYamlInteger,predicate:isInteger$1,represent:{binary:function(o){return o>=0?"0b"+o.toString(2):"-0b"+o.toString(2).slice(1)},octal:function(o){return o>=0?"0o"+o.toString(8):"-0o"+o.toString(8).slice(1)},decimal:function(o){return o.toString(10)},hexadecimal:function(o){return o>=0?"0x"+o.toString(16).toUpperCase():"-0x"+o.toString(16).toUpperCase().slice(1)}},defaultStyle:"decimal",styleAliases:{binary:[2,"bin"],octal:[8,"oct"],decimal:[10,"dec"],hexadecimal:[16,"hex"]}}),common$2=common$5,Type$6=type,YAML_FLOAT_PATTERN=new RegExp("^(?:[-+]?(?:[0-9][0-9_]*)(?:\\.[0-9_]*)?(?:[eE][-+]?[0-9]+)?|\\.[0-9_]+(?:[eE][-+]?[0-9]+)?|[-+]?\\.(?:inf|Inf|INF)|\\.(?:nan|NaN|NAN))$");function resolveYamlFloat(o){return null!==o&&!(!YAML_FLOAT_PATTERN.test(o)||"_"===o[o.length-1])}function constructYamlFloat(o){var l,p;return p="-"===(l=o.replace(/_/g,"").toLowerCase())[0]?-1:1,"+-".indexOf(l[0])>=0&&(l=l.slice(1)),".inf"===l?1===p?Number.POSITIVE_INFINITY:Number.NEGATIVE_INFINITY:".nan"===l?NaN:p*parseFloat(l,10)}var SCIENTIFIC_WITHOUT_DOT=/^[-+]?[0-9]+e/;function representYamlFloat(o,l){var p;if(isNaN(o))switch(l){case"lowercase":return".nan";case"uppercase":return".NAN";case"camelcase":return".NaN"}else if(Number.POSITIVE_INFINITY===o)switch(l){case"lowercase":return".inf";case"uppercase":return".INF";case"camelcase":return".Inf"}else if(Number.NEGATIVE_INFINITY===o)switch(l){case"lowercase":return"-.inf";case"uppercase":return"-.INF";case"camelcase":return"-.Inf"}else if(common$2.isNegativeZero(o))return"-0.0";return p=o.toString(10),SCIENTIFIC_WITHOUT_DOT.test(p)?p.replace("e",".e"):p}function isFloat$1(o){return"[object Number]"===Object.prototype.toString.call(o)&&(o%1!=0||common$2.isNegativeZero(o))}var float=new Type$6("tag:yaml.org,2002:float",{kind:"scalar",resolve:resolveYamlFloat,construct:constructYamlFloat,predicate:isFloat$1,represent:representYamlFloat,defaultStyle:"lowercase"}),json=failsafe.extend({implicit:[_null,bool,int,float]}),core=json,Type$5=type,YAML_DATE_REGEXP=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9])-([0-9][0-9])$"),YAML_TIMESTAMP_REGEXP=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9]?)-([0-9][0-9]?)(?:[Tt]|[ \\t]+)([0-9][0-9]?):([0-9][0-9]):([0-9][0-9])(?:\\.([0-9]*))?(?:[ \\t]*(Z|([-+])([0-9][0-9]?)(?::([0-9][0-9]))?))?$");function resolveYamlTimestamp(o){return null!==o&&(null!==YAML_DATE_REGEXP.exec(o)||null!==YAML_TIMESTAMP_REGEXP.exec(o))}function constructYamlTimestamp(o){var l,p,m,g,y,_,b,S,A=0,T=null;if(null===(l=YAML_DATE_REGEXP.exec(o))&&(l=YAML_TIMESTAMP_REGEXP.exec(o)),null===l)throw new Error("Date resolve error");if(p=+l[1],m=+l[2]-1,g=+l[3],!l[4])return new Date(Date.UTC(p,m,g));if(y=+l[4],_=+l[5],b=+l[6],l[7]){for(A=l[7].slice(0,3);A.length<3;)A+="0";A=+A}return l[9]&&(T=6e4*(60*+l[10]+ +(l[11]||0)),"-"===l[9]&&(T=-T)),S=new Date(Date.UTC(p,m,g,y,_,b,A)),T&&S.setTime(S.getTime()-T),S}function representYamlTimestamp(o){return o.toISOString()}var timestamp=new Type$5("tag:yaml.org,2002:timestamp",{kind:"scalar",resolve:resolveYamlTimestamp,construct:constructYamlTimestamp,instanceOf:Date,represent:representYamlTimestamp}),Type$4=type;function resolveYamlMerge(o){return"<<"===o||null===o}var merge=new Type$4("tag:yaml.org,2002:merge",{kind:"scalar",resolve:resolveYamlMerge}),Type$3=type,BASE64_MAP="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=\n\r";function resolveYamlBinary(o){if(null===o)return!1;var l,p,m=0,g=o.length,y=BASE64_MAP;for(p=0;p<g;p++)if(!((l=y.indexOf(o.charAt(p)))>64)){if(l<0)return!1;m+=6}return m%8==0}function constructYamlBinary(o){var l,p,m=o.replace(/[\r\n=]/g,""),g=m.length,y=BASE64_MAP,_=0,b=[];for(l=0;l<g;l++)l%4==0&&l&&(b.push(_>>16&255),b.push(_>>8&255),b.push(255&_)),_=_<<6|y.indexOf(m.charAt(l));return 0===(p=g%4*6)?(b.push(_>>16&255),b.push(_>>8&255),b.push(255&_)):18===p?(b.push(_>>10&255),b.push(_>>2&255)):12===p&&b.push(_>>4&255),new Uint8Array(b)}function representYamlBinary(o){var l,p,m="",g=0,y=o.length,_=BASE64_MAP;for(l=0;l<y;l++)l%3==0&&l&&(m+=_[g>>18&63],m+=_[g>>12&63],m+=_[g>>6&63],m+=_[63&g]),g=(g<<8)+o[l];return 0===(p=y%3)?(m+=_[g>>18&63],m+=_[g>>12&63],m+=_[g>>6&63],m+=_[63&g]):2===p?(m+=_[g>>10&63],m+=_[g>>4&63],m+=_[g<<2&63],m+=_[64]):1===p&&(m+=_[g>>2&63],m+=_[g<<4&63],m+=_[64],m+=_[64]),m}function isBinary(o){return"[object Uint8Array]"===Object.prototype.toString.call(o)}var binary=new Type$3("tag:yaml.org,2002:binary",{kind:"scalar",resolve:resolveYamlBinary,construct:constructYamlBinary,predicate:isBinary,represent:representYamlBinary}),Type$2=type,_hasOwnProperty$3=Object.prototype.hasOwnProperty,_toString$2=Object.prototype.toString;function resolveYamlOmap(o){if(null===o)return!0;var l,p,m,g,y,_=[],b=o;for(l=0,p=b.length;l<p;l+=1){if(m=b[l],y=!1,"[object Object]"!==_toString$2.call(m))return!1;for(g in m)if(_hasOwnProperty$3.call(m,g)){if(y)return!1;y=!0}if(!y)return!1;if(-1!==_.indexOf(g))return!1;_.push(g)}return!0}function constructYamlOmap(o){return null!==o?o:[]}var omap=new Type$2("tag:yaml.org,2002:omap",{kind:"sequence",resolve:resolveYamlOmap,construct:constructYamlOmap}),Type$1=type,_toString$1=Object.prototype.toString;function resolveYamlPairs(o){if(null===o)return!0;var l,p,m,g,y,_=o;for(y=new Array(_.length),l=0,p=_.length;l<p;l+=1){if(m=_[l],"[object Object]"!==_toString$1.call(m))return!1;if(1!==(g=Object.keys(m)).length)return!1;y[l]=[g[0],m[g[0]]]}return!0}function constructYamlPairs(o){if(null===o)return[];var l,p,m,g,y,_=o;for(y=new Array(_.length),l=0,p=_.length;l<p;l+=1)m=_[l],g=Object.keys(m),y[l]=[g[0],m[g[0]]];return y}var pairs=new Type$1("tag:yaml.org,2002:pairs",{kind:"sequence",resolve:resolveYamlPairs,construct:constructYamlPairs}),Type=type,_hasOwnProperty$2=Object.prototype.hasOwnProperty;function resolveYamlSet(o){if(null===o)return!0;var l,p=o;for(l in p)if(_hasOwnProperty$2.call(p,l)&&null!==p[l])return!1;return!0}function constructYamlSet(o){return null!==o?o:{}}var set$1=new Type("tag:yaml.org,2002:set",{kind:"mapping",resolve:resolveYamlSet,construct:constructYamlSet}),_default=core.extend({implicit:[timestamp,merge],explicit:[binary,omap,pairs,set$1]}),common$1=common$5,YAMLException$1=exception,makeSnippet=snippet,DEFAULT_SCHEMA$1=_default,_hasOwnProperty$1=Object.prototype.hasOwnProperty,CONTEXT_FLOW_IN=1,CONTEXT_FLOW_OUT=2,CONTEXT_BLOCK_IN=3,CONTEXT_BLOCK_OUT=4,CHOMPING_CLIP=1,CHOMPING_STRIP=2,CHOMPING_KEEP=3,PATTERN_NON_PRINTABLE=/[\x00-\x08\x0B\x0C\x0E-\x1F\x7F-\x84\x86-\x9F\uFFFE\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,PATTERN_NON_ASCII_LINE_BREAKS=/[\x85\u2028\u2029]/,PATTERN_FLOW_INDICATORS=/[,\[\]\{\}]/,PATTERN_TAG_HANDLE=/^(?:!|!!|![a-z\-]+!)$/i,PATTERN_TAG_URI=/^(?:!|[^,\[\]\{\}])(?:%[0-9a-f]{2}|[0-9a-z\-#;\/\?:@&=\+\$,_\.!~\*'\(\)\[\]])*$/i;function _class(o){return Object.prototype.toString.call(o)}function is_EOL(o){return 10===o||13===o}function is_WHITE_SPACE(o){return 9===o||32===o}function is_WS_OR_EOL(o){return 9===o||32===o||10===o||13===o}function is_FLOW_INDICATOR(o){return 44===o||91===o||93===o||123===o||125===o}function fromHexCode(o){var l;return 48<=o&&o<=57?o-48:97<=(l=32|o)&&l<=102?l-97+10:-1}function escapedHexLen(o){return 120===o?2:117===o?4:85===o?8:0}function fromDecimalCode(o){return 48<=o&&o<=57?o-48:-1}function simpleEscapeSequence(o){return 48===o?"\0":97===o?"":98===o?"\b":116===o||9===o?"\t":110===o?"\n":118===o?"\v":102===o?"\f":114===o?"\r":101===o?"":32===o?" ":34===o?'"':47===o?"/":92===o?"\\":78===o?"":95===o?" ":76===o?"\u2028":80===o?"\u2029":""}function charFromCodepoint(o){return o<=65535?String.fromCharCode(o):String.fromCharCode(55296+(o-65536>>10),56320+(o-65536&1023))}for(var simpleEscapeCheck=new Array(256),simpleEscapeMap=new Array(256),i=0;i<256;i++)simpleEscapeCheck[i]=simpleEscapeSequence(i)?1:0,simpleEscapeMap[i]=simpleEscapeSequence(i);function State$2(o,l){this.input=o,this.filename=l.filename||null,this.schema=l.schema||DEFAULT_SCHEMA$1,this.onWarning=l.onWarning||null,this.legacy=l.legacy||!1,this.json=l.json||!1,this.listener=l.listener||null,this.implicitTypes=this.schema.compiledImplicit,this.typeMap=this.schema.compiledTypeMap,this.length=o.length,this.position=0,this.line=0,this.lineStart=0,this.lineIndent=0,this.firstTabInLine=-1,this.documents=[]}function generateError(o,l){var p={name:o.filename,buffer:o.input.slice(0,-1),position:o.position,line:o.line,column:o.position-o.lineStart};return p.snippet=makeSnippet(p),new YAMLException$1(l,p)}function throwError(o,l){throw generateError(o,l)}function throwWarning(o,l){o.onWarning&&o.onWarning.call(null,generateError(o,l))}var directiveHandlers={YAML:function(o,l,p){var m,g,y;null!==o.version&&throwError(o,"duplication of %YAML directive"),1!==p.length&&throwError(o,"YAML directive accepts exactly one argument"),null===(m=/^([0-9]+)\.([0-9]+)$/.exec(p[0]))&&throwError(o,"ill-formed argument of the YAML directive"),g=parseInt(m[1],10),y=parseInt(m[2],10),1!==g&&throwError(o,"unacceptable YAML version of the document"),o.version=p[0],o.checkLineBreaks=y<2,1!==y&&2!==y&&throwWarning(o,"unsupported YAML version of the document")},TAG:function(o,l,p){var m,g;2!==p.length&&throwError(o,"TAG directive accepts exactly two arguments"),m=p[0],g=p[1],PATTERN_TAG_HANDLE.test(m)||throwError(o,"ill-formed tag handle (first argument) of the TAG directive"),_hasOwnProperty$1.call(o.tagMap,m)&&throwError(o,'there is a previously declared suffix for "'+m+'" tag handle'),PATTERN_TAG_URI.test(g)||throwError(o,"ill-formed tag prefix (second argument) of the TAG directive");try{g=decodeURIComponent(g)}catch(l){throwError(o,"tag prefix is malformed: "+g)}o.tagMap[m]=g}};function captureSegment(o,l,p,m){var g,y,_,b;if(l<p){if(b=o.input.slice(l,p),m)for(g=0,y=b.length;g<y;g+=1)9===(_=b.charCodeAt(g))||32<=_&&_<=1114111||throwError(o,"expected valid JSON character");else PATTERN_NON_PRINTABLE.test(b)&&throwError(o,"the stream contains non-printable characters");o.result+=b}}function mergeMappings(o,l,p,m){var g,y,_,b;for(common$1.isObject(p)||throwError(o,"cannot merge mappings; the provided source object is unacceptable"),_=0,b=(g=Object.keys(p)).length;_<b;_+=1)y=g[_],_hasOwnProperty$1.call(l,y)||(l[y]=p[y],m[y]=!0)}function storeMappingPair(o,l,p,m,g,y,_,b,S){var A,T;if(Array.isArray(g))for(A=0,T=(g=Array.prototype.slice.call(g)).length;A<T;A+=1)Array.isArray(g[A])&&throwError(o,"nested arrays are not supported inside keys"),"object"==typeof g&&"[object Object]"===_class(g[A])&&(g[A]="[object Object]");if("object"==typeof g&&"[object Object]"===_class(g)&&(g="[object Object]"),g=String(g),null===l&&(l={}),"tag:yaml.org,2002:merge"===m)if(Array.isArray(y))for(A=0,T=y.length;A<T;A+=1)mergeMappings(o,l,y[A],p);else mergeMappings(o,l,y,p);else o.json||_hasOwnProperty$1.call(p,g)||!_hasOwnProperty$1.call(l,g)||(o.line=_||o.line,o.lineStart=b||o.lineStart,o.position=S||o.position,throwError(o,"duplicated mapping key")),"__proto__"===g?Object.defineProperty(l,g,{configurable:!0,enumerable:!0,writable:!0,value:y}):l[g]=y,delete p[g];return l}function readLineBreak(o){var l;10===(l=o.input.charCodeAt(o.position))?o.position++:13===l?(o.position++,10===o.input.charCodeAt(o.position)&&o.position++):throwError(o,"a line break is expected"),o.line+=1,o.lineStart=o.position,o.firstTabInLine=-1}function skipSeparationSpace(o,l,p){for(var m=0,g=o.input.charCodeAt(o.position);0!==g;){for(;is_WHITE_SPACE(g);)9===g&&-1===o.firstTabInLine&&(o.firstTabInLine=o.position),g=o.input.charCodeAt(++o.position);if(l&&35===g)do{g=o.input.charCodeAt(++o.position)}while(10!==g&&13!==g&&0!==g);if(!is_EOL(g))break;for(readLineBreak(o),g=o.input.charCodeAt(o.position),m++,o.lineIndent=0;32===g;)o.lineIndent++,g=o.input.charCodeAt(++o.position)}return-1!==p&&0!==m&&o.lineIndent<p&&throwWarning(o,"deficient indentation"),m}function testDocumentSeparator(o){var l,p=o.position;return!(45!==(l=o.input.charCodeAt(p))&&46!==l||l!==o.input.charCodeAt(p+1)||l!==o.input.charCodeAt(p+2)||(p+=3,0!==(l=o.input.charCodeAt(p))&&!is_WS_OR_EOL(l)))}function writeFoldedLines(o,l){1===l?o.result+=" ":l>1&&(o.result+=common$1.repeat("\n",l-1))}function readPlainScalar(o,l,p){var m,g,y,_,b,S,A,T,w=o.kind,D=o.result;if(is_WS_OR_EOL(T=o.input.charCodeAt(o.position))||is_FLOW_INDICATOR(T)||35===T||38===T||42===T||33===T||124===T||62===T||39===T||34===T||37===T||64===T||96===T)return!1;if((63===T||45===T)&&(is_WS_OR_EOL(m=o.input.charCodeAt(o.position+1))||p&&is_FLOW_INDICATOR(m)))return!1;for(o.kind="scalar",o.result="",g=y=o.position,_=!1;0!==T;){if(58===T){if(is_WS_OR_EOL(m=o.input.charCodeAt(o.position+1))||p&&is_FLOW_INDICATOR(m))break}else if(35===T){if(is_WS_OR_EOL(o.input.charCodeAt(o.position-1)))break}else{if(o.position===o.lineStart&&testDocumentSeparator(o)||p&&is_FLOW_INDICATOR(T))break;if(is_EOL(T)){if(b=o.line,S=o.lineStart,A=o.lineIndent,skipSeparationSpace(o,!1,-1),o.lineIndent>=l){_=!0,T=o.input.charCodeAt(o.position);continue}o.position=y,o.line=b,o.lineStart=S,o.lineIndent=A;break}}_&&(captureSegment(o,g,y,!1),writeFoldedLines(o,o.line-b),g=y=o.position,_=!1),is_WHITE_SPACE(T)||(y=o.position+1),T=o.input.charCodeAt(++o.position)}return captureSegment(o,g,y,!1),!!o.result||(o.kind=w,o.result=D,!1)}function readSingleQuotedScalar(o,l){var p,m,g;if(39!==(p=o.input.charCodeAt(o.position)))return!1;for(o.kind="scalar",o.result="",o.position++,m=g=o.position;0!==(p=o.input.charCodeAt(o.position));)if(39===p){if(captureSegment(o,m,o.position,!0),39!==(p=o.input.charCodeAt(++o.position)))return!0;m=o.position,o.position++,g=o.position}else is_EOL(p)?(captureSegment(o,m,g,!0),writeFoldedLines(o,skipSeparationSpace(o,!1,l)),m=g=o.position):o.position===o.lineStart&&testDocumentSeparator(o)?throwError(o,"unexpected end of the document within a single quoted scalar"):(o.position++,g=o.position);throwError(o,"unexpected end of the stream within a single quoted scalar")}function readDoubleQuotedScalar(o,l){var p,m,g,y,_,b;if(34!==(b=o.input.charCodeAt(o.position)))return!1;for(o.kind="scalar",o.result="",o.position++,p=m=o.position;0!==(b=o.input.charCodeAt(o.position));){if(34===b)return captureSegment(o,p,o.position,!0),o.position++,!0;if(92===b){if(captureSegment(o,p,o.position,!0),is_EOL(b=o.input.charCodeAt(++o.position)))skipSeparationSpace(o,!1,l);else if(b<256&&simpleEscapeCheck[b])o.result+=simpleEscapeMap[b],o.position++;else if((_=escapedHexLen(b))>0){for(g=_,y=0;g>0;g--)(_=fromHexCode(b=o.input.charCodeAt(++o.position)))>=0?y=(y<<4)+_:throwError(o,"expected hexadecimal character");o.result+=charFromCodepoint(y),o.position++}else throwError(o,"unknown escape sequence");p=m=o.position}else is_EOL(b)?(captureSegment(o,p,m,!0),writeFoldedLines(o,skipSeparationSpace(o,!1,l)),p=m=o.position):o.position===o.lineStart&&testDocumentSeparator(o)?throwError(o,"unexpected end of the document within a double quoted scalar"):(o.position++,m=o.position)}throwError(o,"unexpected end of the stream within a double quoted scalar")}function readFlowCollection(o,l){var p,m,g,y,_,b,S,A,T,w,D,O,k=!0,I=o.tag,N=o.anchor,L=Object.create(null);if(91===(O=o.input.charCodeAt(o.position)))_=93,A=!1,y=[];else{if(123!==O)return!1;_=125,A=!0,y={}}for(null!==o.anchor&&(o.anchorMap[o.anchor]=y),O=o.input.charCodeAt(++o.position);0!==O;){if(skipSeparationSpace(o,!0,l),(O=o.input.charCodeAt(o.position))===_)return o.position++,o.tag=I,o.anchor=N,o.kind=A?"mapping":"sequence",o.result=y,!0;k?44===O&&throwError(o,"expected the node content, but found ','"):throwError(o,"missed comma between flow collection entries"),D=null,b=S=!1,63===O&&is_WS_OR_EOL(o.input.charCodeAt(o.position+1))&&(b=S=!0,o.position++,skipSeparationSpace(o,!0,l)),p=o.line,m=o.lineStart,g=o.position,composeNode(o,l,CONTEXT_FLOW_IN,!1,!0),w=o.tag,T=o.result,skipSeparationSpace(o,!0,l),O=o.input.charCodeAt(o.position),!S&&o.line!==p||58!==O||(b=!0,O=o.input.charCodeAt(++o.position),skipSeparationSpace(o,!0,l),composeNode(o,l,CONTEXT_FLOW_IN,!1,!0),D=o.result),A?storeMappingPair(o,y,L,w,T,D,p,m,g):b?y.push(storeMappingPair(o,null,L,w,T,D,p,m,g)):y.push(T),skipSeparationSpace(o,!0,l),44===(O=o.input.charCodeAt(o.position))?(k=!0,O=o.input.charCodeAt(++o.position)):k=!1}throwError(o,"unexpected end of the stream within a flow collection")}function readBlockScalar(o,l){var p,m,g,y,_=CHOMPING_CLIP,b=!1,S=!1,A=l,T=0,w=!1;if(124===(y=o.input.charCodeAt(o.position)))m=!1;else{if(62!==y)return!1;m=!0}for(o.kind="scalar",o.result="";0!==y;)if(43===(y=o.input.charCodeAt(++o.position))||45===y)CHOMPING_CLIP===_?_=43===y?CHOMPING_KEEP:CHOMPING_STRIP:throwError(o,"repeat of a chomping mode identifier");else{if(!((g=fromDecimalCode(y))>=0))break;0===g?throwError(o,"bad explicit indentation width of a block scalar; it cannot be less than one"):S?throwError(o,"repeat of an indentation width identifier"):(A=l+g-1,S=!0)}if(is_WHITE_SPACE(y)){do{y=o.input.charCodeAt(++o.position)}while(is_WHITE_SPACE(y));if(35===y)do{y=o.input.charCodeAt(++o.position)}while(!is_EOL(y)&&0!==y)}for(;0!==y;){for(readLineBreak(o),o.lineIndent=0,y=o.input.charCodeAt(o.position);(!S||o.lineIndent<A)&&32===y;)o.lineIndent++,y=o.input.charCodeAt(++o.position);if(!S&&o.lineIndent>A&&(A=o.lineIndent),is_EOL(y))T++;else{if(o.lineIndent<A){_===CHOMPING_KEEP?o.result+=common$1.repeat("\n",b?1+T:T):_===CHOMPING_CLIP&&b&&(o.result+="\n");break}for(m?is_WHITE_SPACE(y)?(w=!0,o.result+=common$1.repeat("\n",b?1+T:T)):w?(w=!1,o.result+=common$1.repeat("\n",T+1)):0===T?b&&(o.result+=" "):o.result+=common$1.repeat("\n",T):o.result+=common$1.repeat("\n",b?1+T:T),b=!0,S=!0,T=0,p=o.position;!is_EOL(y)&&0!==y;)y=o.input.charCodeAt(++o.position);captureSegment(o,p,o.position,!1)}}return!0}function readBlockSequence(o,l){var p,m,g=o.tag,y=o.anchor,_=[],b=!1;if(-1!==o.firstTabInLine)return!1;for(null!==o.anchor&&(o.anchorMap[o.anchor]=_),m=o.input.charCodeAt(o.position);0!==m&&(-1!==o.firstTabInLine&&(o.position=o.firstTabInLine,throwError(o,"tab characters must not be used in indentation")),45===m)&&is_WS_OR_EOL(o.input.charCodeAt(o.position+1));)if(b=!0,o.position++,skipSeparationSpace(o,!0,-1)&&o.lineIndent<=l)_.push(null),m=o.input.charCodeAt(o.position);else if(p=o.line,composeNode(o,l,CONTEXT_BLOCK_IN,!1,!0),_.push(o.result),skipSeparationSpace(o,!0,-1),m=o.input.charCodeAt(o.position),(o.line===p||o.lineIndent>l)&&0!==m)throwError(o,"bad indentation of a sequence entry");else if(o.lineIndent<l)break;return!!b&&(o.tag=g,o.anchor=y,o.kind="sequence",o.result=_,!0)}function readBlockMapping(o,l,p){var m,g,y,_,b,S,A,T=o.tag,w=o.anchor,D={},O=Object.create(null),k=null,I=null,N=null,L=!1,j=!1;if(-1!==o.firstTabInLine)return!1;for(null!==o.anchor&&(o.anchorMap[o.anchor]=D),A=o.input.charCodeAt(o.position);0!==A;){if(L||-1===o.firstTabInLine||(o.position=o.firstTabInLine,throwError(o,"tab characters must not be used in indentation")),m=o.input.charCodeAt(o.position+1),y=o.line,63!==A&&58!==A||!is_WS_OR_EOL(m)){if(_=o.line,b=o.lineStart,S=o.position,!composeNode(o,p,CONTEXT_FLOW_OUT,!1,!0))break;if(o.line===y){for(A=o.input.charCodeAt(o.position);is_WHITE_SPACE(A);)A=o.input.charCodeAt(++o.position);if(58===A)is_WS_OR_EOL(A=o.input.charCodeAt(++o.position))||throwError(o,"a whitespace character is expected after the key-value separator within a block mapping"),L&&(storeMappingPair(o,D,O,k,I,null,_,b,S),k=I=N=null),j=!0,L=!1,g=!1,k=o.tag,I=o.result;else{if(!j)return o.tag=T,o.anchor=w,!0;throwError(o,"can not read an implicit mapping pair; a colon is missed")}}else{if(!j)return o.tag=T,o.anchor=w,!0;throwError(o,"can not read a block mapping entry; a multiline key may not be an implicit key")}}else 63===A?(L&&(storeMappingPair(o,D,O,k,I,null,_,b,S),k=I=N=null),j=!0,L=!0,g=!0):L?(L=!1,g=!0):throwError(o,"incomplete explicit mapping pair; a key node is missed; or followed by a non-tabulated empty line"),o.position+=1,A=m;if((o.line===y||o.lineIndent>l)&&(L&&(_=o.line,b=o.lineStart,S=o.position),composeNode(o,l,CONTEXT_BLOCK_OUT,!0,g)&&(L?I=o.result:N=o.result),L||(storeMappingPair(o,D,O,k,I,N,_,b,S),k=I=N=null),skipSeparationSpace(o,!0,-1),A=o.input.charCodeAt(o.position)),(o.line===y||o.lineIndent>l)&&0!==A)throwError(o,"bad indentation of a mapping entry");else if(o.lineIndent<l)break}return L&&storeMappingPair(o,D,O,k,I,null,_,b,S),j&&(o.tag=T,o.anchor=w,o.kind="mapping",o.result=D),j}function readTagProperty(o){var l,p,m,g,y=!1,_=!1;if(33!==(g=o.input.charCodeAt(o.position)))return!1;if(null!==o.tag&&throwError(o,"duplication of a tag property"),60===(g=o.input.charCodeAt(++o.position))?(y=!0,g=o.input.charCodeAt(++o.position)):33===g?(_=!0,p="!!",g=o.input.charCodeAt(++o.position)):p="!",l=o.position,y){do{g=o.input.charCodeAt(++o.position)}while(0!==g&&62!==g);o.position<o.length?(m=o.input.slice(l,o.position),g=o.input.charCodeAt(++o.position)):throwError(o,"unexpected end of the stream within a verbatim tag")}else{for(;0!==g&&!is_WS_OR_EOL(g);)33===g&&(_?throwError(o,"tag suffix cannot contain exclamation marks"):(p=o.input.slice(l-1,o.position+1),PATTERN_TAG_HANDLE.test(p)||throwError(o,"named tag handle cannot contain such characters"),_=!0,l=o.position+1)),g=o.input.charCodeAt(++o.position);m=o.input.slice(l,o.position),PATTERN_FLOW_INDICATORS.test(m)&&throwError(o,"tag suffix cannot contain flow indicator characters")}m&&!PATTERN_TAG_URI.test(m)&&throwError(o,"tag name cannot contain such characters: "+m);try{m=decodeURIComponent(m)}catch(l){throwError(o,"tag name is malformed: "+m)}return y?o.tag=m:_hasOwnProperty$1.call(o.tagMap,p)?o.tag=o.tagMap[p]+m:"!"===p?o.tag="!"+m:"!!"===p?o.tag="tag:yaml.org,2002:"+m:throwError(o,'undeclared tag handle "'+p+'"'),!0}function readAnchorProperty(o){var l,p;if(38!==(p=o.input.charCodeAt(o.position)))return!1;for(null!==o.anchor&&throwError(o,"duplication of an anchor property"),p=o.input.charCodeAt(++o.position),l=o.position;0!==p&&!is_WS_OR_EOL(p)&&!is_FLOW_INDICATOR(p);)p=o.input.charCodeAt(++o.position);return o.position===l&&throwError(o,"name of an anchor node must contain at least one character"),o.anchor=o.input.slice(l,o.position),!0}function readAlias(o){var l,p,m;if(42!==(m=o.input.charCodeAt(o.position)))return!1;for(m=o.input.charCodeAt(++o.position),l=o.position;0!==m&&!is_WS_OR_EOL(m)&&!is_FLOW_INDICATOR(m);)m=o.input.charCodeAt(++o.position);return o.position===l&&throwError(o,"name of an alias node must contain at least one character"),p=o.input.slice(l,o.position),_hasOwnProperty$1.call(o.anchorMap,p)||throwError(o,'unidentified alias "'+p+'"'),o.result=o.anchorMap[p],skipSeparationSpace(o,!0,-1),!0}function composeNode(o,l,p,m,g){var y,_,b,S,A,T,w,D,O,k=1,I=!1,N=!1;if(null!==o.listener&&o.listener("open",o),o.tag=null,o.anchor=null,o.kind=null,o.result=null,y=_=b=CONTEXT_BLOCK_OUT===p||CONTEXT_BLOCK_IN===p,m&&skipSeparationSpace(o,!0,-1)&&(I=!0,o.lineIndent>l?k=1:o.lineIndent===l?k=0:o.lineIndent<l&&(k=-1)),1===k)for(;readTagProperty(o)||readAnchorProperty(o);)skipSeparationSpace(o,!0,-1)?(I=!0,b=y,o.lineIndent>l?k=1:o.lineIndent===l?k=0:o.lineIndent<l&&(k=-1)):b=!1;if(b&&(b=I||g),1!==k&&CONTEXT_BLOCK_OUT!==p||(D=CONTEXT_FLOW_IN===p||CONTEXT_FLOW_OUT===p?l:l+1,O=o.position-o.lineStart,1===k?b&&(readBlockSequence(o,O)||readBlockMapping(o,O,D))||readFlowCollection(o,D)?N=!0:(_&&readBlockScalar(o,D)||readSingleQuotedScalar(o,D)||readDoubleQuotedScalar(o,D)?N=!0:readAlias(o)?(N=!0,null===o.tag&&null===o.anchor||throwError(o,"alias node should not have any properties")):readPlainScalar(o,D,CONTEXT_FLOW_IN===p)&&(N=!0,null===o.tag&&(o.tag="?")),null!==o.anchor&&(o.anchorMap[o.anchor]=o.result)):0===k&&(N=b&&readBlockSequence(o,O))),null===o.tag)null!==o.anchor&&(o.anchorMap[o.anchor]=o.result);else if("?"===o.tag){for(null!==o.result&&"scalar"!==o.kind&&throwError(o,'unacceptable node kind for !<?> tag; it should be "scalar", not "'+o.kind+'"'),S=0,A=o.implicitTypes.length;S<A;S+=1)if((w=o.implicitTypes[S]).resolve(o.result)){o.result=w.construct(o.result),o.tag=w.tag,null!==o.anchor&&(o.anchorMap[o.anchor]=o.result);break}}else if("!"!==o.tag){if(_hasOwnProperty$1.call(o.typeMap[o.kind||"fallback"],o.tag))w=o.typeMap[o.kind||"fallback"][o.tag];else for(w=null,S=0,A=(T=o.typeMap.multi[o.kind||"fallback"]).length;S<A;S+=1)if(o.tag.slice(0,T[S].tag.length)===T[S].tag){w=T[S];break}w||throwError(o,"unknown tag !<"+o.tag+">"),null!==o.result&&w.kind!==o.kind&&throwError(o,"unacceptable node kind for !<"+o.tag+'> tag; it should be "'+w.kind+'", not "'+o.kind+'"'),w.resolve(o.result,o.tag)?(o.result=w.construct(o.result,o.tag),null!==o.anchor&&(o.anchorMap[o.anchor]=o.result)):throwError(o,"cannot resolve a node with !<"+o.tag+"> explicit tag")}return null!==o.listener&&o.listener("close",o),null!==o.tag||null!==o.anchor||N}function readDocument(o){var l,p,m,g,y=o.position,_=!1;for(o.version=null,o.checkLineBreaks=o.legacy,o.tagMap=Object.create(null),o.anchorMap=Object.create(null);0!==(g=o.input.charCodeAt(o.position))&&(skipSeparationSpace(o,!0,-1),g=o.input.charCodeAt(o.position),!(o.lineIndent>0||37!==g));){for(_=!0,g=o.input.charCodeAt(++o.position),l=o.position;0!==g&&!is_WS_OR_EOL(g);)g=o.input.charCodeAt(++o.position);for(m=[],(p=o.input.slice(l,o.position)).length<1&&throwError(o,"directive name must not be less than one character in length");0!==g;){for(;is_WHITE_SPACE(g);)g=o.input.charCodeAt(++o.position);if(35===g){do{g=o.input.charCodeAt(++o.position)}while(0!==g&&!is_EOL(g));break}if(is_EOL(g))break;for(l=o.position;0!==g&&!is_WS_OR_EOL(g);)g=o.input.charCodeAt(++o.position);m.push(o.input.slice(l,o.position))}0!==g&&readLineBreak(o),_hasOwnProperty$1.call(directiveHandlers,p)?directiveHandlers[p](o,p,m):throwWarning(o,'unknown document directive "'+p+'"')}skipSeparationSpace(o,!0,-1),0===o.lineIndent&&45===o.input.charCodeAt(o.position)&&45===o.input.charCodeAt(o.position+1)&&45===o.input.charCodeAt(o.position+2)?(o.position+=3,skipSeparationSpace(o,!0,-1)):_&&throwError(o,"directives end mark is expected"),composeNode(o,o.lineIndent-1,CONTEXT_BLOCK_OUT,!1,!0),skipSeparationSpace(o,!0,-1),o.checkLineBreaks&&PATTERN_NON_ASCII_LINE_BREAKS.test(o.input.slice(y,o.position))&&throwWarning(o,"non-ASCII line breaks are interpreted as content"),o.documents.push(o.result),o.position===o.lineStart&&testDocumentSeparator(o)?46===o.input.charCodeAt(o.position)&&(o.position+=3,skipSeparationSpace(o,!0,-1)):o.position<o.length-1&&throwError(o,"end of the stream or a document separator is expected")}function loadDocuments(o,l){l=l||{},0!==(o=String(o)).length&&(10!==o.charCodeAt(o.length-1)&&13!==o.charCodeAt(o.length-1)&&(o+="\n"),65279===o.charCodeAt(0)&&(o=o.slice(1)));var p=new State$2(o,l),m=o.indexOf("\0");for(-1!==m&&(p.position=m,throwError(p,"null byte is not allowed in input")),p.input+="\0";32===p.input.charCodeAt(p.position);)p.lineIndent+=1,p.position+=1;for(;p.position<p.length-1;)readDocument(p);return p.documents}function loadAll(o,l,p){null!==l&&"object"==typeof l&&void 0===p&&(p=l,l=null);var m=loadDocuments(o,p);if("function"!=typeof l)return m;for(var g=0,y=m.length;g<y;g+=1)l(m[g])}function load(o,l){var p=loadDocuments(o,l);if(0!==p.length){if(1===p.length)return p[0];throw new YAMLException$1("expected a single document in the stream, but found more")}}loader$1.loadAll=loadAll,loader$1.load=load;var dumper$1={},common=common$5,YAMLException=exception,DEFAULT_SCHEMA=_default,_toString=Object.prototype.toString,_hasOwnProperty=Object.prototype.hasOwnProperty,CHAR_BOM=65279,CHAR_TAB=9,CHAR_LINE_FEED=10,CHAR_CARRIAGE_RETURN=13,CHAR_SPACE=32,CHAR_EXCLAMATION=33,CHAR_DOUBLE_QUOTE=34,CHAR_SHARP=35,CHAR_PERCENT=37,CHAR_AMPERSAND=38,CHAR_SINGLE_QUOTE=39,CHAR_ASTERISK=42,CHAR_COMMA$1=44,CHAR_MINUS=45,CHAR_COLON$1=58,CHAR_EQUALS$1=61,CHAR_GREATER_THAN=62,CHAR_QUESTION=63,CHAR_COMMERCIAL_AT=64,CHAR_LEFT_SQUARE_BRACKET=91,CHAR_RIGHT_SQUARE_BRACKET=93,CHAR_GRAVE_ACCENT=96,CHAR_LEFT_CURLY_BRACKET=123,CHAR_VERTICAL_LINE=124,CHAR_RIGHT_CURLY_BRACKET=125,ESCAPE_SEQUENCES={0:"\\0",7:"\\a",8:"\\b",9:"\\t",10:"\\n",11:"\\v",12:"\\f",13:"\\r",27:"\\e",34:'\\"',92:"\\\\",133:"\\N",160:"\\_",8232:"\\L",8233:"\\P"},DEPRECATED_BOOLEANS_SYNTAX=["y","Y","yes","Yes","YES","on","On","ON","n","N","no","No","NO","off","Off","OFF"],DEPRECATED_BASE60_SYNTAX=/^[-+]?[0-9_]+(?::[0-9_]+)+(?:\.[0-9_]*)?$/;function compileStyleMap(o,l){var p,m,g,y,_,b,S;if(null===l)return{};for(p={},g=0,y=(m=Object.keys(l)).length;g<y;g+=1)_=m[g],b=String(l[_]),"!!"===_.slice(0,2)&&(_="tag:yaml.org,2002:"+_.slice(2)),(S=o.compiledTypeMap.fallback[_])&&_hasOwnProperty.call(S.styleAliases,b)&&(b=S.styleAliases[b]),p[_]=b;return p}function encodeHex(o){var l,p,m;if(l=o.toString(16).toUpperCase(),o<=255)p="x",m=2;else if(o<=65535)p="u",m=4;else{if(!(o<=4294967295))throw new YAMLException("code point within a string may not be greater than 0xFFFFFFFF");p="U",m=8}return"\\"+p+common.repeat("0",m-l.length)+l}var QUOTING_TYPE_SINGLE=1,QUOTING_TYPE_DOUBLE=2;function State$1(o){this.schema=o.schema||DEFAULT_SCHEMA,this.indent=Math.max(1,o.indent||2),this.noArrayIndent=o.noArrayIndent||!1,this.skipInvalid=o.skipInvalid||!1,this.flowLevel=common.isNothing(o.flowLevel)?-1:o.flowLevel,this.styleMap=compileStyleMap(this.schema,o.styles||null),this.sortKeys=o.sortKeys||!1,this.lineWidth=o.lineWidth||80,this.noRefs=o.noRefs||!1,this.noCompatMode=o.noCompatMode||!1,this.condenseFlow=o.condenseFlow||!1,this.quotingType='"'===o.quotingType?QUOTING_TYPE_DOUBLE:QUOTING_TYPE_SINGLE,this.forceQuotes=o.forceQuotes||!1,this.replacer="function"==typeof o.replacer?o.replacer:null,this.implicitTypes=this.schema.compiledImplicit,this.explicitTypes=this.schema.compiledExplicit,this.tag=null,this.result="",this.duplicates=[],this.usedDuplicates=null}function indentString(o,l){for(var p,m=common.repeat(" ",l),g=0,y=-1,_="",b=o.length;g<b;)-1===(y=o.indexOf("\n",g))?(p=o.slice(g),g=b):(p=o.slice(g,y+1),g=y+1),p.length&&"\n"!==p&&(_+=m),_+=p;return _}function generateNextLine(o,l){return"\n"+common.repeat(" ",o.indent*l)}function testImplicitResolving(o,l){var p,m;for(p=0,m=o.implicitTypes.length;p<m;p+=1)if(o.implicitTypes[p].resolve(l))return!0;return!1}function isWhitespace(o){return o===CHAR_SPACE||o===CHAR_TAB}function isPrintable(o){return 32<=o&&o<=126||161<=o&&o<=55295&&8232!==o&&8233!==o||57344<=o&&o<=65533&&o!==CHAR_BOM||65536<=o&&o<=1114111}function isNsCharOrWhitespace(o){return isPrintable(o)&&o!==CHAR_BOM&&o!==CHAR_CARRIAGE_RETURN&&o!==CHAR_LINE_FEED}function isPlainSafe(o,l,p){var m=isNsCharOrWhitespace(o),g=m&&!isWhitespace(o);return(p?m:m&&o!==CHAR_COMMA$1&&o!==CHAR_LEFT_SQUARE_BRACKET&&o!==CHAR_RIGHT_SQUARE_BRACKET&&o!==CHAR_LEFT_CURLY_BRACKET&&o!==CHAR_RIGHT_CURLY_BRACKET)&&o!==CHAR_SHARP&&!(l===CHAR_COLON$1&&!g)||isNsCharOrWhitespace(l)&&!isWhitespace(l)&&o===CHAR_SHARP||l===CHAR_COLON$1&&g}function isPlainSafeFirst(o){return isPrintable(o)&&o!==CHAR_BOM&&!isWhitespace(o)&&o!==CHAR_MINUS&&o!==CHAR_QUESTION&&o!==CHAR_COLON$1&&o!==CHAR_COMMA$1&&o!==CHAR_LEFT_SQUARE_BRACKET&&o!==CHAR_RIGHT_SQUARE_BRACKET&&o!==CHAR_LEFT_CURLY_BRACKET&&o!==CHAR_RIGHT_CURLY_BRACKET&&o!==CHAR_SHARP&&o!==CHAR_AMPERSAND&&o!==CHAR_ASTERISK&&o!==CHAR_EXCLAMATION&&o!==CHAR_VERTICAL_LINE&&o!==CHAR_EQUALS$1&&o!==CHAR_GREATER_THAN&&o!==CHAR_SINGLE_QUOTE&&o!==CHAR_DOUBLE_QUOTE&&o!==CHAR_PERCENT&&o!==CHAR_COMMERCIAL_AT&&o!==CHAR_GRAVE_ACCENT}function isPlainSafeLast(o){return!isWhitespace(o)&&o!==CHAR_COLON$1}function codePointAt(o,l){var p,m=o.charCodeAt(l);return m>=55296&&m<=56319&&l+1<o.length&&(p=o.charCodeAt(l+1))>=56320&&p<=57343?1024*(m-55296)+p-56320+65536:m}function needIndentIndicator(o){return/^\n* /.test(o)}var STYLE_PLAIN=1,STYLE_SINGLE=2,STYLE_LITERAL=3,STYLE_FOLDED=4,STYLE_DOUBLE=5;function chooseScalarStyle(o,l,p,m,g,y,_,b){var S,A=0,T=null,w=!1,D=!1,O=-1!==m,k=-1,I=isPlainSafeFirst(codePointAt(o,0))&&isPlainSafeLast(codePointAt(o,o.length-1));if(l||_)for(S=0;S<o.length;A>=65536?S+=2:S++){if(!isPrintable(A=codePointAt(o,S)))return STYLE_DOUBLE;I=I&&isPlainSafe(A,T,b),T=A}else{for(S=0;S<o.length;A>=65536?S+=2:S++){if((A=codePointAt(o,S))===CHAR_LINE_FEED)w=!0,O&&(D=D||S-k-1>m&&" "!==o[k+1],k=S);else if(!isPrintable(A))return STYLE_DOUBLE;I=I&&isPlainSafe(A,T,b),T=A}D=D||O&&S-k-1>m&&" "!==o[k+1]}return w||D?p>9&&needIndentIndicator(o)?STYLE_DOUBLE:_?y===QUOTING_TYPE_DOUBLE?STYLE_DOUBLE:STYLE_SINGLE:D?STYLE_FOLDED:STYLE_LITERAL:!I||_||g(o)?y===QUOTING_TYPE_DOUBLE?STYLE_DOUBLE:STYLE_SINGLE:STYLE_PLAIN}function writeScalar(o,l,p,m,g){o.dump=function(){if(0===l.length)return o.quotingType===QUOTING_TYPE_DOUBLE?'""':"''";if(!o.noCompatMode&&(-1!==DEPRECATED_BOOLEANS_SYNTAX.indexOf(l)||DEPRECATED_BASE60_SYNTAX.test(l)))return o.quotingType===QUOTING_TYPE_DOUBLE?'"'+l+'"':"'"+l+"'";var y=o.indent*Math.max(1,p),_=-1===o.lineWidth?-1:Math.max(Math.min(o.lineWidth,40),o.lineWidth-y),b=m||o.flowLevel>-1&&p>=o.flowLevel;switch(chooseScalarStyle(l,b,o.indent,_,function(l){return testImplicitResolving(o,l)},o.quotingType,o.forceQuotes&&!m,g)){case STYLE_PLAIN:return l;case STYLE_SINGLE:return"'"+l.replace(/'/g,"''")+"'";case STYLE_LITERAL:return"|"+blockHeader(l,o.indent)+dropEndingNewline(indentString(l,y));case STYLE_FOLDED:return">"+blockHeader(l,o.indent)+dropEndingNewline(indentString(foldString(l,_),y));case STYLE_DOUBLE:return'"'+escapeString$1(l)+'"';default:throw new YAMLException("impossible error: invalid scalar style")}}()}function blockHeader(o,l){var p=needIndentIndicator(o)?String(l):"",m="\n"===o[o.length-1];return p+(m&&("\n"===o[o.length-2]||"\n"===o)?"+":m?"":"-")+"\n"}function dropEndingNewline(o){return"\n"===o[o.length-1]?o.slice(0,-1):o}function foldString(o,l){for(var p,m,g,y=/(\n+)([^\n]*)/g,_=(p=-1!==(p=o.indexOf("\n"))?p:o.length,y.lastIndex=p,foldLine(o.slice(0,p),l)),b="\n"===o[0]||" "===o[0];g=y.exec(o);){var S=g[1],A=g[2];m=" "===A[0],_+=S+(b||m||""===A?"":"\n")+foldLine(A,l),b=m}return _}function foldLine(o,l){if(""===o||" "===o[0])return o;for(var p,m,g=/ [^ ]/g,y=0,_=0,b=0,S="";p=g.exec(o);)(b=p.index)-y>l&&(m=_>y?_:b,S+="\n"+o.slice(y,m),y=m+1),_=b;return S+="\n",o.length-y>l&&_>y?S+=o.slice(y,_)+"\n"+o.slice(_+1):S+=o.slice(y),S.slice(1)}function escapeString$1(o){for(var l,p="",m=0,g=0;g<o.length;m>=65536?g+=2:g++)m=codePointAt(o,g),!(l=ESCAPE_SEQUENCES[m])&&isPrintable(m)?(p+=o[g],m>=65536&&(p+=o[g+1])):p+=l||encodeHex(m);return p}function writeFlowSequence(o,l,p){var m,g,y,_="",b=o.tag;for(m=0,g=p.length;m<g;m+=1)y=p[m],o.replacer&&(y=o.replacer.call(p,String(m),y)),(writeNode(o,l,y,!1,!1)||void 0===y&&writeNode(o,l,null,!1,!1))&&(""!==_&&(_+=","+(o.condenseFlow?"":" ")),_+=o.dump);o.tag=b,o.dump="["+_+"]"}function writeBlockSequence(o,l,p,m){var g,y,_,b="",S=o.tag;for(g=0,y=p.length;g<y;g+=1)_=p[g],o.replacer&&(_=o.replacer.call(p,String(g),_)),(writeNode(o,l+1,_,!0,!0,!1,!0)||void 0===_&&writeNode(o,l+1,null,!0,!0,!1,!0))&&(m&&""===b||(b+=generateNextLine(o,l)),o.dump&&CHAR_LINE_FEED===o.dump.charCodeAt(0)?b+="-":b+="- ",b+=o.dump);o.tag=S,o.dump=b||"[]"}function writeFlowMapping(o,l,p){var m,g,y,_,b,S="",A=o.tag,T=Object.keys(p);for(m=0,g=T.length;m<g;m+=1)b="",""!==S&&(b+=", "),o.condenseFlow&&(b+='"'),_=p[y=T[m]],o.replacer&&(_=o.replacer.call(p,y,_)),writeNode(o,l,y,!1,!1)&&(o.dump.length>1024&&(b+="? "),b+=o.dump+(o.condenseFlow?'"':"")+":"+(o.condenseFlow?"":" "),writeNode(o,l,_,!1,!1)&&(S+=b+=o.dump));o.tag=A,o.dump="{"+S+"}"}function writeBlockMapping(o,l,p,m){var g,y,_,b,S,A,T="",w=o.tag,D=Object.keys(p);if(!0===o.sortKeys)D.sort();else if("function"==typeof o.sortKeys)D.sort(o.sortKeys);else if(o.sortKeys)throw new YAMLException("sortKeys must be a boolean or a function");for(g=0,y=D.length;g<y;g+=1)A="",m&&""===T||(A+=generateNextLine(o,l)),b=p[_=D[g]],o.replacer&&(b=o.replacer.call(p,_,b)),writeNode(o,l+1,_,!0,!0,!0)&&((S=null!==o.tag&&"?"!==o.tag||o.dump&&o.dump.length>1024)&&(o.dump&&CHAR_LINE_FEED===o.dump.charCodeAt(0)?A+="?":A+="? "),A+=o.dump,S&&(A+=generateNextLine(o,l)),writeNode(o,l+1,b,!0,S)&&(o.dump&&CHAR_LINE_FEED===o.dump.charCodeAt(0)?A+=":":A+=": ",T+=A+=o.dump));o.tag=w,o.dump=T||"{}"}function detectType(o,l,p){var m,g,y,_,b,S;for(y=0,_=(g=p?o.explicitTypes:o.implicitTypes).length;y<_;y+=1)if(((b=g[y]).instanceOf||b.predicate)&&(!b.instanceOf||"object"==typeof l&&l instanceof b.instanceOf)&&(!b.predicate||b.predicate(l))){if(p?b.multi&&b.representName?o.tag=b.representName(l):o.tag=b.tag:o.tag="?",b.represent){if(S=o.styleMap[b.tag]||b.defaultStyle,"[object Function]"===_toString.call(b.represent))m=b.represent(l,S);else{if(!_hasOwnProperty.call(b.represent,S))throw new YAMLException("!<"+b.tag+'> tag resolver accepts not "'+S+'" style');m=b.represent[S](l,S)}o.dump=m}return!0}return!1}function writeNode(o,l,p,m,g,y,_){o.tag=null,o.dump=p,detectType(o,p,!1)||detectType(o,p,!0);var b,S=_toString.call(o.dump),A=m;m&&(m=o.flowLevel<0||o.flowLevel>l);var T,w,D="[object Object]"===S||"[object Array]"===S;if(D&&(w=-1!==(T=o.duplicates.indexOf(p))),(null!==o.tag&&"?"!==o.tag||w||2!==o.indent&&l>0)&&(g=!1),w&&o.usedDuplicates[T])o.dump="*ref_"+T;else{if(D&&w&&!o.usedDuplicates[T]&&(o.usedDuplicates[T]=!0),"[object Object]"===S)m&&0!==Object.keys(o.dump).length?(writeBlockMapping(o,l,o.dump,g),w&&(o.dump="&ref_"+T+o.dump)):(writeFlowMapping(o,l,o.dump),w&&(o.dump="&ref_"+T+" "+o.dump));else if("[object Array]"===S)m&&0!==o.dump.length?(o.noArrayIndent&&!_&&l>0?writeBlockSequence(o,l-1,o.dump,g):writeBlockSequence(o,l,o.dump,g),w&&(o.dump="&ref_"+T+o.dump)):(writeFlowSequence(o,l,o.dump),w&&(o.dump="&ref_"+T+" "+o.dump));else{if("[object String]"!==S){if("[object Undefined]"===S)return!1;if(o.skipInvalid)return!1;throw new YAMLException("unacceptable kind of an object to dump "+S)}"?"!==o.tag&&writeScalar(o,o.dump,l,y,A)}null!==o.tag&&"?"!==o.tag&&(b=encodeURI("!"===o.tag[0]?o.tag.slice(1):o.tag).replace(/!/g,"%21"),b="!"===o.tag[0]?"!"+b:"tag:yaml.org,2002:"===b.slice(0,18)?"!!"+b.slice(18):"!<"+b+">",o.dump=b+" "+o.dump)}return!0}function getDuplicateReferences(o,l){var p,m,g=[],y=[];for(inspectNode(o,g,y),p=0,m=y.length;p<m;p+=1)l.duplicates.push(g[y[p]]);l.usedDuplicates=new Array(m)}function inspectNode(o,l,p){var m,g,y;if(null!==o&&"object"==typeof o)if(-1!==(g=l.indexOf(o)))-1===p.indexOf(g)&&p.push(g);else if(l.push(o),Array.isArray(o))for(g=0,y=o.length;g<y;g+=1)inspectNode(o[g],l,p);else for(g=0,y=(m=Object.keys(o)).length;g<y;g+=1)inspectNode(o[m[g]],l,p)}function dump(o,l){var p=new State$1(l=l||{});p.noRefs||getDuplicateReferences(o,p);var m=o;return p.replacer&&(m=p.replacer.call({"":m},"",m)),writeNode(p,0,m,!0,!0)?p.dump+"\n":""}dumper$1.dump=dump;var loader=loader$1,dumper=dumper$1;function renamed(o,l){return function(){throw new Error("Function yaml."+o+" is removed in js-yaml 4. Use yaml."+l+" instead, which is now safe by default.")}}jsYaml.Type=type,jsYaml.Schema=schema,jsYaml.FAILSAFE_SCHEMA=failsafe,jsYaml.JSON_SCHEMA=json,jsYaml.CORE_SCHEMA=core,jsYaml.DEFAULT_SCHEMA=_default,jsYaml.load=loader.load,jsYaml.loadAll=loader.loadAll,jsYaml.dump=dumper.dump,jsYaml.YAMLException=exception,jsYaml.types={binary:binary,float:float,map:map,null:_null,pairs:pairs,set:set$1,timestamp:timestamp,bool:bool,int:int,merge:merge,omap:omap,seq:seq,str:str},jsYaml.safeLoad=renamed("safeLoad","load"),jsYaml.safeLoadAll=renamed("safeLoadAll","loadAll"),jsYaml.safeDump=renamed("safeDump","dump");var dist={exports:{}};const REGEX_DATA="xregexp",features={astral:!1,namespacing:!0},fixed={};let regexCache=Object.create(null),patternCache=Object.create(null);const tokens=[],defaultScope="default",classScope="class",nativeTokens={default:/\\(?:0(?:[0-3][0-7]{0,2}|[4-7][0-7]?)?|[1-9]\d*|x[\dA-Fa-f]{2}|u(?:[\dA-Fa-f]{4}|{[\dA-Fa-f]+})|c[A-Za-z]|[\s\S])|\(\?(?:[:=!]|<[=!])|[?*+]\?|{\d+(?:,\d*)?}\??|[\s\S]/,class:/\\(?:[0-3][0-7]{0,2}|[4-7][0-7]?|x[\dA-Fa-f]{2}|u(?:[\dA-Fa-f]{4}|{[\dA-Fa-f]+})|c[A-Za-z]|[\s\S])|[\s\S]/},replacementToken=/\$(?:\{([^\}]+)\}|<([^>]+)>|(\d\d?|[\s\S]?))/g,correctExecNpcg=void 0===/()??/.exec("")[1],hasFlagsProp=void 0!==/x/.flags;function hasNativeFlag(o){let l=!0;try{if(new RegExp("",o),"y"===o){".."===".a".replace(new RegExp("a","gy"),".")&&(l=!1)}}catch(o){l=!1}return l}const hasNativeD=hasNativeFlag("d"),hasNativeS=hasNativeFlag("s"),hasNativeU=hasNativeFlag("u"),hasNativeY=hasNativeFlag("y"),registeredFlags={d:hasNativeD,g:!0,i:!0,m:!0,s:hasNativeS,u:hasNativeU,y:hasNativeY},nonnativeFlags=hasNativeS?/[^dgimsuy]+/g:/[^dgimuy]+/g;function augment(o,l,p,m,g){if(o[REGEX_DATA]={captureNames:l},g)return o;if(o.__proto__)o.__proto__=XRegExp.prototype;else for(const l in XRegExp.prototype)o[l]=XRegExp.prototype[l];return o[REGEX_DATA].source=p,o[REGEX_DATA].flags=m?m.split("").sort().join(""):m,o}function clipDuplicates(o){return o.replace(/([\s\S])(?=[\s\S]*\1)/g,"")}function copyRegex(o,l){if(!XRegExp.isRegExp(o))throw new TypeError("Type RegExp expected");const p=o[REGEX_DATA]||{};let m=getNativeFlags(o),g="",y="",_=null,b=null;return(l=l||{}).removeG&&(y+="g"),l.removeY&&(y+="y"),y&&(m=m.replace(new RegExp(`[${y}]+`,"g"),"")),l.addG&&(g+="g"),l.addY&&(g+="y"),g&&(m=clipDuplicates(m+g)),l.isInternalOnly||(void 0!==p.source&&(_=p.source),null!=p.flags&&(b=g?clipDuplicates(p.flags+g):p.flags)),o=augment(new RegExp(l.source||o.source,m),hasNamedCapture(o)?p.captureNames.slice(0):null,_,b,l.isInternalOnly)}function dec(o){return parseInt(o,16)}function getContextualTokenSeparator(o,l,p){const m=o.index+o[0].length,g=o.input[o.index-1],y=o.input[m];return/^[()|]$/.test(g)||/^[()|]$/.test(y)||0===o.index||m===o.input.length||/\(\?(?:[:=!]|<[=!])$/.test(o.input.substring(o.index-4,o.index))||isQuantifierNext(o.input,m,p)?"":"(?:)"}function getNativeFlags(o){return hasFlagsProp?o.flags:/\/([a-z]*)$/i.exec(RegExp.prototype.toString.call(o))[1]}function hasNamedCapture(o){return!(!o[REGEX_DATA]||!o[REGEX_DATA].captureNames)}function hex(o){return parseInt(o,10).toString(16)}function isQuantifierNext(o,l,p){const m="\\(\\?#[^)]*\\)",g="[?*+]|{\\d+(?:,\\d*)?}";return(p.includes("x")?new RegExp(`^(?:\\s|#[^#\\n]*|${m})*(?:${g})`):new RegExp(`^(?:${m})*(?:${g})`)).test(o.slice(l))}function isType(o,l){return Object.prototype.toString.call(o)===`[object ${l}]`}function nullThrows(o){if(null==o)throw new TypeError("Cannot convert null or undefined to object");return o}function pad4(o){for(;o.length<4;)o=`0${o}`;return o}function prepareFlags(o,l){if(clipDuplicates(l)!==l)throw new SyntaxError(`Invalid duplicate regex flag ${l}`);o=o.replace(/^\(\?([\w$]+)\)/,(o,p)=>{if(/[dgy]/.test(p))throw new SyntaxError(`Cannot use flags dgy in mode modifier ${o}`);return l=clipDuplicates(l+p),""});for(const o of l)if(!registeredFlags[o])throw new SyntaxError(`Unknown regex flag ${o}`);return{pattern:o,flags:l}}function prepareOptions(o){const l={};return isType(o,"String")?(XRegExp.forEach(o,/[^\s,]+/,o=>{l[o]=!0}),l):o}function registerFlag(o){if(!/^[\w$]$/.test(o))throw new Error("Flag must be a single character A-Za-z0-9_$");registeredFlags[o]=!0}function runTokens(o,l,p,m,g){let y=tokens.length;const _=o[p];let b,S,A=null;for(;y--;)if(S=tokens[y],!(S.leadChar&&S.leadChar!==_||S.scope!==m&&"all"!==S.scope||S.flag&&!l.includes(S.flag))&&(b=XRegExp.exec(o,S.regex,p,"sticky"),b)){A={matchLength:b[0].length,output:S.handler.call(g,b,m,l),reparse:S.reparse};break}return A}function setAstral(o){features.astral=o}function setNamespacing(o){features.namespacing=o}function XRegExp(o,l){if(XRegExp.isRegExp(o)){if(void 0!==l)throw new TypeError("Cannot supply flags when copying a RegExp");return copyRegex(o)}if(o=void 0===o?"":String(o),l=void 0===l?"":String(l),XRegExp.isInstalled("astral")&&!l.includes("A")&&(l+="A"),patternCache[o]||(patternCache[o]={}),!patternCache[o][l]){const p={hasNamedCapture:!1,captureNames:[]};let m,g=defaultScope,y="",_=0;const b=prepareFlags(o,l);let S=b.pattern;const A=b.flags;for(;_<S.length;){do{m=runTokens(S,A,_,g,p),m&&m.reparse&&(S=S.slice(0,_)+m.output+S.slice(_+m.matchLength))}while(m&&m.reparse);if(m)y+=m.output,_+=m.matchLength||1;else{const[o]=XRegExp.exec(S,nativeTokens[g],_,"sticky");y+=o,_+=o.length,"["===o&&g===defaultScope?g=classScope:"]"===o&&g===classScope&&(g=defaultScope)}}patternCache[o][l]={pattern:y.replace(/(?:\(\?:\))+/g,"(?:)"),flags:A.replace(nonnativeFlags,""),captures:p.hasNamedCapture?p.captureNames:null}}const p=patternCache[o][l];return augment(new RegExp(p.pattern,p.flags),p.captures,o,l)}XRegExp.prototype=new RegExp,XRegExp.version="5.1.2",XRegExp._clipDuplicates=clipDuplicates,XRegExp._hasNativeFlag=hasNativeFlag,XRegExp._dec=dec,XRegExp._hex=hex,XRegExp._pad4=pad4,XRegExp.addToken=(o,l,p)=>{p=p||{};let{optionalFlags:m}=p;if(p.flag&&registerFlag(p.flag),m){m=m.split("");for(const o of m)registerFlag(o)}tokens.push({regex:copyRegex(o,{addG:!0,addY:hasNativeY,isInternalOnly:!0}),handler:l,scope:p.scope||defaultScope,flag:p.flag,reparse:p.reparse,leadChar:p.leadChar}),XRegExp.cache.flush("patterns")},XRegExp.cache=(o,l)=>(regexCache[o]||(regexCache[o]={}),regexCache[o][l]||(regexCache[o][l]=XRegExp(o,l))),XRegExp.cache.flush=o=>{"patterns"===o?patternCache=Object.create(null):regexCache=Object.create(null)},XRegExp.escape=o=>String(nullThrows(o)).replace(/[\\\[\]{}()*+?.^$|]/g,"\\$&").replace(/[\s#\-,]/g,o=>`\\u${pad4(hex(o.charCodeAt(0)))}`),XRegExp.exec=(o,l,p,m)=>{let g,y="g",_=!1,b=!1;_=hasNativeY&&!!(m||l.sticky&&!1!==m),_?y+="y":m&&(b=!0,y+="FakeY"),l[REGEX_DATA]=l[REGEX_DATA]||{};const S=l[REGEX_DATA][y]||(l[REGEX_DATA][y]=copyRegex(l,{addG:!0,addY:_,source:b?`${l.source}|()`:void 0,removeY:!1===m,isInternalOnly:!0}));return p=p||0,S.lastIndex=p,g=fixed.exec.call(S,o),b&&g&&""===g.pop()&&(g=null),l.global&&(l.lastIndex=g?S.lastIndex:0),g},XRegExp.forEach=(o,l,p)=>{let m,g=0,y=-1;for(;m=XRegExp.exec(o,l,g);)p(m,++y,o,l),g=m.index+(m[0].length||1)},XRegExp.globalize=o=>copyRegex(o,{addG:!0}),XRegExp.install=o=>{o=prepareOptions(o),!features.astral&&o.astral&&setAstral(!0),!features.namespacing&&o.namespacing&&setNamespacing(!0)},XRegExp.isInstalled=o=>!!features[o],XRegExp.isRegExp=o=>"[object RegExp]"===Object.prototype.toString.call(o),XRegExp.match=(o,l,p)=>{const m=l.global&&"one"!==p||"all"===p,g=(m?"g":"")+(l.sticky?"y":"")||"noGY";l[REGEX_DATA]=l[REGEX_DATA]||{};const y=l[REGEX_DATA][g]||(l[REGEX_DATA][g]=copyRegex(l,{addG:!!m,removeG:"one"===p,isInternalOnly:!0})),_=String(nullThrows(o)).match(y);return l.global&&(l.lastIndex="one"===p&&_?_.index+_[0].length:0),m?_||[]:_&&_[0]},XRegExp.matchChain=(o,l)=>function recurseChain(o,p){const m=l[p].regex?l[p]:{regex:l[p]},g=[];function addMatch(o){if(m.backref){const l=`Backreference to undefined group: ${m.backref}`,p=isNaN(m.backref);if(p&&XRegExp.isInstalled("namespacing")){if(!o.groups||!(m.backref in o.groups))throw new ReferenceError(l)}else if(!o.hasOwnProperty(m.backref))throw new ReferenceError(l);const y=p&&XRegExp.isInstalled("namespacing")?o.groups[m.backref]:o[m.backref];g.push(y||"")}else g.push(o[0])}for(const l of o)XRegExp.forEach(l,m.regex,addMatch);return p!==l.length-1&&g.length?recurseChain(g,p+1):g}([o],0),XRegExp.replace=(o,l,p,m)=>{const g=XRegExp.isRegExp(l),y=l.global&&"one"!==m||"all"===m,_=(y?"g":"")+(l.sticky?"y":"")||"noGY";let b=l;g?(l[REGEX_DATA]=l[REGEX_DATA]||{},b=l[REGEX_DATA][_]||(l[REGEX_DATA][_]=copyRegex(l,{addG:!!y,removeG:"one"===m,isInternalOnly:!0}))):y&&(b=new RegExp(XRegExp.escape(String(l)),"g"));const S=fixed.replace.call(nullThrows(o),b,p);return g&&l.global&&(l.lastIndex=0),S},XRegExp.replaceEach=(o,l)=>{for(const p of l)o=XRegExp.replace(o,p[0],p[1],p[2]);return o},XRegExp.split=(o,l,p)=>fixed.split.call(nullThrows(o),l,p),XRegExp.test=(o,l,p,m)=>!!XRegExp.exec(o,l,p,m),XRegExp.uninstall=o=>{o=prepareOptions(o),features.astral&&o.astral&&setAstral(!1),features.namespacing&&o.namespacing&&setNamespacing(!1)},XRegExp.union=(o,l,p)=>{const m=(p=p||{}).conjunction||"or";let g,y,_=0;function rewrite(o,l,p){const m=y[_-g];if(l){if(++_,m)return`(?<${m}>`}else if(p)return`\\${+p+g}`;return o}if(!isType(o,"Array")||!o.length)throw new TypeError("Must provide a nonempty array of patterns to merge");const b=/(\()(?!\?)|\\([1-9]\d*)|\\[\s\S]|\[(?:[^\\\]]|\\[\s\S])*\]/g,S=[];for(const l of o)XRegExp.isRegExp(l)?(g=_,y=l[REGEX_DATA]&&l[REGEX_DATA].captureNames||[],S.push(XRegExp(l.source).source.replace(b,rewrite))):S.push(XRegExp.escape(l));const A="none"===m?"":"|";return XRegExp(S.join(A),l)},fixed.exec=function(o){const l=this.lastIndex,p=RegExp.prototype.exec.apply(this,arguments);if(p){if(!correctExecNpcg&&p.length>1&&p.includes("")){const l=copyRegex(this,{removeG:!0,isInternalOnly:!0});String(o).slice(p.index).replace(l,(...o)=>{const l=o.length;for(let m=1;m<l-2;++m)void 0===o[m]&&(p[m]=void 0)})}if(this[REGEX_DATA]&&this[REGEX_DATA].captureNames){let o=p;XRegExp.isInstalled("namespacing")&&(p.groups=Object.create(null),o=p.groups);for(let l=1;l<p.length;++l){const m=this[REGEX_DATA].captureNames[l-1];m&&(o[m]=p[l])}}else!p.groups&&XRegExp.isInstalled("namespacing")&&(p.groups=void 0);this.global&&!p[0].length&&this.lastIndex>p.index&&(this.lastIndex=p.index)}return this.global||(this.lastIndex=l),p},fixed.test=function(o){return!!fixed.exec.call(this,o)},fixed.match=function(o){if(XRegExp.isRegExp(o)){if(o.global){const l=String.prototype.match.apply(this,arguments);return o.lastIndex=0,l}}else o=new RegExp(o);return fixed.exec.call(o,nullThrows(this))},fixed.replace=function(o,l){const p=XRegExp.isRegExp(o);let m,g,y;return p?(o[REGEX_DATA]&&({captureNames:g}=o[REGEX_DATA]),m=o.lastIndex):o+="",y=isType(l,"Function")?String(this).replace(o,(...o)=>{if(g){let l;XRegExp.isInstalled("namespacing")?(l=Object.create(null),o.push(l)):(o[0]=new String(o[0]),[l]=o);for(let p=0;p<g.length;++p)g[p]&&(l[g[p]]=o[p+1])}return l(...o)}):String(nullThrows(this)).replace(o,(...o)=>String(l).replace(replacementToken,function(l,p,m,y){p=p||m;const _=isType(o[o.length-1],"Object")?4:3,b=o.length-_;if(p){if(/^\d+$/.test(p)){const l=+p;if(l<=b)return o[l]||""}const m=g?g.indexOf(p):-1;if(m<0)throw new SyntaxError(`Backreference to undefined group ${l}`);return o[m+1]||""}if(""===y||" "===y)throw new SyntaxError(`Invalid token ${l}`);if("&"===y||0===+y)return o[0];if("$"===y)return"$";if("`"===y)return o[o.length-1].slice(0,o[o.length-2]);if("'"===y)return o[o.length-1].slice(o[o.length-2]+o[0].length);if(y=+y,!isNaN(y)){if(y>b)throw new SyntaxError(`Backreference to undefined group ${l}`);return o[y]||""}throw new SyntaxError(`Invalid token ${l}`)})),p&&(o.global?o.lastIndex=0:o.lastIndex=m),y},fixed.split=function(o,l){if(!XRegExp.isRegExp(o))return String.prototype.split.apply(this,arguments);const p=String(this),m=[],g=o.lastIndex;let y,_=0;return l=(void 0===l?-1:l)>>>0,XRegExp.forEach(p,o,o=>{o.index+o[0].length>_&&(m.push(p.slice(_,o.index)),o.length>1&&o.index<p.length&&Array.prototype.push.apply(m,o.slice(1)),y=o[0].length,_=o.index+y)}),_===p.length?o.test("")&&!y||m.push(""):m.push(p.slice(_)),o.lastIndex=g,m.length>l?m.slice(0,l):m},XRegExp.addToken(/\\([ABCE-RTUVXYZaeg-mopqyz]|c(?![A-Za-z])|u(?![\dA-Fa-f]{4}|{[\dA-Fa-f]+})|x(?![\dA-Fa-f]{2}))/,(o,l)=>{if("B"===o[1]&&l===defaultScope)return o[0];throw new SyntaxError(`Invalid escape ${o[0]}`)},{scope:"all",leadChar:"\\"}),XRegExp.addToken(/\\u{([\dA-Fa-f]+)}/,(o,l,p)=>{const m=dec(o[1]);if(m>1114111)throw new SyntaxError(`Invalid Unicode code point ${o[0]}`);if(m<=65535)return`\\u${pad4(hex(m))}`;if(hasNativeU&&p.includes("u"))return o[0];throw new SyntaxError("Cannot use Unicode code point above \\u{FFFF} without flag u")},{scope:"all",leadChar:"\\"}),XRegExp.addToken(/\(\?#[^)]*\)/,getContextualTokenSeparator,{leadChar:"("}),XRegExp.addToken(/\s+|#[^\n]*\n?/,getContextualTokenSeparator,{flag:"x"}),hasNativeS||XRegExp.addToken(/\./,()=>"[\\s\\S]",{flag:"s",leadChar:"."}),XRegExp.addToken(/\\k<([^>]+)>/,function(o){const l=isNaN(o[1])?this.captureNames.indexOf(o[1])+1:+o[1],p=o.index+o[0].length;if(!l||l>this.captureNames.length)throw new SyntaxError(`Backreference to undefined group ${o[0]}`);return`\\${l}${p===o.input.length||isNaN(o.input[p])?"":"(?:)"}`},{leadChar:"\\"}),XRegExp.addToken(/\\(\d+)/,function(o,l){if(!(l===defaultScope&&/^[1-9]/.test(o[1])&&+o[1]<=this.captureNames.length)&&"0"!==o[1])throw new SyntaxError(`Cannot use octal escape or backreference to undefined group ${o[0]}`);return o[0]},{scope:"all",leadChar:"\\"}),XRegExp.addToken(/\(\?P?<([\p{ID_Start}$_][\p{ID_Continue}$_\u200C\u200D]*)>/u,function(o){if(!XRegExp.isInstalled("namespacing")&&("length"===o[1]||"__proto__"===o[1]))throw new SyntaxError(`Cannot use reserved word as capture name ${o[0]}`);if(this.captureNames.includes(o[1]))throw new SyntaxError(`Cannot use same name for multiple groups ${o[0]}`);return this.captureNames.push(o[1]),this.hasNamedCapture=!0,"("},{leadChar:"("}),XRegExp.addToken(/\((?!\?)/,function(o,l,p){return p.includes("n")?"(?:":(this.captureNames.push(null),"(")},{optionalFlags:"n",leadChar:"("});var build=o=>{const l="xregexp",p=/(\()(?!\?)|\\([1-9]\d*)|\\[\s\S]|\[(?:[^\\\]]|\\[\s\S])*\]/g,m=o.union([/\({{([\w$]+)}}\)|{{([\w$]+)}}/,p],"g",{conjunction:"or"});function deanchor(o){const l=/^(?:\(\?:\))*\^/,p=/\$(?:\(\?:\))*$/;return l.test(o)&&p.test(o)&&p.test(o.replace(/\\[\s\S]/g,""))?o.replace(l,"").replace(p,""):o}function asXRegExp(p,m){const g=m?"x":"";return o.isRegExp(p)?p[l]&&p[l].captureNames?p:o(p.source,g):o(p,g)}function interpolate(l){return l instanceof RegExp?l:o.escape(l)}function reduceToSubpatternsObject(o,l,p){return o[`subpattern${p}`]=l,o}function embedSubpatternAfter(o,l,p){return o+(l<p.length-1?`{{subpattern${l}}}`:"")}o.tag=l=>(p,...m)=>{const g=m.map(interpolate).reduce(reduceToSubpatternsObject,{}),y=p.raw.map(embedSubpatternAfter).join("");return o.build(y,g,l)},o.build=(g,y,_)=>{const b=(_=_||"").includes("x"),S=/^\(\?([\w$]+)\)/.exec(g);S&&(_=o._clipDuplicates(_+S[1]));const A={};for(const o in y)if(y.hasOwnProperty(o)){const p=asXRegExp(y[o],b);A[o]={pattern:deanchor(p.source),names:p[l].captureNames||[]}}const T=asXRegExp(g,b);let w,D=0,O=0;const k=[0],I=T[l].captureNames||[],N=T.source.replace(m,(o,l,m,g,y)=>{const _=l||m;let b,S,T;if(_){if(!A.hasOwnProperty(_))throw new ReferenceError(`Undefined property ${o}`);l?(b=I[O],k[++O]=++D,S=`(?<${b||_}>`):S="(?:",w=D;return`${S}${A[_].pattern.replace(p,(o,l,p)=>{if(l){if(b=A[_].names[D-w],++D,b)return`(?<${b}>`}else if(p)return T=+p-1,A[_].names[T]?`\\k<${A[_].names[T]}>`:`\\${+p+w}`;return o})})`}if(g){if(b=I[O],k[++O]=++D,b)return`(?<${b}>`}else if(y)return T=+y-1,I[T]?`\\k<${I[T]}>`:`\\${k[+y]}`;return o});return o(N,_)}},matchRecursive=o=>{function row(o,l,p,m){return{name:o,value:l,start:p,end:m}}o.matchRecursive=(l,p,m,g,y)=>{y=y||{};const _=(g=g||"").includes("g"),b=g.includes("y"),S=g.replace(/y/g,"");let A;p=o(p,S),m=o(m,S);let{escapeChar:T}=y;if(T){if(T.length>1)throw new Error("Cannot use more than one escape character");T=o.escape(T),A=new RegExp(`(?:${T}[\\S\\s]|(?:(?!${o.union([p,m],"",{conjunction:"or"}).source})[^${T}])+)+`,g.replace(o._hasNativeFlag("s")?/[^imsu]/g:/[^imu]/g,""))}let w,D,O,k,I=0,N=0,L=0,j=0;const B=y.valueNames,U=[];for(;;){if(T&&(L+=(o.exec(l,A,L,"sticky")||[""])[0].length),O=o.exec(l,p,L),k=o.exec(l,m,L),O&&k&&(O.index<=k.index?k=null:O=null),O||k)N=(O||k).index,L=N+(O||k)[0].length;else if(!I)break;if(b&&!I&&N>j)break;if(O)I||(w=N,D=L),I+=1;else if(k&&I){if(I-=1,!I&&(B?(B[0]&&w>j&&U.push(row(B[0],l.slice(j,w),j,w)),B[1]&&U.push(row(B[1],l.slice(w,D),w,D)),B[2]&&U.push(row(B[2],l.slice(D,N),D,N)),B[3]&&U.push(row(B[3],l.slice(N,L),N,L))):U.push(l.slice(D,N)),j=L,!_))break}else{const m=y.unbalanced||"error";if("skip"!==m&&"skip-lazy"!==m){if("error"===m){throw new Error(`Unbalanced ${k?"right":"left"} delimiter found in string at position ${k?N:w}`)}throw new Error(`Unsupported value for unbalanced: ${m}`)}if(k)k=null;else{if("skip"===m){L=w+(o.exec(l,p,w,"sticky")[0].length||1)}else L=w+1;I=0}}N===L&&(L+=1)}return _&&U.length>0&&!b&&B&&B[0]&&l.length>j&&U.push(row(B[0],l.slice(j),j,l.length)),U}},unicodeBase=o=>{const l={},p={},m=o._dec,g=o._hex,y=o._pad4;function normalize(o){return o.replace(/[- _]+/g,"").toLowerCase()}function charCode(o){const l=/^\\[xu](.+)/.exec(o);return l?m(l[1]):o.charCodeAt("\\"===o[0]?1:0)}function cacheInvertedBmp(p){return l[p]["b!"]||(l[p]["b!"]=function(l){let p="",m=-1;return o.forEach(l,/(\\x..|\\u....|\\?[\s\S])(?:-(\\x..|\\u....|\\?[\s\S]))?/,o=>{const l=charCode(o[1]);l>m+1&&(p+=`\\u${y(g(m+1))}`,l>m+2&&(p+=`-\\u${y(g(l-1))}`)),m=charCode(o[2]||o[1])}),m<65535&&(p+=`\\u${y(g(m+1))}`,m<65534&&(p+="-\\uFFFF")),p}(l[p].bmp))}function cacheAstral(o,p){const m=p?"a!":"a=";return l[o][m]||(l[o][m]=function(o,p){const m=l[o];let g="";return m.bmp&&!m.isBmpLast&&(g=`[${m.bmp}]${m.astral?"|":""}`),m.astral&&(g+=m.astral),m.isBmpLast&&m.bmp&&(g+=`${m.astral?"|":""}[${m.bmp}]`),p?`(?:(?!${g})(?:[\ud800-\udbff][\udc00-\udfff]|[\0-￿]))`:`(?:${g})`}(o,p))}o.addToken(/\\([pP])(?:{(\^?)(?:(\w+)=)?([^}]*)}|([A-Za-z]))/,(o,m,g)=>{const y="Unknown Unicode token ",[_,b,S,A,T,w]=o;let D="P"===b||!!S;const O=g.includes("A");let k=normalize(w||T),I=l[k];if("P"===b&&S)throw new SyntaxError("Invalid double negation "+_);if(!l.hasOwnProperty(k))throw new SyntaxError(y+_);if(A&&(!p[A]||!p[A][k]))throw new SyntaxError(y+_);if(I.inverseOf){if(k=normalize(I.inverseOf),!l.hasOwnProperty(k))throw new ReferenceError(`${"Unicode token missing data "+_} -> ${I.inverseOf}`);I=l[k],D=!D}if(!I.bmp&&!O)throw new SyntaxError("Astral mode required for Unicode token "+_);if(O){if("class"===m)throw new SyntaxError("Astral mode does not support Unicode tokens within character classes");return cacheAstral(k,D)}return"class"===m?D?cacheInvertedBmp(k):I.bmp:(D?"[^":"[")+I.bmp+"]"},{scope:"all",optionalFlags:"A",leadChar:"\\"}),o.addUnicodeData=(m,g)=>{g&&(p[g]={});for(const o of m){if(!o.name)throw new Error("Unicode token requires name");if(!(o.inverseOf||o.bmp||o.astral))throw new Error("Unicode token has no character data "+o.name);const m=normalize(o.name);if(l[m]=o,g&&(p[g][m]=!0),o.alias){const m=normalize(o.alias);l[m]=o,g&&(p[g][m]=!0)}}o.cache.flush("patterns")},o._getUnicodeProperty=o=>{const p=normalize(o);return l[p]}},categories=[{name:"C",alias:"Other",isBmpLast:!0,bmp:"\0--­͸͹΀-΃΋΍΢԰՗՘֋֌֐׈-׏׫-׮׵-؅؜۝܎܏݋݌޲-޿߻߼࠮࠯࠿࡜࡝࡟࡫-࡯࢏-ࢗ࣢঄঍঎঑঒঩঱঳-঵঺঻৅৆৉৊৏-৖৘-৛৞৤৥৿਀਄਋-਎਑਒਩਱਴਷਺਻਽੃-੆੉੊੎-੐੒-੘੝੟-੥੷-઀઄઎઒઩઱઴઺઻૆૊૎૏૑-૟૤૥૲-૸଀଄଍଎଑଒଩଱଴଺଻୅୆୉୊୎-୔୘-୛୞୤୥୸-஁஄஋-஍஑஖-஘஛஝஠-஢஥-஧஫-஭஺-஽௃-௅௉௎௏௑-௖௘-௥௻-௿఍఑఩఺఻౅౉౎-౔౗౛౜౞౟౤౥౰-౶಍಑಩಴಺಻೅೉೎-೔೗-೜೟೤೥೰ೳ-೿഍഑൅൉൐-൓൤൥඀඄඗-඙඲඼඾඿෇-෉෋-෎෕෗෠-෥෰෱෵-฀฻-฾๜-຀຃຅຋຤຦຾຿໅໇໎໏໚໛໠-໿཈཭-཰྘྽࿍࿛-࿿჆჈-჌჎჏቉቎቏቗቙቞቟኉኎኏኱኶኷኿዁዆዇዗጑጖጗፛፜፽-፿᎚-᎟᏶᏷᏾᏿᚝-᚟᛹-᛿᜖-᜞᜷-᜿᝔-᝟᝭᝱᝴-᝿៞៟៪-៯៺-៿᠎᠚-᠟᡹-᡿᢫-᢯᣶-᣿᤟᤬-᤯᤼-᤿᥁-᥃᥮᥯᥵-᥿᦬-᦯᧊-᧏᧛-᧝᨜᨝᩟᩽᩾᪊-᪏᪚-᪟᪮᪯᫏-᫿᭍-᭏᭿᯴-᯻᰸-᰺᱊-᱌Ᲊ-᲏᲻᲼᳈-᳏᳻-᳿἖἗἞἟὆὇὎὏὘὚὜὞὾὿᾵῅῔῕῜῰῱῵῿​-‏‪-‮⁠-⁯⁲⁳₏₝-₟⃁-⃏⃱-⃿↌-↏␧-␿⑋-⑟⭴⭵⮖⳴-⳸⴦⴨-⴬⴮⴯⵨-⵮⵱-⵾⶗-⶟⶧⶯⶷⶿⷇⷏⷗⷟⹞-⹿⺚⻴-⻿⿖-⿯⿼-⿿぀゗゘㄀-㄄㄰㆏㇤-㇯㈟꒍-꒏꓇-꓏꘬-꘿꛸-꛿Ɤ-꟏꟒꟔Ꟛ-꟱꠭-꠯꠺-꠿꡸-꡿꣆-꣍꣚-꣟꥔-꥞꥽-꥿꧎꧚-꧝꧿꨷-꨿꩎꩏꩚꩛꫃-꫚꫷-꬀꬇꬈꬏꬐꬗-꬟꬧꬯꭬-꭯꯮꯯꯺-꯿힤-힯퟇-퟊퟼-﩮﩯﫚-﫿﬇-﬒﬘-﬜﬷﬽﬿﭂﭅﯃-﯒﶐﶑﷈-﷎﷐-﷯︚-︟﹓﹧﹬-﹯﹵﻽-＀﾿-￁￈￉￐￑￘￙￝-￟￧￯-￻￾￿",astral:"\ud800[\udc0c\udc27\udc3b\udc3e\udc4e\udc4f\udc5e-\udc7f\udcfb-\udcff\udd03-\udd06\udd34-\udd36\udd8f\udd9d-\udd9f\udda1-\uddcf\uddfe-\ude7f\ude9d-\ude9f\uded1-\udedf\udefc-\udeff\udf24-\udf2c\udf4b-\udf4f\udf7b-\udf7f\udf9e\udfc4-\udfc7\udfd6-\udfff]|\ud801[\udc9e\udc9f\udcaa-\udcaf\udcd4-\udcd7\udcfc-\udcff\udd28-\udd2f\udd64-\udd6e\udd7b\udd8b\udd93\udd96\udda2\uddb2\uddba\uddbd-\uddff\udf37-\udf3f\udf56-\udf5f\udf68-\udf7f\udf86\udfb1\udfbb-\udfff]|\ud802[\udc06\udc07\udc09\udc36\udc39-\udc3b\udc3d\udc3e\udc56\udc9f-\udca6\udcb0-\udcdf\udcf3\udcf6-\udcfa\udd1c-\udd1e\udd3a-\udd3e\udd40-\udd7f\uddb8-\uddbb\uddd0\uddd1\ude04\ude07-\ude0b\ude14\ude18\ude36\ude37\ude3b-\ude3e\ude49-\ude4f\ude59-\ude5f\udea0-\udebf\udee7-\udeea\udef7-\udeff\udf36-\udf38\udf56\udf57\udf73-\udf77\udf92-\udf98\udf9d-\udfa8\udfb0-\udfff]|\ud803[\udc49-\udc7f\udcb3-\udcbf\udcf3-\udcf9\udd28-\udd2f\udd3a-\ude5f\ude7f\udeaa\udeae\udeaf\udeb2-\udeff\udf28-\udf2f\udf5a-\udf6f\udf8a-\udfaf\udfcc-\udfdf\udff7-\udfff]|\ud804[\udc4e-\udc51\udc76-\udc7e\udcbd\udcc3-\udccf\udce9-\udcef\udcfa-\udcff\udd35\udd48-\udd4f\udd77-\udd7f\udde0\uddf5-\uddff\ude12\ude3f-\ude7f\ude87\ude89\ude8e\ude9e\udeaa-\udeaf\udeeb-\udeef\udefa-\udeff\udf04\udf0d\udf0e\udf11\udf12\udf29\udf31\udf34\udf3a\udf45\udf46\udf49\udf4a\udf4e\udf4f\udf51-\udf56\udf58-\udf5c\udf64\udf65\udf6d-\udf6f\udf75-\udfff]|\ud805[\udc5c\udc62-\udc7f\udcc8-\udccf\udcda-\udd7f\uddb6\uddb7\uddde-\uddff\ude45-\ude4f\ude5a-\ude5f\ude6d-\ude7f\udeba-\udebf\udeca-\udeff\udf1b\udf1c\udf2c-\udf2f\udf47-\udfff]|\ud806[\udc3c-\udc9f\udcf3-\udcfe\udd07\udd08\udd0a\udd0b\udd14\udd17\udd36\udd39\udd3a\udd47-\udd4f\udd5a-\udd9f\udda8\udda9\uddd8\uddd9\udde5-\uddff\ude48-\ude4f\udea3-\udeaf\udef9-\udfff]|\ud807[\udc09\udc37\udc46-\udc4f\udc6d-\udc6f\udc90\udc91\udca8\udcb7-\udcff\udd07\udd0a\udd37-\udd39\udd3b\udd3e\udd48-\udd4f\udd5a-\udd5f\udd66\udd69\udd8f\udd92\udd99-\udd9f\uddaa-\udedf\udef9-\udfaf\udfb1-\udfbf\udff2-\udffe]|\ud808[\udf9a-\udfff]|\ud809[\udc6f\udc75-\udc7f\udd44-\udfff]|[\ud80a\ud80e-\ud810\ud812-\ud819\ud824-\ud82a\ud82d\ud82e\ud830-\ud832\ud83f\ud87b-\ud87d\ud87f\ud885-\udb3f\udb41-\udbff][\udc00-\udfff]|\ud80b[\udc00-\udf8f\udff3-\udfff]|\ud80d[\udc2f-\udfff]|\ud811[\ude47-\udfff]|\ud81a[\ude39-\ude3f\ude5f\ude6a-\ude6d\udebf\udeca-\udecf\udeee\udeef\udef6-\udeff\udf46-\udf4f\udf5a\udf62\udf78-\udf7c\udf90-\udfff]|\ud81b[\udc00-\ude3f\ude9b-\udeff\udf4b-\udf4e\udf88-\udf8e\udfa0-\udfdf\udfe5-\udfef\udff2-\udfff]|\ud821[\udff8-\udfff]|\ud823[\udcd6-\udcff\udd09-\udfff]|\ud82b[\udc00-\udfef\udff4\udffc\udfff]|\ud82c[\udd23-\udd4f\udd53-\udd63\udd68-\udd6f\udefc-\udfff]|\ud82f[\udc6b-\udc6f\udc7d-\udc7f\udc89-\udc8f\udc9a\udc9b\udca0-\udfff]|\ud833[\udc00-\udeff\udf2e\udf2f\udf47-\udf4f\udfc4-\udfff]|\ud834[\udcf6-\udcff\udd27\udd28\udd73-\udd7a\uddeb-\uddff\ude46-\udedf\udef4-\udeff\udf57-\udf5f\udf79-\udfff]|\ud835[\udc55\udc9d\udca0\udca1\udca3\udca4\udca7\udca8\udcad\udcba\udcbc\udcc4\udd06\udd0b\udd0c\udd15\udd1d\udd3a\udd3f\udd45\udd47-\udd49\udd51\udea6\udea7\udfcc\udfcd]|\ud836[\ude8c-\ude9a\udea0\udeb0-\udfff]|\ud837[\udc00-\udeff\udf1f-\udfff]|\ud838[\udc07\udc19\udc1a\udc22\udc25\udc2b-\udcff\udd2d-\udd2f\udd3e\udd3f\udd4a-\udd4d\udd50-\ude8f\udeaf-\udebf\udefa-\udefe\udf00-\udfff]|\ud839[\udc00-\udfdf\udfe7\udfec\udfef\udfff]|\ud83a[\udcc5\udcc6\udcd7-\udcff\udd4c-\udd4f\udd5a-\udd5d\udd60-\udfff]|\ud83b[\udc00-\udc70\udcb5-\udd00\udd3e-\uddff\ude04\ude20\ude23\ude25\ude26\ude28\ude33\ude38\ude3a\ude3c-\ude41\ude43-\ude46\ude48\ude4a\ude4c\ude50\ude53\ude55\ude56\ude58\ude5a\ude5c\ude5e\ude60\ude63\ude65\ude66\ude6b\ude73\ude78\ude7d\ude7f\ude8a\ude9c-\udea0\udea4\udeaa\udebc-\udeef\udef2-\udfff]|\ud83c[\udc2c-\udc2f\udc94-\udc9f\udcaf\udcb0\udcc0\udcd0\udcf6-\udcff\uddae-\udde5\ude03-\ude0f\ude3c-\ude3f\ude49-\ude4f\ude52-\ude5f\ude66-\udeff]|\ud83d[\uded8-\udedc\udeed-\udeef\udefd-\udeff\udf74-\udf7f\udfd9-\udfdf\udfec-\udfef\udff1-\udfff]|\ud83e[\udc0c-\udc0f\udc48-\udc4f\udc5a-\udc5f\udc88-\udc8f\udcae\udcaf\udcb2-\udcff\ude54-\ude5f\ude6e\ude6f\ude75-\ude77\ude7d-\ude7f\ude87-\ude8f\udead-\udeaf\udebb-\udebf\udec6-\udecf\udeda-\udedf\udee8-\udeef\udef7-\udeff\udf93\udfcb-\udfef\udffa-\udfff]|\ud869[\udee0-\udeff]|\ud86d[\udf39-\udf3f]|\ud86e[\udc1e\udc1f]|\ud873[\udea2-\udeaf]|\ud87a[\udfe1-\udfff]|\ud87e[\ude1e-\udfff]|\ud884[\udf4b-\udfff]|\udb40[\udc00-\udcff\uddf0-\udfff]"},{name:"Cc",alias:"Control",bmp:"\0--"},{name:"Cf",alias:"Format",bmp:"­؀-؅؜۝܏࢐࢑࣢᠎​-‏‪-‮⁠-⁤⁦-⁯\ufeff￹-￻",astral:"\ud804[\udcbd\udccd]|\ud80d[\udc30-\udc38]|\ud82f[\udca0-\udca3]|\ud834[\udd73-\udd7a]|\udb40[\udc01\udc20-\udc7f]"},{name:"Cn",alias:"Unassigned",bmp:"͸͹΀-΃΋΍΢԰՗՘֋֌֐׈-׏׫-׮׵-׿܎݋݌޲-޿߻߼࠮࠯࠿࡜࡝࡟࡫-࡯࢏࢒-ࢗ঄঍঎঑঒঩঱঳-঵঺঻৅৆৉৊৏-৖৘-৛৞৤৥৿਀਄਋-਎਑਒਩਱਴਷਺਻਽੃-੆੉੊੎-੐੒-੘੝੟-੥੷-઀઄઎઒઩઱઴઺઻૆૊૎૏૑-૟૤૥૲-૸଀଄଍଎଑଒଩଱଴଺଻୅୆୉୊୎-୔୘-୛୞୤୥୸-஁஄஋-஍஑஖-஘஛஝஠-஢஥-஧஫-஭஺-஽௃-௅௉௎௏௑-௖௘-௥௻-௿఍఑఩఺఻౅౉౎-౔౗౛౜౞౟౤౥౰-౶಍಑಩಴಺಻೅೉೎-೔೗-೜೟೤೥೰ೳ-೿഍഑൅൉൐-൓൤൥඀඄඗-඙඲඼඾඿෇-෉෋-෎෕෗෠-෥෰෱෵-฀฻-฾๜-຀຃຅຋຤຦຾຿໅໇໎໏໚໛໠-໿཈཭-཰྘྽࿍࿛-࿿჆჈-჌჎჏቉቎቏቗቙቞቟኉኎኏኱኶኷኿዁዆዇዗጑጖጗፛፜፽-፿᎚-᎟᏶᏷᏾᏿᚝-᚟᛹-᛿᜖-᜞᜷-᜿᝔-᝟᝭᝱᝴-᝿៞៟៪-៯៺-៿᠚-᠟᡹-᡿᢫-᢯᣶-᣿᤟᤬-᤯᤼-᤿᥁-᥃᥮᥯᥵-᥿᦬-᦯᧊-᧏᧛-᧝᨜᨝᩟᩽᩾᪊-᪏᪚-᪟᪮᪯᫏-᫿᭍-᭏᭿᯴-᯻᰸-᰺᱊-᱌Ᲊ-᲏᲻᲼᳈-᳏᳻-᳿἖἗἞἟὆὇὎὏὘὚὜὞὾὿᾵῅῔῕῜῰῱῵῿⁥⁲⁳₏₝-₟⃁-⃏⃱-⃿↌-↏␧-␿⑋-⑟⭴⭵⮖⳴-⳸⴦⴨-⴬⴮⴯⵨-⵮⵱-⵾⶗-⶟⶧⶯⶷⶿⷇⷏⷗⷟⹞-⹿⺚⻴-⻿⿖-⿯⿼-⿿぀゗゘㄀-㄄㄰㆏㇤-㇯㈟꒍-꒏꓇-꓏꘬-꘿꛸-꛿Ɤ-꟏꟒꟔Ꟛ-꟱꠭-꠯꠺-꠿꡸-꡿꣆-꣍꣚-꣟꥔-꥞꥽-꥿꧎꧚-꧝꧿꨷-꨿꩎꩏꩚꩛꫃-꫚꫷-꬀꬇꬈꬏꬐꬗-꬟꬧꬯꭬-꭯꯮꯯꯺-꯿힤-힯퟇-퟊퟼-퟿﩮﩯﫚-﫿﬇-﬒﬘-﬜﬷﬽﬿﭂﭅﯃-﯒﶐﶑﷈-﷎﷐-﷯︚-︟﹓﹧﹬-﹯﹵﻽﻾＀﾿-￁￈￉￐￑￘￙￝-￟￧￯-￸￾￿",astral:"\ud800[\udc0c\udc27\udc3b\udc3e\udc4e\udc4f\udc5e-\udc7f\udcfb-\udcff\udd03-\udd06\udd34-\udd36\udd8f\udd9d-\udd9f\udda1-\uddcf\uddfe-\ude7f\ude9d-\ude9f\uded1-\udedf\udefc-\udeff\udf24-\udf2c\udf4b-\udf4f\udf7b-\udf7f\udf9e\udfc4-\udfc7\udfd6-\udfff]|\ud801[\udc9e\udc9f\udcaa-\udcaf\udcd4-\udcd7\udcfc-\udcff\udd28-\udd2f\udd64-\udd6e\udd7b\udd8b\udd93\udd96\udda2\uddb2\uddba\uddbd-\uddff\udf37-\udf3f\udf56-\udf5f\udf68-\udf7f\udf86\udfb1\udfbb-\udfff]|\ud802[\udc06\udc07\udc09\udc36\udc39-\udc3b\udc3d\udc3e\udc56\udc9f-\udca6\udcb0-\udcdf\udcf3\udcf6-\udcfa\udd1c-\udd1e\udd3a-\udd3e\udd40-\udd7f\uddb8-\uddbb\uddd0\uddd1\ude04\ude07-\ude0b\ude14\ude18\ude36\ude37\ude3b-\ude3e\ude49-\ude4f\ude59-\ude5f\udea0-\udebf\udee7-\udeea\udef7-\udeff\udf36-\udf38\udf56\udf57\udf73-\udf77\udf92-\udf98\udf9d-\udfa8\udfb0-\udfff]|\ud803[\udc49-\udc7f\udcb3-\udcbf\udcf3-\udcf9\udd28-\udd2f\udd3a-\ude5f\ude7f\udeaa\udeae\udeaf\udeb2-\udeff\udf28-\udf2f\udf5a-\udf6f\udf8a-\udfaf\udfcc-\udfdf\udff7-\udfff]|\ud804[\udc4e-\udc51\udc76-\udc7e\udcc3-\udccc\udcce\udccf\udce9-\udcef\udcfa-\udcff\udd35\udd48-\udd4f\udd77-\udd7f\udde0\uddf5-\uddff\ude12\ude3f-\ude7f\ude87\ude89\ude8e\ude9e\udeaa-\udeaf\udeeb-\udeef\udefa-\udeff\udf04\udf0d\udf0e\udf11\udf12\udf29\udf31\udf34\udf3a\udf45\udf46\udf49\udf4a\udf4e\udf4f\udf51-\udf56\udf58-\udf5c\udf64\udf65\udf6d-\udf6f\udf75-\udfff]|\ud805[\udc5c\udc62-\udc7f\udcc8-\udccf\udcda-\udd7f\uddb6\uddb7\uddde-\uddff\ude45-\ude4f\ude5a-\ude5f\ude6d-\ude7f\udeba-\udebf\udeca-\udeff\udf1b\udf1c\udf2c-\udf2f\udf47-\udfff]|\ud806[\udc3c-\udc9f\udcf3-\udcfe\udd07\udd08\udd0a\udd0b\udd14\udd17\udd36\udd39\udd3a\udd47-\udd4f\udd5a-\udd9f\udda8\udda9\uddd8\uddd9\udde5-\uddff\ude48-\ude4f\udea3-\udeaf\udef9-\udfff]|\ud807[\udc09\udc37\udc46-\udc4f\udc6d-\udc6f\udc90\udc91\udca8\udcb7-\udcff\udd07\udd0a\udd37-\udd39\udd3b\udd3e\udd48-\udd4f\udd5a-\udd5f\udd66\udd69\udd8f\udd92\udd99-\udd9f\uddaa-\udedf\udef9-\udfaf\udfb1-\udfbf\udff2-\udffe]|\ud808[\udf9a-\udfff]|\ud809[\udc6f\udc75-\udc7f\udd44-\udfff]|[\ud80a\ud80e-\ud810\ud812-\ud819\ud824-\ud82a\ud82d\ud82e\ud830-\ud832\ud83f\ud87b-\ud87d\ud87f\ud885-\udb3f\udb41-\udb7f][\udc00-\udfff]|\ud80b[\udc00-\udf8f\udff3-\udfff]|\ud80d[\udc2f\udc39-\udfff]|\ud811[\ude47-\udfff]|\ud81a[\ude39-\ude3f\ude5f\ude6a-\ude6d\udebf\udeca-\udecf\udeee\udeef\udef6-\udeff\udf46-\udf4f\udf5a\udf62\udf78-\udf7c\udf90-\udfff]|\ud81b[\udc00-\ude3f\ude9b-\udeff\udf4b-\udf4e\udf88-\udf8e\udfa0-\udfdf\udfe5-\udfef\udff2-\udfff]|\ud821[\udff8-\udfff]|\ud823[\udcd6-\udcff\udd09-\udfff]|\ud82b[\udc00-\udfef\udff4\udffc\udfff]|\ud82c[\udd23-\udd4f\udd53-\udd63\udd68-\udd6f\udefc-\udfff]|\ud82f[\udc6b-\udc6f\udc7d-\udc7f\udc89-\udc8f\udc9a\udc9b\udca4-\udfff]|\ud833[\udc00-\udeff\udf2e\udf2f\udf47-\udf4f\udfc4-\udfff]|\ud834[\udcf6-\udcff\udd27\udd28\uddeb-\uddff\ude46-\udedf\udef4-\udeff\udf57-\udf5f\udf79-\udfff]|\ud835[\udc55\udc9d\udca0\udca1\udca3\udca4\udca7\udca8\udcad\udcba\udcbc\udcc4\udd06\udd0b\udd0c\udd15\udd1d\udd3a\udd3f\udd45\udd47-\udd49\udd51\udea6\udea7\udfcc\udfcd]|\ud836[\ude8c-\ude9a\udea0\udeb0-\udfff]|\ud837[\udc00-\udeff\udf1f-\udfff]|\ud838[\udc07\udc19\udc1a\udc22\udc25\udc2b-\udcff\udd2d-\udd2f\udd3e\udd3f\udd4a-\udd4d\udd50-\ude8f\udeaf-\udebf\udefa-\udefe\udf00-\udfff]|\ud839[\udc00-\udfdf\udfe7\udfec\udfef\udfff]|\ud83a[\udcc5\udcc6\udcd7-\udcff\udd4c-\udd4f\udd5a-\udd5d\udd60-\udfff]|\ud83b[\udc00-\udc70\udcb5-\udd00\udd3e-\uddff\ude04\ude20\ude23\ude25\ude26\ude28\ude33\ude38\ude3a\ude3c-\ude41\ude43-\ude46\ude48\ude4a\ude4c\ude50\ude53\ude55\ude56\ude58\ude5a\ude5c\ude5e\ude60\ude63\ude65\ude66\ude6b\ude73\ude78\ude7d\ude7f\ude8a\ude9c-\udea0\udea4\udeaa\udebc-\udeef\udef2-\udfff]|\ud83c[\udc2c-\udc2f\udc94-\udc9f\udcaf\udcb0\udcc0\udcd0\udcf6-\udcff\uddae-\udde5\ude03-\ude0f\ude3c-\ude3f\ude49-\ude4f\ude52-\ude5f\ude66-\udeff]|\ud83d[\uded8-\udedc\udeed-\udeef\udefd-\udeff\udf74-\udf7f\udfd9-\udfdf\udfec-\udfef\udff1-\udfff]|\ud83e[\udc0c-\udc0f\udc48-\udc4f\udc5a-\udc5f\udc88-\udc8f\udcae\udcaf\udcb2-\udcff\ude54-\ude5f\ude6e\ude6f\ude75-\ude77\ude7d-\ude7f\ude87-\ude8f\udead-\udeaf\udebb-\udebf\udec6-\udecf\udeda-\udedf\udee8-\udeef\udef7-\udeff\udf93\udfcb-\udfef\udffa-\udfff]|\ud869[\udee0-\udeff]|\ud86d[\udf39-\udf3f]|\ud86e[\udc1e\udc1f]|\ud873[\udea2-\udeaf]|\ud87a[\udfe1-\udfff]|\ud87e[\ude1e-\udfff]|\ud884[\udf4b-\udfff]|\udb40[\udc00\udc02-\udc1f\udc80-\udcff\uddf0-\udfff]|[\udbbf\udbff][\udffe\udfff]"},{name:"Co",alias:"Private_Use",bmp:"-",astral:"[\udb80-\udbbe\udbc0-\udbfe][\udc00-\udfff]|[\udbbf\udbff][\udc00-\udffd]"},{name:"Cs",alias:"Surrogate",bmp:"\ud800-\udfff"},{name:"L",alias:"Letter",bmp:"A-Za-zªµºÀ-ÖØ-öø-ˁˆ-ˑˠ-ˤˬˮͰ-ʹͶͷͺ-ͽͿΆΈ-ΊΌΎ-ΡΣ-ϵϷ-ҁҊ-ԯԱ-Ֆՙՠ-ֈא-תׯ-ײؠ-يٮٯٱ-ۓەۥۦۮۯۺ-ۼۿܐܒ-ܯݍ-ޥޱߊ-ߪߴߵߺࠀ-ࠕࠚࠤࠨࡀ-ࡘࡠ-ࡪࡰ-ࢇࢉ-ࢎࢠ-ࣉऄ-हऽॐक़-ॡॱ-ঀঅ-ঌএঐও-নপ-রলশ-হঽৎড়ঢ়য়-ৡৰৱৼਅ-ਊਏਐਓ-ਨਪ-ਰਲਲ਼ਵਸ਼ਸਹਖ਼-ੜਫ਼ੲ-ੴઅ-ઍએ-ઑઓ-નપ-રલળવ-હઽૐૠૡૹଅ-ଌଏଐଓ-ନପ-ରଲଳଵ-ହଽଡ଼ଢ଼ୟ-ୡୱஃஅ-ஊஎ-ஐஒ-கஙசஜஞடணதந-பம-ஹௐఅ-ఌఎ-ఐఒ-నప-హఽౘ-ౚౝౠౡಀಅ-ಌಎ-ಐಒ-ನಪ-ಳವ-ಹಽೝೞೠೡೱೲഄ-ഌഎ-ഐഒ-ഺഽൎൔ-ൖൟ-ൡൺ-ൿඅ-ඖක-නඳ-රලව-ෆก-ะาำเ-ๆກຂຄຆ-ຊຌ-ຣລວ-ະາຳຽເ-ໄໆໜ-ໟༀཀ-ཇཉ-ཬྈ-ྌက-ဪဿၐ-ၕၚ-ၝၡၥၦၮ-ၰၵ-ႁႎႠ-ჅჇჍა-ჺჼ-ቈቊ-ቍቐ-ቖቘቚ-ቝበ-ኈኊ-ኍነ-ኰኲ-ኵኸ-ኾዀዂ-ዅወ-ዖዘ-ጐጒ-ጕጘ-ፚᎀ-ᎏᎠ-Ᏽᏸ-ᏽᐁ-ᙬᙯ-ᙿᚁ-ᚚᚠ-ᛪᛱ-ᛸᜀ-ᜑᜟ-ᜱᝀ-ᝑᝠ-ᝬᝮ-ᝰក-ឳៗៜᠠ-ᡸᢀ-ᢄᢇ-ᢨᢪᢰ-ᣵᤀ-ᤞᥐ-ᥭᥰ-ᥴᦀ-ᦫᦰ-ᧉᨀ-ᨖᨠ-ᩔᪧᬅ-ᬳᭅ-ᭌᮃ-ᮠᮮᮯᮺ-ᯥᰀ-ᰣᱍ-ᱏᱚ-ᱽᲀ-ᲈᲐ-ᲺᲽ-Ჿᳩ-ᳬᳮ-ᳳᳵᳶᳺᴀ-ᶿḀ-ἕἘ-Ἕἠ-ὅὈ-Ὅὐ-ὗὙὛὝὟ-ώᾀ-ᾴᾶ-ᾼιῂ-ῄῆ-ῌῐ-ΐῖ-Ίῠ-Ῥῲ-ῴῶ-ῼⁱⁿₐ-ₜℂℇℊ-ℓℕℙ-ℝℤΩℨK-ℭℯ-ℹℼ-ℿⅅ-ⅉⅎↃↄⰀ-ⳤⳫ-ⳮⳲⳳⴀ-ⴥⴧⴭⴰ-ⵧⵯⶀ-ⶖⶠ-ⶦⶨ-ⶮⶰ-ⶶⶸ-ⶾⷀ-ⷆⷈ-ⷎⷐ-ⷖⷘ-ⷞⸯ々〆〱-〵〻〼ぁ-ゖゝ-ゟァ-ヺー-ヿㄅ-ㄯㄱ-ㆎㆠ-ㆿㇰ-ㇿ㐀-䶿一-ꒌꓐ-ꓽꔀ-ꘌꘐ-ꘟꘪꘫꙀ-ꙮꙿ-ꚝꚠ-ꛥꜗ-ꜟꜢ-ꞈꞋ-ꟊꟐꟑꟓꟕ-ꟙꟲ-ꠁꠃ-ꠅꠇ-ꠊꠌ-ꠢꡀ-ꡳꢂ-ꢳꣲ-ꣷꣻꣽꣾꤊ-ꤥꤰ-ꥆꥠ-ꥼꦄ-ꦲꧏꧠ-ꧤꧦ-ꧯꧺ-ꧾꨀ-ꨨꩀ-ꩂꩄ-ꩋꩠ-ꩶꩺꩾ-ꪯꪱꪵꪶꪹ-ꪽꫀꫂꫛ-ꫝꫠ-ꫪꫲ-ꫴꬁ-ꬆꬉ-ꬎꬑ-ꬖꬠ-ꬦꬨ-ꬮꬰ-ꭚꭜ-ꭩꭰ-ꯢ가-힣ힰ-ퟆퟋ-ퟻ豈-舘並-龎ﬀ-ﬆﬓ-ﬗיִײַ-ﬨשׁ-זּטּ-לּמּנּסּףּפּצּ-ﮱﯓ-ﴽﵐ-ﶏﶒ-ﷇﷰ-ﷻﹰ-ﹴﹶ-ﻼＡ-Ｚａ-ｚｦ-ﾾￂ-ￇￊ-ￏￒ-ￗￚ-ￜ",astral:"\ud800[\udc00-\udc0b\udc0d-\udc26\udc28-\udc3a\udc3c\udc3d\udc3f-\udc4d\udc50-\udc5d\udc80-\udcfa\ude80-\ude9c\udea0-\uded0\udf00-\udf1f\udf2d-\udf40\udf42-\udf49\udf50-\udf75\udf80-\udf9d\udfa0-\udfc3\udfc8-\udfcf]|\ud801[\udc00-\udc9d\udcb0-\udcd3\udcd8-\udcfb\udd00-\udd27\udd30-\udd63\udd70-\udd7a\udd7c-\udd8a\udd8c-\udd92\udd94\udd95\udd97-\udda1\udda3-\uddb1\uddb3-\uddb9\uddbb\uddbc\ude00-\udf36\udf40-\udf55\udf60-\udf67\udf80-\udf85\udf87-\udfb0\udfb2-\udfba]|\ud802[\udc00-\udc05\udc08\udc0a-\udc35\udc37\udc38\udc3c\udc3f-\udc55\udc60-\udc76\udc80-\udc9e\udce0-\udcf2\udcf4\udcf5\udd00-\udd15\udd20-\udd39\udd80-\uddb7\uddbe\uddbf\ude00\ude10-\ude13\ude15-\ude17\ude19-\ude35\ude60-\ude7c\ude80-\ude9c\udec0-\udec7\udec9-\udee4\udf00-\udf35\udf40-\udf55\udf60-\udf72\udf80-\udf91]|\ud803[\udc00-\udc48\udc80-\udcb2\udcc0-\udcf2\udd00-\udd23\ude80-\udea9\udeb0\udeb1\udf00-\udf1c\udf27\udf30-\udf45\udf70-\udf81\udfb0-\udfc4\udfe0-\udff6]|\ud804[\udc03-\udc37\udc71\udc72\udc75\udc83-\udcaf\udcd0-\udce8\udd03-\udd26\udd44\udd47\udd50-\udd72\udd76\udd83-\uddb2\uddc1-\uddc4\uddda\udddc\ude00-\ude11\ude13-\ude2b\ude80-\ude86\ude88\ude8a-\ude8d\ude8f-\ude9d\ude9f-\udea8\udeb0-\udede\udf05-\udf0c\udf0f\udf10\udf13-\udf28\udf2a-\udf30\udf32\udf33\udf35-\udf39\udf3d\udf50\udf5d-\udf61]|\ud805[\udc00-\udc34\udc47-\udc4a\udc5f-\udc61\udc80-\udcaf\udcc4\udcc5\udcc7\udd80-\uddae\uddd8-\udddb\ude00-\ude2f\ude44\ude80-\udeaa\udeb8\udf00-\udf1a\udf40-\udf46]|\ud806[\udc00-\udc2b\udca0-\udcdf\udcff-\udd06\udd09\udd0c-\udd13\udd15\udd16\udd18-\udd2f\udd3f\udd41\udda0-\udda7\uddaa-\uddd0\udde1\udde3\ude00\ude0b-\ude32\ude3a\ude50\ude5c-\ude89\ude9d\udeb0-\udef8]|\ud807[\udc00-\udc08\udc0a-\udc2e\udc40\udc72-\udc8f\udd00-\udd06\udd08\udd09\udd0b-\udd30\udd46\udd60-\udd65\udd67\udd68\udd6a-\udd89\udd98\udee0-\udef2\udfb0]|\ud808[\udc00-\udf99]|\ud809[\udc80-\udd43]|\ud80b[\udf90-\udff0]|[\ud80c\ud81c-\ud820\ud822\ud840-\ud868\ud86a-\ud86c\ud86f-\ud872\ud874-\ud879\ud880-\ud883][\udc00-\udfff]|\ud80d[\udc00-\udc2e]|\ud811[\udc00-\ude46]|\ud81a[\udc00-\ude38\ude40-\ude5e\ude70-\udebe\uded0-\udeed\udf00-\udf2f\udf40-\udf43\udf63-\udf77\udf7d-\udf8f]|\ud81b[\ude40-\ude7f\udf00-\udf4a\udf50\udf93-\udf9f\udfe0\udfe1\udfe3]|\ud821[\udc00-\udff7]|\ud823[\udc00-\udcd5\udd00-\udd08]|\ud82b[\udff0-\udff3\udff5-\udffb\udffd\udffe]|\ud82c[\udc00-\udd22\udd50-\udd52\udd64-\udd67\udd70-\udefb]|\ud82f[\udc00-\udc6a\udc70-\udc7c\udc80-\udc88\udc90-\udc99]|\ud835[\udc00-\udc54\udc56-\udc9c\udc9e\udc9f\udca2\udca5\udca6\udca9-\udcac\udcae-\udcb9\udcbb\udcbd-\udcc3\udcc5-\udd05\udd07-\udd0a\udd0d-\udd14\udd16-\udd1c\udd1e-\udd39\udd3b-\udd3e\udd40-\udd44\udd46\udd4a-\udd50\udd52-\udea5\udea8-\udec0\udec2-\udeda\udedc-\udefa\udefc-\udf14\udf16-\udf34\udf36-\udf4e\udf50-\udf6e\udf70-\udf88\udf8a-\udfa8\udfaa-\udfc2\udfc4-\udfcb]|\ud837[\udf00-\udf1e]|\ud838[\udd00-\udd2c\udd37-\udd3d\udd4e\ude90-\udead\udec0-\udeeb]|\ud839[\udfe0-\udfe6\udfe8-\udfeb\udfed\udfee\udff0-\udffe]|\ud83a[\udc00-\udcc4\udd00-\udd43\udd4b]|\ud83b[\ude00-\ude03\ude05-\ude1f\ude21\ude22\ude24\ude27\ude29-\ude32\ude34-\ude37\ude39\ude3b\ude42\ude47\ude49\ude4b\ude4d-\ude4f\ude51\ude52\ude54\ude57\ude59\ude5b\ude5d\ude5f\ude61\ude62\ude64\ude67-\ude6a\ude6c-\ude72\ude74-\ude77\ude79-\ude7c\ude7e\ude80-\ude89\ude8b-\ude9b\udea1-\udea3\udea5-\udea9\udeab-\udebb]|\ud869[\udc00-\udedf\udf00-\udfff]|\ud86d[\udc00-\udf38\udf40-\udfff]|\ud86e[\udc00-\udc1d\udc20-\udfff]|\ud873[\udc00-\udea1\udeb0-\udfff]|\ud87a[\udc00-\udfe0]|\ud87e[\udc00-\ude1d]|\ud884[\udc00-\udf4a]"},{name:"LC",alias:"Cased_Letter",bmp:"A-Za-zµÀ-ÖØ-öø-ƺƼ-ƿǄ-ʓʕ-ʯͰ-ͳͶͷͻ-ͽͿΆΈ-ΊΌΎ-ΡΣ-ϵϷ-ҁҊ-ԯԱ-Ֆՠ-ֈႠ-ჅჇჍა-ჺჽ-ჿᎠ-Ᏽᏸ-ᏽᲀ-ᲈᲐ-ᲺᲽ-Ჿᴀ-ᴫᵫ-ᵷᵹ-ᶚḀ-ἕἘ-Ἕἠ-ὅὈ-Ὅὐ-ὗὙὛὝὟ-ώᾀ-ᾴᾶ-ᾼιῂ-ῄῆ-ῌῐ-ΐῖ-Ίῠ-Ῥῲ-ῴῶ-ῼℂℇℊ-ℓℕℙ-ℝℤΩℨK-ℭℯ-ℴℹℼ-ℿⅅ-ⅉⅎↃↄⰀ-ⱻⱾ-ⳤⳫ-ⳮⳲⳳⴀ-ⴥⴧⴭꙀ-ꙭꚀ-ꚛꜢ-ꝯꝱ-ꞇꞋ-ꞎꞐ-ꟊꟐꟑꟓꟕ-ꟙꟵꟶꟺꬰ-ꭚꭠ-ꭨꭰ-ꮿﬀ-ﬆﬓ-ﬗＡ-Ｚａ-ｚ",astral:"\ud801[\udc00-\udc4f\udcb0-\udcd3\udcd8-\udcfb\udd70-\udd7a\udd7c-\udd8a\udd8c-\udd92\udd94\udd95\udd97-\udda1\udda3-\uddb1\uddb3-\uddb9\uddbb\uddbc]|\ud803[\udc80-\udcb2\udcc0-\udcf2]|\ud806[\udca0-\udcdf]|\ud81b[\ude40-\ude7f]|\ud835[\udc00-\udc54\udc56-\udc9c\udc9e\udc9f\udca2\udca5\udca6\udca9-\udcac\udcae-\udcb9\udcbb\udcbd-\udcc3\udcc5-\udd05\udd07-\udd0a\udd0d-\udd14\udd16-\udd1c\udd1e-\udd39\udd3b-\udd3e\udd40-\udd44\udd46\udd4a-\udd50\udd52-\udea5\udea8-\udec0\udec2-\udeda\udedc-\udefa\udefc-\udf14\udf16-\udf34\udf36-\udf4e\udf50-\udf6e\udf70-\udf88\udf8a-\udfa8\udfaa-\udfc2\udfc4-\udfcb]|\ud837[\udf00-\udf09\udf0b-\udf1e]|\ud83a[\udd00-\udd43]"},{name:"Ll",alias:"Lowercase_Letter",bmp:"a-zµß-öø-ÿāăąćĉċčďđēĕėęěĝğġģĥħĩīĭįıĳĵķĸĺļľŀłńņňŉŋōŏőœŕŗřśŝşšţťŧũūŭůűųŵŷźżž-ƀƃƅƈƌƍƒƕƙ-ƛƞơƣƥƨƪƫƭưƴƶƹƺƽ-ƿǆǉǌǎǐǒǔǖǘǚǜǝǟǡǣǥǧǩǫǭǯǰǳǵǹǻǽǿȁȃȅȇȉȋȍȏȑȓȕȗșțȝȟȡȣȥȧȩȫȭȯȱȳ-ȹȼȿɀɂɇɉɋɍɏ-ʓʕ-ʯͱͳͷͻ-ͽΐά-ώϐϑϕ-ϗϙϛϝϟϡϣϥϧϩϫϭϯ-ϳϵϸϻϼа-џѡѣѥѧѩѫѭѯѱѳѵѷѹѻѽѿҁҋҍҏґғҕҗҙқҝҟҡңҥҧҩҫҭүұҳҵҷҹһҽҿӂӄӆӈӊӌӎӏӑӓӕӗәӛӝӟӡӣӥӧөӫӭӯӱӳӵӷӹӻӽӿԁԃԅԇԉԋԍԏԑԓԕԗԙԛԝԟԡԣԥԧԩԫԭԯՠ-ֈა-ჺჽ-ჿᏸ-ᏽᲀ-ᲈᴀ-ᴫᵫ-ᵷᵹ-ᶚḁḃḅḇḉḋḍḏḑḓḕḗḙḛḝḟḡḣḥḧḩḫḭḯḱḳḵḷḹḻḽḿṁṃṅṇṉṋṍṏṑṓṕṗṙṛṝṟṡṣṥṧṩṫṭṯṱṳṵṷṹṻṽṿẁẃẅẇẉẋẍẏẑẓẕ-ẝẟạảấầẩẫậắằẳẵặẹẻẽếềểễệỉịọỏốồổỗộớờởỡợụủứừửữựỳỵỷỹỻỽỿ-ἇἐ-ἕἠ-ἧἰ-ἷὀ-ὅὐ-ὗὠ-ὧὰ-ώᾀ-ᾇᾐ-ᾗᾠ-ᾧᾰ-ᾴᾶᾷιῂ-ῄῆῇῐ-ΐῖῗῠ-ῧῲ-ῴῶῷℊℎℏℓℯℴℹℼℽⅆ-ⅉⅎↄⰰ-ⱟⱡⱥⱦⱨⱪⱬⱱⱳⱴⱶ-ⱻⲁⲃⲅⲇⲉⲋⲍⲏⲑⲓⲕⲗⲙⲛⲝⲟⲡⲣⲥⲧⲩⲫⲭⲯⲱⲳⲵⲷⲹⲻⲽⲿⳁⳃⳅⳇⳉⳋⳍⳏⳑⳓⳕⳗⳙⳛⳝⳟⳡⳣⳤⳬⳮⳳⴀ-ⴥⴧⴭꙁꙃꙅꙇꙉꙋꙍꙏꙑꙓꙕꙗꙙꙛꙝꙟꙡꙣꙥꙧꙩꙫꙭꚁꚃꚅꚇꚉꚋꚍꚏꚑꚓꚕꚗꚙꚛꜣꜥꜧꜩꜫꜭꜯ-ꜱꜳꜵꜷꜹꜻꜽꜿꝁꝃꝅꝇꝉꝋꝍꝏꝑꝓꝕꝗꝙꝛꝝꝟꝡꝣꝥꝧꝩꝫꝭꝯꝱ-ꝸꝺꝼꝿꞁꞃꞅꞇꞌꞎꞑꞓ-ꞕꞗꞙꞛꞝꞟꞡꞣꞥꞧꞩꞯꞵꞷꞹꞻꞽꞿꟁꟃꟈꟊꟑꟓꟕꟗꟙꟶꟺꬰ-ꭚꭠ-ꭨꭰ-ꮿﬀ-ﬆﬓ-ﬗａ-ｚ",astral:"\ud801[\udc28-\udc4f\udcd8-\udcfb\udd97-\udda1\udda3-\uddb1\uddb3-\uddb9\uddbb\uddbc]|\ud803[\udcc0-\udcf2]|\ud806[\udcc0-\udcdf]|\ud81b[\ude60-\ude7f]|\ud835[\udc1a-\udc33\udc4e-\udc54\udc56-\udc67\udc82-\udc9b\udcb6-\udcb9\udcbb\udcbd-\udcc3\udcc5-\udccf\udcea-\udd03\udd1e-\udd37\udd52-\udd6b\udd86-\udd9f\uddba-\uddd3\uddee-\ude07\ude22-\ude3b\ude56-\ude6f\ude8a-\udea5\udec2-\udeda\udedc-\udee1\udefc-\udf14\udf16-\udf1b\udf36-\udf4e\udf50-\udf55\udf70-\udf88\udf8a-\udf8f\udfaa-\udfc2\udfc4-\udfc9\udfcb]|\ud837[\udf00-\udf09\udf0b-\udf1e]|\ud83a[\udd22-\udd43]"},{name:"Lm",alias:"Modifier_Letter",bmp:"ʰ-ˁˆ-ˑˠ-ˤˬˮʹͺՙـۥۦߴߵߺࠚࠤࠨࣉॱๆໆჼៗᡃᪧᱸ-ᱽᴬ-ᵪᵸᶛ-ᶿⁱⁿₐ-ₜⱼⱽⵯⸯ々〱-〵〻ゝゞー-ヾꀕꓸ-ꓽꘌꙿꚜꚝꜗ-ꜟꝰꞈꟲ-ꟴꟸꟹꧏꧦꩰꫝꫳꫴꭜ-ꭟꭩｰﾞﾟ",astral:"\ud801[\udf80-\udf85\udf87-\udfb0\udfb2-\udfba]|\ud81a[\udf40-\udf43]|\ud81b[\udf93-\udf9f\udfe0\udfe1\udfe3]|\ud82b[\udff0-\udff3\udff5-\udffb\udffd\udffe]|\ud838[\udd37-\udd3d]|𞥋"},{name:"Lo",alias:"Other_Letter",bmp:"ªºƻǀ-ǃʔא-תׯ-ײؠ-ؿف-يٮٯٱ-ۓەۮۯۺ-ۼۿܐܒ-ܯݍ-ޥޱߊ-ߪࠀ-ࠕࡀ-ࡘࡠ-ࡪࡰ-ࢇࢉ-ࢎࢠ-ࣈऄ-हऽॐक़-ॡॲ-ঀঅ-ঌএঐও-নপ-রলশ-হঽৎড়ঢ়য়-ৡৰৱৼਅ-ਊਏਐਓ-ਨਪ-ਰਲਲ਼ਵਸ਼ਸਹਖ਼-ੜਫ਼ੲ-ੴઅ-ઍએ-ઑઓ-નપ-રલળવ-હઽૐૠૡૹଅ-ଌଏଐଓ-ନପ-ରଲଳଵ-ହଽଡ଼ଢ଼ୟ-ୡୱஃஅ-ஊஎ-ஐஒ-கஙசஜஞடணதந-பம-ஹௐఅ-ఌఎ-ఐఒ-నప-హఽౘ-ౚౝౠౡಀಅ-ಌಎ-ಐಒ-ನಪ-ಳವ-ಹಽೝೞೠೡೱೲഄ-ഌഎ-ഐഒ-ഺഽൎൔ-ൖൟ-ൡൺ-ൿඅ-ඖක-නඳ-රලව-ෆก-ะาำเ-ๅກຂຄຆ-ຊຌ-ຣລວ-ະາຳຽເ-ໄໜ-ໟༀཀ-ཇཉ-ཬྈ-ྌက-ဪဿၐ-ၕၚ-ၝၡၥၦၮ-ၰၵ-ႁႎᄀ-ቈቊ-ቍቐ-ቖቘቚ-ቝበ-ኈኊ-ኍነ-ኰኲ-ኵኸ-ኾዀዂ-ዅወ-ዖዘ-ጐጒ-ጕጘ-ፚᎀ-ᎏᐁ-ᙬᙯ-ᙿᚁ-ᚚᚠ-ᛪᛱ-ᛸᜀ-ᜑᜟ-ᜱᝀ-ᝑᝠ-ᝬᝮ-ᝰក-ឳៜᠠ-ᡂᡄ-ᡸᢀ-ᢄᢇ-ᢨᢪᢰ-ᣵᤀ-ᤞᥐ-ᥭᥰ-ᥴᦀ-ᦫᦰ-ᧉᨀ-ᨖᨠ-ᩔᬅ-ᬳᭅ-ᭌᮃ-ᮠᮮᮯᮺ-ᯥᰀ-ᰣᱍ-ᱏᱚ-ᱷᳩ-ᳬᳮ-ᳳᳵᳶᳺℵ-ℸⴰ-ⵧⶀ-ⶖⶠ-ⶦⶨ-ⶮⶰ-ⶶⶸ-ⶾⷀ-ⷆⷈ-ⷎⷐ-ⷖⷘ-ⷞ〆〼ぁ-ゖゟァ-ヺヿㄅ-ㄯㄱ-ㆎㆠ-ㆿㇰ-ㇿ㐀-䶿一-ꀔꀖ-ꒌꓐ-ꓷꔀ-ꘋꘐ-ꘟꘪꘫꙮꚠ-ꛥꞏꟷꟻ-ꠁꠃ-ꠅꠇ-ꠊꠌ-ꠢꡀ-ꡳꢂ-ꢳꣲ-ꣷꣻꣽꣾꤊ-ꤥꤰ-ꥆꥠ-ꥼꦄ-ꦲꧠ-ꧤꧧ-ꧯꧺ-ꧾꨀ-ꨨꩀ-ꩂꩄ-ꩋꩠ-ꩯꩱ-ꩶꩺꩾ-ꪯꪱꪵꪶꪹ-ꪽꫀꫂꫛꫜꫠ-ꫪꫲꬁ-ꬆꬉ-ꬎꬑ-ꬖꬠ-ꬦꬨ-ꬮꯀ-ꯢ가-힣ힰ-ퟆퟋ-ퟻ豈-舘並-龎יִײַ-ﬨשׁ-זּטּ-לּמּנּסּףּפּצּ-ﮱﯓ-ﴽﵐ-ﶏﶒ-ﷇﷰ-ﷻﹰ-ﹴﹶ-ﻼｦ-ｯｱ-ﾝﾠ-ﾾￂ-ￇￊ-ￏￒ-ￗￚ-ￜ",astral:"\ud800[\udc00-\udc0b\udc0d-\udc26\udc28-\udc3a\udc3c\udc3d\udc3f-\udc4d\udc50-\udc5d\udc80-\udcfa\ude80-\ude9c\udea0-\uded0\udf00-\udf1f\udf2d-\udf40\udf42-\udf49\udf50-\udf75\udf80-\udf9d\udfa0-\udfc3\udfc8-\udfcf]|\ud801[\udc50-\udc9d\udd00-\udd27\udd30-\udd63\ude00-\udf36\udf40-\udf55\udf60-\udf67]|\ud802[\udc00-\udc05\udc08\udc0a-\udc35\udc37\udc38\udc3c\udc3f-\udc55\udc60-\udc76\udc80-\udc9e\udce0-\udcf2\udcf4\udcf5\udd00-\udd15\udd20-\udd39\udd80-\uddb7\uddbe\uddbf\ude00\ude10-\ude13\ude15-\ude17\ude19-\ude35\ude60-\ude7c\ude80-\ude9c\udec0-\udec7\udec9-\udee4\udf00-\udf35\udf40-\udf55\udf60-\udf72\udf80-\udf91]|\ud803[\udc00-\udc48\udd00-\udd23\ude80-\udea9\udeb0\udeb1\udf00-\udf1c\udf27\udf30-\udf45\udf70-\udf81\udfb0-\udfc4\udfe0-\udff6]|\ud804[\udc03-\udc37\udc71\udc72\udc75\udc83-\udcaf\udcd0-\udce8\udd03-\udd26\udd44\udd47\udd50-\udd72\udd76\udd83-\uddb2\uddc1-\uddc4\uddda\udddc\ude00-\ude11\ude13-\ude2b\ude80-\ude86\ude88\ude8a-\ude8d\ude8f-\ude9d\ude9f-\udea8\udeb0-\udede\udf05-\udf0c\udf0f\udf10\udf13-\udf28\udf2a-\udf30\udf32\udf33\udf35-\udf39\udf3d\udf50\udf5d-\udf61]|\ud805[\udc00-\udc34\udc47-\udc4a\udc5f-\udc61\udc80-\udcaf\udcc4\udcc5\udcc7\udd80-\uddae\uddd8-\udddb\ude00-\ude2f\ude44\ude80-\udeaa\udeb8\udf00-\udf1a\udf40-\udf46]|\ud806[\udc00-\udc2b\udcff-\udd06\udd09\udd0c-\udd13\udd15\udd16\udd18-\udd2f\udd3f\udd41\udda0-\udda7\uddaa-\uddd0\udde1\udde3\ude00\ude0b-\ude32\ude3a\ude50\ude5c-\ude89\ude9d\udeb0-\udef8]|\ud807[\udc00-\udc08\udc0a-\udc2e\udc40\udc72-\udc8f\udd00-\udd06\udd08\udd09\udd0b-\udd30\udd46\udd60-\udd65\udd67\udd68\udd6a-\udd89\udd98\udee0-\udef2\udfb0]|\ud808[\udc00-\udf99]|\ud809[\udc80-\udd43]|\ud80b[\udf90-\udff0]|[\ud80c\ud81c-\ud820\ud822\ud840-\ud868\ud86a-\ud86c\ud86f-\ud872\ud874-\ud879\ud880-\ud883][\udc00-\udfff]|\ud80d[\udc00-\udc2e]|\ud811[\udc00-\ude46]|\ud81a[\udc00-\ude38\ude40-\ude5e\ude70-\udebe\uded0-\udeed\udf00-\udf2f\udf63-\udf77\udf7d-\udf8f]|\ud81b[\udf00-\udf4a\udf50]|\ud821[\udc00-\udff7]|\ud823[\udc00-\udcd5\udd00-\udd08]|\ud82c[\udc00-\udd22\udd50-\udd52\udd64-\udd67\udd70-\udefb]|\ud82f[\udc00-\udc6a\udc70-\udc7c\udc80-\udc88\udc90-\udc99]|𝼊|\ud838[\udd00-\udd2c\udd4e\ude90-\udead\udec0-\udeeb]|\ud839[\udfe0-\udfe6\udfe8-\udfeb\udfed\udfee\udff0-\udffe]|\ud83a[\udc00-\udcc4]|\ud83b[\ude00-\ude03\ude05-\ude1f\ude21\ude22\ude24\ude27\ude29-\ude32\ude34-\ude37\ude39\ude3b\ude42\ude47\ude49\ude4b\ude4d-\ude4f\ude51\ude52\ude54\ude57\ude59\ude5b\ude5d\ude5f\ude61\ude62\ude64\ude67-\ude6a\ude6c-\ude72\ude74-\ude77\ude79-\ude7c\ude7e\ude80-\ude89\ude8b-\ude9b\udea1-\udea3\udea5-\udea9\udeab-\udebb]|\ud869[\udc00-\udedf\udf00-\udfff]|\ud86d[\udc00-\udf38\udf40-\udfff]|\ud86e[\udc00-\udc1d\udc20-\udfff]|\ud873[\udc00-\udea1\udeb0-\udfff]|\ud87a[\udc00-\udfe0]|\ud87e[\udc00-\ude1d]|\ud884[\udc00-\udf4a]"},{name:"Lt",alias:"Titlecase_Letter",bmp:"ǅǈǋǲᾈ-ᾏᾘ-ᾟᾨ-ᾯᾼῌῼ"},{name:"Lu",alias:"Uppercase_Letter",bmp:"A-ZÀ-ÖØ-ÞĀĂĄĆĈĊČĎĐĒĔĖĘĚĜĞĠĢĤĦĨĪĬĮİĲĴĶĹĻĽĿŁŃŅŇŊŌŎŐŒŔŖŘŚŜŞŠŢŤŦŨŪŬŮŰŲŴŶŸŹŻŽƁƂƄƆƇƉ-ƋƎ-ƑƓƔƖ-ƘƜƝƟƠƢƤƦƧƩƬƮƯƱ-ƳƵƷƸƼǄǇǊǍǏǑǓǕǗǙǛǞǠǢǤǦǨǪǬǮǱǴǶ-ǸǺǼǾȀȂȄȆȈȊȌȎȐȒȔȖȘȚȜȞȠȢȤȦȨȪȬȮȰȲȺȻȽȾɁɃ-ɆɈɊɌɎͰͲͶͿΆΈ-ΊΌΎΏΑ-ΡΣ-ΫϏϒ-ϔϘϚϜϞϠϢϤϦϨϪϬϮϴϷϹϺϽ-ЯѠѢѤѦѨѪѬѮѰѲѴѶѸѺѼѾҀҊҌҎҐҒҔҖҘҚҜҞҠҢҤҦҨҪҬҮҰҲҴҶҸҺҼҾӀӁӃӅӇӉӋӍӐӒӔӖӘӚӜӞӠӢӤӦӨӪӬӮӰӲӴӶӸӺӼӾԀԂԄԆԈԊԌԎԐԒԔԖԘԚԜԞԠԢԤԦԨԪԬԮԱ-ՖႠ-ჅჇჍᎠ-ᏵᲐ-ᲺᲽ-ᲿḀḂḄḆḈḊḌḎḐḒḔḖḘḚḜḞḠḢḤḦḨḪḬḮḰḲḴḶḸḺḼḾṀṂṄṆṈṊṌṎṐṒṔṖṘṚṜṞṠṢṤṦṨṪṬṮṰṲṴṶṸṺṼṾẀẂẄẆẈẊẌẎẐẒẔẞẠẢẤẦẨẪẬẮẰẲẴẶẸẺẼẾỀỂỄỆỈỊỌỎỐỒỔỖỘỚỜỞỠỢỤỦỨỪỬỮỰỲỴỶỸỺỼỾἈ-ἏἘ-ἝἨ-ἯἸ-ἿὈ-ὍὙὛὝὟὨ-ὯᾸ-ΆῈ-ΉῘ-ΊῨ-ῬῸ-Ώℂℇℋ-ℍℐ-ℒℕℙ-ℝℤΩℨK-ℭℰ-ℳℾℿⅅↃⰀ-ⰯⱠⱢ-ⱤⱧⱩⱫⱭ-ⱰⱲⱵⱾ-ⲀⲂⲄⲆⲈⲊⲌⲎⲐⲒⲔⲖⲘⲚⲜⲞⲠⲢⲤⲦⲨⲪⲬⲮⲰⲲⲴⲶⲸⲺⲼⲾⳀⳂⳄⳆⳈⳊⳌⳎⳐⳒⳔⳖⳘⳚⳜⳞⳠⳢⳫⳭⳲꙀꙂꙄꙆꙈꙊꙌꙎꙐꙒꙔꙖꙘꙚꙜꙞꙠꙢꙤꙦꙨꙪꙬꚀꚂꚄꚆꚈꚊꚌꚎꚐꚒꚔꚖꚘꚚꜢꜤꜦꜨꜪꜬꜮꜲꜴꜶꜸꜺꜼꜾꝀꝂꝄꝆꝈꝊꝌꝎꝐꝒꝔꝖꝘꝚꝜꝞꝠꝢꝤꝦꝨꝪꝬꝮꝹꝻꝽꝾꞀꞂꞄꞆꞋꞍꞐꞒꞖꞘꞚꞜꞞꞠꞢꞤꞦꞨꞪ-ꞮꞰ-ꞴꞶꞸꞺꞼꞾꟀꟂꟄ-ꟇꟉꟐꟖꟘꟵＡ-Ｚ",astral:"\ud801[\udc00-\udc27\udcb0-\udcd3\udd70-\udd7a\udd7c-\udd8a\udd8c-\udd92\udd94\udd95]|\ud803[\udc80-\udcb2]|\ud806[\udca0-\udcbf]|\ud81b[\ude40-\ude5f]|\ud835[\udc00-\udc19\udc34-\udc4d\udc68-\udc81\udc9c\udc9e\udc9f\udca2\udca5\udca6\udca9-\udcac\udcae-\udcb5\udcd0-\udce9\udd04\udd05\udd07-\udd0a\udd0d-\udd14\udd16-\udd1c\udd38\udd39\udd3b-\udd3e\udd40-\udd44\udd46\udd4a-\udd50\udd6c-\udd85\udda0-\uddb9\uddd4-\udded\ude08-\ude21\ude3c-\ude55\ude70-\ude89\udea8-\udec0\udee2-\udefa\udf1c-\udf34\udf56-\udf6e\udf90-\udfa8\udfca]|\ud83a[\udd00-\udd21]"},{name:"M",alias:"Mark",bmp:"̀-ͯ҃-҉֑-ׇֽֿׁׂׅׄؐ-ًؚ-ٰٟۖ-ۜ۟-۪ۤۧۨ-ܑۭܰ-݊ަ-ް߫-߽߳ࠖ-࠙ࠛ-ࠣࠥ-ࠧࠩ-࡙࠭-࡛࢘-࢟࣊-ࣣ࣡-ःऺ-़ा-ॏ॑-ॗॢॣঁ-ঃ়া-ৄেৈো-্ৗৢৣ৾ਁ-ਃ਼ਾ-ੂੇੈੋ-੍ੑੰੱੵઁ-ઃ઼ા-ૅે-ૉો-્ૢૣૺ-૿ଁ-ଃ଼ା-ୄେୈୋ-୍୕-ୗୢୣஂா-ூெ-ைொ-்ௗఀ-ఄ఼ా-ౄె-ైొ-్ౕౖౢౣಁ-ಃ಼ಾ-ೄೆ-ೈೊ-್ೕೖೢೣഀ-ഃ഻഼ാ-ൄെ-ൈൊ-്ൗൢൣඁ-ඃ්ා-ුූෘ-ෟෲෳัิ-ฺ็-๎ັິ-ຼ່-ໍ༹༘༙༵༷༾༿ཱ-྄྆྇ྍ-ྗྙ-ྼ࿆ါ-ှၖ-ၙၞ-ၠၢ-ၤၧ-ၭၱ-ၴႂ-ႍႏႚ-ႝ፝-፟ᜒ-᜕ᜲ-᜴ᝒᝓᝲᝳ឴-៓៝᠋-᠍᠏ᢅᢆᢩᤠ-ᤫᤰ-᤻ᨗ-ᨛᩕ-ᩞ᩠-᩿᩼᪰-ᫎᬀ-ᬄ᬴-᭄᭫-᭳ᮀ-ᮂᮡ-ᮭ᯦-᯳ᰤ-᰷᳐-᳔᳒-᳨᳭᳴᳷-᳹᷀-᷿⃐-⃰⳯-⵿⳱ⷠ-〪ⷿ-゙゚〯꙯-꙲ꙴ-꙽ꚞꚟ꛰꛱ꠂ꠆ꠋꠣ-ꠧ꠬ꢀꢁꢴ-ꣅ꣠-꣱ꣿꤦ-꤭ꥇ-꥓ꦀ-ꦃ꦳-꧀ꧥꨩ-ꨶꩃꩌꩍꩻ-ꩽꪰꪲ-ꪴꪷꪸꪾ꪿꫁ꫫ-ꫯꫵ꫶ꯣ-ꯪ꯬꯭ﬞ︀-️︠-︯",astral:"\ud800[\uddfd\udee0\udf76-\udf7a]|\ud802[\ude01-\ude03\ude05\ude06\ude0c-\ude0f\ude38-\ude3a\ude3f\udee5\udee6]|\ud803[\udd24-\udd27\udeab\udeac\udf46-\udf50\udf82-\udf85]|\ud804[\udc00-\udc02\udc38-\udc46\udc70\udc73\udc74\udc7f-\udc82\udcb0-\udcba\udcc2\udd00-\udd02\udd27-\udd34\udd45\udd46\udd73\udd80-\udd82\uddb3-\uddc0\uddc9-\uddcc\uddce\uddcf\ude2c-\ude37\ude3e\udedf-\udeea\udf00-\udf03\udf3b\udf3c\udf3e-\udf44\udf47\udf48\udf4b-\udf4d\udf57\udf62\udf63\udf66-\udf6c\udf70-\udf74]|\ud805[\udc35-\udc46\udc5e\udcb0-\udcc3\uddaf-\uddb5\uddb8-\uddc0\udddc\udddd\ude30-\ude40\udeab-\udeb7\udf1d-\udf2b]|\ud806[\udc2c-\udc3a\udd30-\udd35\udd37\udd38\udd3b-\udd3e\udd40\udd42\udd43\uddd1-\uddd7\uddda-\udde0\udde4\ude01-\ude0a\ude33-\ude39\ude3b-\ude3e\ude47\ude51-\ude5b\ude8a-\ude99]|\ud807[\udc2f-\udc36\udc38-\udc3f\udc92-\udca7\udca9-\udcb6\udd31-\udd36\udd3a\udd3c\udd3d\udd3f-\udd45\udd47\udd8a-\udd8e\udd90\udd91\udd93-\udd97\udef3-\udef6]|\ud81a[\udef0-\udef4\udf30-\udf36]|\ud81b[\udf4f\udf51-\udf87\udf8f-\udf92\udfe4\udff0\udff1]|\ud82f[\udc9d\udc9e]|\ud833[\udf00-\udf2d\udf30-\udf46]|\ud834[\udd65-\udd69\udd6d-\udd72\udd7b-\udd82\udd85-\udd8b\uddaa-\uddad\ude42-\ude44]|\ud836[\ude00-\ude36\ude3b-\ude6c\ude75\ude84\ude9b-\ude9f\udea1-\udeaf]|\ud838[\udc00-\udc06\udc08-\udc18\udc1b-\udc21\udc23\udc24\udc26-\udc2a\udd30-\udd36\udeae\udeec-\udeef]|\ud83a[\udcd0-\udcd6\udd44-\udd4a]|\udb40[\udd00-\uddef]"},{name:"Mc",alias:"Spacing_Mark",bmp:"ःऻा-ीॉ-ौॎॏংঃা-ীেৈোৌৗਃਾ-ੀઃા-ીૉોૌଂଃାୀେୈୋୌୗாிுூெ-ைொ-ௌௗఁ-ఃు-ౄಂಃಾೀ-ೄೇೈೊೋೕೖംഃാ-ീെ-ൈൊ-ൌൗංඃා-ෑෘ-ෟෲෳ༾༿ཿါာေးျြၖၗၢ-ၤၧ-ၭႃႄႇ-ႌႏႚ-ႜ᜕᜴ាើ-ៅះៈᤣ-ᤦᤩ-ᤫᤰᤱᤳ-ᤸᨙᨚᩕᩗᩡᩣᩤᩭ-ᩲᬄᬵᬻᬽ-ᭁᭃ᭄ᮂᮡᮦᮧ᮪ᯧᯪ-ᯬᯮ᯲᯳ᰤ-ᰫᰴᰵ᳡᳷〮〯ꠣꠤꠧꢀꢁꢴ-ꣃꥒ꥓ꦃꦴꦵꦺꦻꦾ-꧀ꨯꨰꨳꨴꩍꩻꩽꫫꫮꫯꫵꯣꯤꯦꯧꯩꯪ꯬",astral:"\ud804[\udc00\udc02\udc82\udcb0-\udcb2\udcb7\udcb8\udd2c\udd45\udd46\udd82\uddb3-\uddb5\uddbf\uddc0\uddce\ude2c-\ude2e\ude32\ude33\ude35\udee0-\udee2\udf02\udf03\udf3e\udf3f\udf41-\udf44\udf47\udf48\udf4b-\udf4d\udf57\udf62\udf63]|\ud805[\udc35-\udc37\udc40\udc41\udc45\udcb0-\udcb2\udcb9\udcbb-\udcbe\udcc1\uddaf-\uddb1\uddb8-\uddbb\uddbe\ude30-\ude32\ude3b\ude3c\ude3e\udeac\udeae\udeaf\udeb6\udf20\udf21\udf26]|\ud806[\udc2c-\udc2e\udc38\udd30-\udd35\udd37\udd38\udd3d\udd40\udd42\uddd1-\uddd3\udddc-\udddf\udde4\ude39\ude57\ude58\ude97]|\ud807[\udc2f\udc3e\udca9\udcb1\udcb4\udd8a-\udd8e\udd93\udd94\udd96\udef5\udef6]|\ud81b[\udf51-\udf87\udff0\udff1]|\ud834[\udd65\udd66\udd6d-\udd72]"},{name:"Me",alias:"Enclosing_Mark",bmp:"҈҉᪾⃝-⃠⃢-⃤꙰-꙲"},{name:"Mn",alias:"Nonspacing_Mark",bmp:"̀-ͯ҃-֑҇-ׇֽֿׁׂׅׄؐ-ًؚ-ٰٟۖ-ۜ۟-۪ۤۧۨ-ܑۭܰ-݊ަ-ް߫-߽߳ࠖ-࠙ࠛ-ࠣࠥ-ࠧࠩ-࡙࠭-࡛࢘-࢟࣊-ࣣ࣡-ंऺ़ु-ै्॑-ॗॢॣঁ়ু-ৄ্ৢৣ৾ਁਂ਼ੁੂੇੈੋ-੍ੑੰੱੵઁં઼ુ-ૅેૈ્ૢૣૺ-૿ଁ଼ିୁ-ୄ୍୕ୖୢୣஂீ்ఀఄ఼ా-ీె-ైొ-్ౕౖౢౣಁ಼ಿೆೌ್ೢೣഀഁ഻഼ു-ൄ്ൢൣඁ්ි-ුූัิ-ฺ็-๎ັິ-ຼ່-ໍཱ༹༘༙༵༷-ཾྀ-྄྆྇ྍ-ྗྙ-ྼ࿆ိ-ူဲ-့္်ွှၘၙၞ-ၠၱ-ၴႂႅႆႍႝ፝-፟ᜒ-᜔ᜲᜳᝒᝓᝲᝳ឴឵ិ-ួំ៉-៓៝᠋-᠍᠏ᢅᢆᢩᤠ-ᤢᤧᤨᤲ᤹-᤻ᨘᨗᨛᩖᩘ-ᩞ᩠ᩢᩥ-ᩬᩳ-᩿᩼᪰-᪽ᪿ-ᫎᬀ-ᬃ᬴ᬶ-ᬺᬼᭂ᭫-᭳ᮀᮁᮢ-ᮥᮨᮩ᮫-ᮭ᯦ᯨᯩᯭᯯ-ᯱᰬ-ᰳᰶ᰷᳐-᳔᳒-᳢᳠-᳨᳭᳴᳸᳹᷀-᷿⃐-⃥⃜⃡-⃰⳯-⵿⳱ⷠ-〪ⷿ-゙゚〭꙯ꙴ-꙽ꚞꚟ꛰꛱ꠂ꠆ꠋꠥꠦ꠬꣄ꣅ꣠-꣱ꣿꤦ-꤭ꥇ-ꥑꦀ-ꦂ꦳ꦶ-ꦹꦼꦽꧥꨩ-ꨮꨱꨲꨵꨶꩃꩌꩼꪰꪲ-ꪴꪷꪸꪾ꪿꫁ꫬꫭ꫶ꯥꯨ꯭ﬞ︀-️︠-︯",astral:"\ud800[\uddfd\udee0\udf76-\udf7a]|\ud802[\ude01-\ude03\ude05\ude06\ude0c-\ude0f\ude38-\ude3a\ude3f\udee5\udee6]|\ud803[\udd24-\udd27\udeab\udeac\udf46-\udf50\udf82-\udf85]|\ud804[\udc01\udc38-\udc46\udc70\udc73\udc74\udc7f-\udc81\udcb3-\udcb6\udcb9\udcba\udcc2\udd00-\udd02\udd27-\udd2b\udd2d-\udd34\udd73\udd80\udd81\uddb6-\uddbe\uddc9-\uddcc\uddcf\ude2f-\ude31\ude34\ude36\ude37\ude3e\udedf\udee3-\udeea\udf00\udf01\udf3b\udf3c\udf40\udf66-\udf6c\udf70-\udf74]|\ud805[\udc38-\udc3f\udc42-\udc44\udc46\udc5e\udcb3-\udcb8\udcba\udcbf\udcc0\udcc2\udcc3\uddb2-\uddb5\uddbc\uddbd\uddbf\uddc0\udddc\udddd\ude33-\ude3a\ude3d\ude3f\ude40\udeab\udead\udeb0-\udeb5\udeb7\udf1d-\udf1f\udf22-\udf25\udf27-\udf2b]|\ud806[\udc2f-\udc37\udc39\udc3a\udd3b\udd3c\udd3e\udd43\uddd4-\uddd7\uddda\udddb\udde0\ude01-\ude0a\ude33-\ude38\ude3b-\ude3e\ude47\ude51-\ude56\ude59-\ude5b\ude8a-\ude96\ude98\ude99]|\ud807[\udc30-\udc36\udc38-\udc3d\udc3f\udc92-\udca7\udcaa-\udcb0\udcb2\udcb3\udcb5\udcb6\udd31-\udd36\udd3a\udd3c\udd3d\udd3f-\udd45\udd47\udd90\udd91\udd95\udd97\udef3\udef4]|\ud81a[\udef0-\udef4\udf30-\udf36]|\ud81b[\udf4f\udf8f-\udf92\udfe4]|\ud82f[\udc9d\udc9e]|\ud833[\udf00-\udf2d\udf30-\udf46]|\ud834[\udd67-\udd69\udd7b-\udd82\udd85-\udd8b\uddaa-\uddad\ude42-\ude44]|\ud836[\ude00-\ude36\ude3b-\ude6c\ude75\ude84\ude9b-\ude9f\udea1-\udeaf]|\ud838[\udc00-\udc06\udc08-\udc18\udc1b-\udc21\udc23\udc24\udc26-\udc2a\udd30-\udd36\udeae\udeec-\udeef]|\ud83a[\udcd0-\udcd6\udd44-\udd4a]|\udb40[\udd00-\uddef]"},{name:"N",alias:"Number",bmp:"0-9²³¹¼-¾٠-٩۰-۹߀-߉०-९০-৯৴-৹੦-੯૦-૯୦-୯୲-୷௦-௲౦-౯౸-౾೦-೯൘-൞൦-൸෦-෯๐-๙໐-໙༠-༳၀-၉႐-႙፩-፼ᛮ-ᛰ០-៩៰-៹᠐-᠙᥆-᥏᧐-᧚᪀-᪉᪐-᪙᭐-᭙᮰-᮹᱀-᱉᱐-᱙⁰⁴-⁹₀-₉⅐-ↂↅ-↉①-⒛⓪-⓿❶-➓⳽〇〡-〩〸-〺㆒-㆕㈠-㈩㉈-㉏㉑-㉟㊀-㊉㊱-㊿꘠-꘩ꛦ-ꛯ꠰-꠵꣐-꣙꤀-꤉꧐-꧙꧰-꧹꩐-꩙꯰-꯹０-９",astral:"\ud800[\udd07-\udd33\udd40-\udd78\udd8a\udd8b\udee1-\udefb\udf20-\udf23\udf41\udf4a\udfd1-\udfd5]|\ud801[\udca0-\udca9]|\ud802[\udc58-\udc5f\udc79-\udc7f\udca7-\udcaf\udcfb-\udcff\udd16-\udd1b\uddbc\uddbd\uddc0-\uddcf\uddd2-\uddff\ude40-\ude48\ude7d\ude7e\ude9d-\ude9f\udeeb-\udeef\udf58-\udf5f\udf78-\udf7f\udfa9-\udfaf]|\ud803[\udcfa-\udcff\udd30-\udd39\ude60-\ude7e\udf1d-\udf26\udf51-\udf54\udfc5-\udfcb]|\ud804[\udc52-\udc6f\udcf0-\udcf9\udd36-\udd3f\uddd0-\uddd9\udde1-\uddf4\udef0-\udef9]|\ud805[\udc50-\udc59\udcd0-\udcd9\ude50-\ude59\udec0-\udec9\udf30-\udf3b]|\ud806[\udce0-\udcf2\udd50-\udd59]|\ud807[\udc50-\udc6c\udd50-\udd59\udda0-\udda9\udfc0-\udfd4]|\ud809[\udc00-\udc6e]|\ud81a[\ude60-\ude69\udec0-\udec9\udf50-\udf59\udf5b-\udf61]|\ud81b[\ude80-\ude96]|\ud834[\udee0-\udef3\udf60-\udf78]|\ud835[\udfce-\udfff]|\ud838[\udd40-\udd49\udef0-\udef9]|\ud83a[\udcc7-\udccf\udd50-\udd59]|\ud83b[\udc71-\udcab\udcad-\udcaf\udcb1-\udcb4\udd01-\udd2d\udd2f-\udd3d]|\ud83c[\udd00-\udd0c]|\ud83e[\udff0-\udff9]"},{name:"Nd",alias:"Decimal_Number",bmp:"0-9٠-٩۰-۹߀-߉०-९০-৯੦-੯૦-૯୦-୯௦-௯౦-౯೦-೯൦-൯෦-෯๐-๙໐-໙༠-༩၀-၉႐-႙០-៩᠐-᠙᥆-᥏᧐-᧙᪀-᪉᪐-᪙᭐-᭙᮰-᮹᱀-᱉᱐-᱙꘠-꘩꣐-꣙꤀-꤉꧐-꧙꧰-꧹꩐-꩙꯰-꯹０-９",astral:"\ud801[\udca0-\udca9]|\ud803[\udd30-\udd39]|\ud804[\udc66-\udc6f\udcf0-\udcf9\udd36-\udd3f\uddd0-\uddd9\udef0-\udef9]|\ud805[\udc50-\udc59\udcd0-\udcd9\ude50-\ude59\udec0-\udec9\udf30-\udf39]|\ud806[\udce0-\udce9\udd50-\udd59]|\ud807[\udc50-\udc59\udd50-\udd59\udda0-\udda9]|\ud81a[\ude60-\ude69\udec0-\udec9\udf50-\udf59]|\ud835[\udfce-\udfff]|\ud838[\udd40-\udd49\udef0-\udef9]|\ud83a[\udd50-\udd59]|\ud83e[\udff0-\udff9]"},{name:"Nl",alias:"Letter_Number",bmp:"ᛮ-ᛰⅠ-ↂↅ-ↈ〇〡-〩〸-〺ꛦ-ꛯ",astral:"\ud800[\udd40-\udd74\udf41\udf4a\udfd1-\udfd5]|\ud809[\udc00-\udc6e]"},{name:"No",alias:"Other_Number",bmp:"²³¹¼-¾৴-৹୲-୷௰-௲౸-౾൘-൞൰-൸༪-༳፩-፼៰-៹᧚⁰⁴-⁹₀-₉⅐-⅟↉①-⒛⓪-⓿❶-➓⳽㆒-㆕㈠-㈩㉈-㉏㉑-㉟㊀-㊉㊱-㊿꠰-꠵",astral:"\ud800[\udd07-\udd33\udd75-\udd78\udd8a\udd8b\udee1-\udefb\udf20-\udf23]|\ud802[\udc58-\udc5f\udc79-\udc7f\udca7-\udcaf\udcfb-\udcff\udd16-\udd1b\uddbc\uddbd\uddc0-\uddcf\uddd2-\uddff\ude40-\ude48\ude7d\ude7e\ude9d-\ude9f\udeeb-\udeef\udf58-\udf5f\udf78-\udf7f\udfa9-\udfaf]|\ud803[\udcfa-\udcff\ude60-\ude7e\udf1d-\udf26\udf51-\udf54\udfc5-\udfcb]|\ud804[\udc52-\udc65\udde1-\uddf4]|\ud805[\udf3a\udf3b]|\ud806[\udcea-\udcf2]|\ud807[\udc5a-\udc6c\udfc0-\udfd4]|\ud81a[\udf5b-\udf61]|\ud81b[\ude80-\ude96]|\ud834[\udee0-\udef3\udf60-\udf78]|\ud83a[\udcc7-\udccf]|\ud83b[\udc71-\udcab\udcad-\udcaf\udcb1-\udcb4\udd01-\udd2d\udd2f-\udd3d]|\ud83c[\udd00-\udd0c]"},{name:"P",alias:"Punctuation",bmp:"!-#%-\\*,-\\/:;\\?@\\[-\\]_\\{\\}¡§«¶·»¿;·՚-՟։֊־׀׃׆׳״؉؊،؍؛؝-؟٪-٭۔܀-܍߷-߹࠰-࠾࡞।॥॰৽੶૰౷಄෴๏๚๛༄-༒༔༺-༽྅࿐-࿔࿙࿚၊-၏჻፠-፨᐀᙮᚛᚜᛫-᛭᜵᜶។-៖៘-៚᠀-᠊᥄᥅᨞᨟᪠-᪦᪨-᪭᭚-᭠᭽᭾᯼-᯿᰻-᰿᱾᱿᳀-᳇᳓‐-‧‰-⁃⁅-⁑⁓-⁞⁽⁾₍₎⌈-⌋〈〉❨-❵⟅⟆⟦-⟯⦃-⦘⧘-⧛⧼⧽⳹-⳼⳾⳿⵰⸀-⸮⸰-⹏⹒-⹝、-〃〈-】〔-〟〰〽゠・꓾꓿꘍-꘏꙳꙾꛲-꛷꡴-꡷꣎꣏꣸-꣺꣼꤮꤯꥟꧁-꧍꧞꧟꩜-꩟꫞꫟꫰꫱꯫﴾﴿︐-︙︰-﹒﹔-﹡﹣﹨﹪﹫！-＃％-＊，-／：；？＠［-］＿｛｝｟-･",astral:"\ud800[\udd00-\udd02\udf9f\udfd0]|𐕯|\ud802[\udc57\udd1f\udd3f\ude50-\ude58\ude7f\udef0-\udef6\udf39-\udf3f\udf99-\udf9c]|\ud803[\udead\udf55-\udf59\udf86-\udf89]|\ud804[\udc47-\udc4d\udcbb\udcbc\udcbe-\udcc1\udd40-\udd43\udd74\udd75\uddc5-\uddc8\uddcd\udddb\udddd-\udddf\ude38-\ude3d\udea9]|\ud805[\udc4b-\udc4f\udc5a\udc5b\udc5d\udcc6\uddc1-\uddd7\ude41-\ude43\ude60-\ude6c\udeb9\udf3c-\udf3e]|\ud806[\udc3b\udd44-\udd46\udde2\ude3f-\ude46\ude9a-\ude9c\ude9e-\udea2]|\ud807[\udc41-\udc45\udc70\udc71\udef7\udef8\udfff]|\ud809[\udc70-\udc74]|\ud80b[\udff1\udff2]|\ud81a[\ude6e\ude6f\udef5\udf37-\udf3b\udf44]|\ud81b[\ude97-\ude9a\udfe2]|𛲟|\ud836[\ude87-\ude8b]|\ud83a[\udd5e\udd5f]"},{name:"Pc",alias:"Connector_Punctuation",bmp:"_‿⁀⁔︳︴﹍-﹏＿"},{name:"Pd",alias:"Dash_Punctuation",bmp:"\\-֊־᐀᠆‐-―⸗⸚⸺⸻⹀⹝〜〰゠︱︲﹘﹣－",astral:"𐺭"},{name:"Pe",alias:"Close_Punctuation",bmp:"\\)\\]\\}༻༽᚜⁆⁾₎⌉⌋〉❩❫❭❯❱❳❵⟆⟧⟩⟫⟭⟯⦄⦆⦈⦊⦌⦎⦐⦒⦔⦖⦘⧙⧛⧽⸣⸥⸧⸩⹖⹘⹚⹜〉》」』】〕〗〙〛〞〟﴾︘︶︸︺︼︾﹀﹂﹄﹈﹚﹜﹞）］｝｠｣"},{name:"Pf",alias:"Final_Punctuation",bmp:"»’”›⸃⸅⸊⸍⸝⸡"},{name:"Pi",alias:"Initial_Punctuation",bmp:"«‘‛“‟‹⸂⸄⸉⸌⸜⸠"},{name:"Po",alias:"Other_Punctuation",bmp:"!-#%-'\\*,\\.\\/:;\\?@\\¡§¶·¿;·՚-՟։׀׃׆׳״؉؊،؍؛؝-؟٪-٭۔܀-܍߷-߹࠰-࠾࡞।॥॰৽੶૰౷಄෴๏๚๛༄-༒༔྅࿐-࿔࿙࿚၊-၏჻፠-፨᙮᛫-᛭᜵᜶។-៖៘-៚᠀-᠅᠇-᠊᥄᥅᨞᨟᪠-᪦᪨-᪭᭚-᭠᭽᭾᯼-᯿᰻-᰿᱾᱿᳀-᳇᳓‖‗†-‧‰-‸※-‾⁁-⁃⁇-⁑⁓⁕-⁞⳹-⳼⳾⳿⵰⸀⸁⸆-⸈⸋⸎-⸖⸘⸙⸛⸞⸟⸪-⸮⸰-⸹⸼-⸿⹁⹃-⹏⹒-⹔、-〃〽・꓾꓿꘍-꘏꙳꙾꛲-꛷꡴-꡷꣎꣏꣸-꣺꣼꤮꤯꥟꧁-꧍꧞꧟꩜-꩟꫞꫟꫰꫱꯫︐-︖︙︰﹅﹆﹉-﹌﹐-﹒﹔-﹗﹟-﹡﹨﹪﹫！-＃％-＇＊，．／：；？＠＼｡､･",astral:"\ud800[\udd00-\udd02\udf9f\udfd0]|𐕯|\ud802[\udc57\udd1f\udd3f\ude50-\ude58\ude7f\udef0-\udef6\udf39-\udf3f\udf99-\udf9c]|\ud803[\udf55-\udf59\udf86-\udf89]|\ud804[\udc47-\udc4d\udcbb\udcbc\udcbe-\udcc1\udd40-\udd43\udd74\udd75\uddc5-\uddc8\uddcd\udddb\udddd-\udddf\ude38-\ude3d\udea9]|\ud805[\udc4b-\udc4f\udc5a\udc5b\udc5d\udcc6\uddc1-\uddd7\ude41-\ude43\ude60-\ude6c\udeb9\udf3c-\udf3e]|\ud806[\udc3b\udd44-\udd46\udde2\ude3f-\ude46\ude9a-\ude9c\ude9e-\udea2]|\ud807[\udc41-\udc45\udc70\udc71\udef7\udef8\udfff]|\ud809[\udc70-\udc74]|\ud80b[\udff1\udff2]|\ud81a[\ude6e\ude6f\udef5\udf37-\udf3b\udf44]|\ud81b[\ude97-\ude9a\udfe2]|𛲟|\ud836[\ude87-\ude8b]|\ud83a[\udd5e\udd5f]"},{name:"Ps",alias:"Open_Punctuation",bmp:"\\(\\[\\{༺༼᚛‚„⁅⁽₍⌈⌊〈❨❪❬❮❰❲❴⟅⟦⟨⟪⟬⟮⦃⦅⦇⦉⦋⦍⦏⦑⦓⦕⦗⧘⧚⧼⸢⸤⸦⸨⹂⹕⹗⹙⹛〈《「『【〔〖〘〚〝﴿︗︵︷︹︻︽︿﹁﹃﹇﹙﹛﹝（［｛｟｢"},{name:"S",alias:"Symbol",bmp:"\\$\\+<->\\^`\\|~¢-¦¨©¬®-±´¸×÷˂-˅˒-˟˥-˫˭˯-˿͵΄΅϶҂֍-֏؆-؈؋؎؏۞۩۽۾߶߾߿࢈৲৳৺৻૱୰௳-௺౿൏൹฿༁-༃༓༕-༗༚-༟༴༶༸྾-࿅࿇-࿌࿎࿏࿕-࿘႞႟᎐-᎙᙭៛᥀᧞-᧿᭡-᭪᭴-᭼᾽᾿-῁῍-῏῝-῟῭-`´῾⁄⁒⁺-⁼₊-₌₠-⃀℀℁℃-℆℈℉℔№-℘℞-℣℥℧℩℮℺℻⅀-⅄⅊-⅍⅏↊↋←-⌇⌌-⌨⌫-␦⑀-⑊⒜-ⓩ─-❧➔-⟄⟇-⟥⟰-⦂⦙-⧗⧜-⧻⧾-⭳⭶-⮕⮗-⯿⳥-⳪⹐⹑⺀-⺙⺛-⻳⼀-⿕⿰-⿻〄〒〓〠〶〷〾〿゛゜㆐㆑㆖-㆟㇀-㇣㈀-㈞㈪-㉇㉐㉠-㉿㊊-㊰㋀-㏿䷀-䷿꒐-꓆꜀-꜖꜠꜡꞉꞊꠨-꠫꠶-꠹꩷-꩹꭛꭪꭫﬩﮲-﯂﵀-﵏﷏﷼-﷿﹢﹤-﹦﹩＄＋＜-＞＾｀｜～￠-￦￨-￮￼�",astral:"\ud800[\udd37-\udd3f\udd79-\udd89\udd8c-\udd8e\udd90-\udd9c\udda0\uddd0-\uddfc]|\ud802[\udc77\udc78\udec8]|𑜿|\ud807[\udfd5-\udff1]|\ud81a[\udf3c-\udf3f\udf45]|𛲜|\ud833[\udf50-\udfc3]|\ud834[\udc00-\udcf5\udd00-\udd26\udd29-\udd64\udd6a-\udd6c\udd83\udd84\udd8c-\udda9\uddae-\uddea\ude00-\ude41\ude45\udf00-\udf56]|\ud835[\udec1\udedb\udefb\udf15\udf35\udf4f\udf6f\udf89\udfa9\udfc3]|\ud836[\udc00-\uddff\ude37-\ude3a\ude6d-\ude74\ude76-\ude83\ude85\ude86]|\ud838[\udd4f\udeff]|\ud83b[\udcac\udcb0\udd2e\udef0\udef1]|\ud83c[\udc00-\udc2b\udc30-\udc93\udca0-\udcae\udcb1-\udcbf\udcc1-\udccf\udcd1-\udcf5\udd0d-\uddad\udde6-\ude02\ude10-\ude3b\ude40-\ude48\ude50\ude51\ude60-\ude65\udf00-\udfff]|\ud83d[\udc00-\uded7\udedd-\udeec\udef0-\udefc\udf00-\udf73\udf80-\udfd8\udfe0-\udfeb\udff0]|\ud83e[\udc00-\udc0b\udc10-\udc47\udc50-\udc59\udc60-\udc87\udc90-\udcad\udcb0\udcb1\udd00-\ude53\ude60-\ude6d\ude70-\ude74\ude78-\ude7c\ude80-\ude86\ude90-\udeac\udeb0-\udeba\udec0-\udec5\uded0-\uded9\udee0-\udee7\udef0-\udef6\udf00-\udf92\udf94-\udfca]"},{name:"Sc",alias:"Currency_Symbol",bmp:"\\$¢-¥֏؋߾߿৲৳৻૱௹฿៛₠-⃀꠸﷼﹩＄￠￡￥￦",astral:"\ud807[\udfdd-\udfe0]|𞋿|𞲰"},{name:"Sk",alias:"Modifier_Symbol",bmp:"\\^`¨¯´¸˂-˅˒-˟˥-˫˭˯-˿͵΄΅࢈᾽᾿-῁῍-῏῝-῟῭-`´῾゛゜꜀-꜖꜠꜡꞉꞊꭛꭪꭫﮲-﯂＾｀￣",astral:"\ud83c[\udffb-\udfff]"},{name:"Sm",alias:"Math_Symbol",bmp:"\\+<->\\|~¬±×÷϶؆-؈⁄⁒⁺-⁼₊-₌℘⅀-⅄⅋←-↔↚↛↠↣↦↮⇎⇏⇒⇔⇴-⋿⌠⌡⍼⎛-⎳⏜-⏡▷◁◸-◿♯⟀-⟄⟇-⟥⟰-⟿⤀-⦂⦙-⧗⧜-⧻⧾-⫿⬰-⭄⭇-⭌﬩﹢﹤-﹦＋＜-＞｜～￢￩-￬",astral:"\ud835[\udec1\udedb\udefb\udf15\udf35\udf4f\udf6f\udf89\udfa9\udfc3]|\ud83b[\udef0\udef1]"},{name:"So",alias:"Other_Symbol",bmp:"¦©®°҂֍֎؎؏۞۩۽۾߶৺୰௳-௸௺౿൏൹༁-༃༓༕-༗༚-༟༴༶༸྾-࿅࿇-࿌࿎࿏࿕-࿘႞႟᎐-᎙᙭᥀᧞-᧿᭡-᭪᭴-᭼℀℁℃-℆℈℉℔№℗℞-℣℥℧℩℮℺℻⅊⅌⅍⅏↊↋↕-↙↜-↟↡↢↤↥↧-↭↯-⇍⇐⇑⇓⇕-⇳⌀-⌇⌌-⌟⌢-⌨⌫-⍻⍽-⎚⎴-⏛⏢-␦⑀-⑊⒜-ⓩ─-▶▸-◀◂-◷☀-♮♰-❧➔-➿⠀-⣿⬀-⬯⭅⭆⭍-⭳⭶-⮕⮗-⯿⳥-⳪⹐⹑⺀-⺙⺛-⻳⼀-⿕⿰-⿻〄〒〓〠〶〷〾〿㆐㆑㆖-㆟㇀-㇣㈀-㈞㈪-㉇㉐㉠-㉿㊊-㊰㋀-㏿䷀-䷿꒐-꓆꠨-꠫꠶꠷꠹꩷-꩹﵀-﵏﷏﷽-﷿￤￨￭￮￼�",astral:"\ud800[\udd37-\udd3f\udd79-\udd89\udd8c-\udd8e\udd90-\udd9c\udda0\uddd0-\uddfc]|\ud802[\udc77\udc78\udec8]|𑜿|\ud807[\udfd5-\udfdc\udfe1-\udff1]|\ud81a[\udf3c-\udf3f\udf45]|𛲜|\ud833[\udf50-\udfc3]|\ud834[\udc00-\udcf5\udd00-\udd26\udd29-\udd64\udd6a-\udd6c\udd83\udd84\udd8c-\udda9\uddae-\uddea\ude00-\ude41\ude45\udf00-\udf56]|\ud836[\udc00-\uddff\ude37-\ude3a\ude6d-\ude74\ude76-\ude83\ude85\ude86]|𞅏|\ud83b[\udcac\udd2e]|\ud83c[\udc00-\udc2b\udc30-\udc93\udca0-\udcae\udcb1-\udcbf\udcc1-\udccf\udcd1-\udcf5\udd0d-\uddad\udde6-\ude02\ude10-\ude3b\ude40-\ude48\ude50\ude51\ude60-\ude65\udf00-\udffa]|\ud83d[\udc00-\uded7\udedd-\udeec\udef0-\udefc\udf00-\udf73\udf80-\udfd8\udfe0-\udfeb\udff0]|\ud83e[\udc00-\udc0b\udc10-\udc47\udc50-\udc59\udc60-\udc87\udc90-\udcad\udcb0\udcb1\udd00-\ude53\ude60-\ude6d\ude70-\ude74\ude78-\ude7c\ude80-\ude86\ude90-\udeac\udeb0-\udeba\udec0-\udec5\uded0-\uded9\udee0-\udee7\udef0-\udef6\udf00-\udf92\udf94-\udfca]"},{name:"Z",alias:"Separator",bmp:"    - \u2028\u2029  　"},{name:"Zl",alias:"Line_Separator",bmp:"\u2028"},{name:"Zp",alias:"Paragraph_Separator",bmp:"\u2029"},{name:"Zs",alias:"Space_Separator",bmp:"    -   　"}],categories$1=getDefaultExportFromCjs(categories),unicodeCategories=o=>{if(!o.addUnicodeData)throw new ReferenceError("Unicode Base must be loaded before Unicode Categories");o.addUnicodeData(categories$1)},properties=[{name:"ASCII",bmp:"\0-"},{name:"Alphabetic",bmp:"A-Za-zªµºÀ-ÖØ-öø-ˁˆ-ˑˠ-ˤˬˮͅͰ-ʹͶͷͺ-ͽͿΆΈ-ΊΌΎ-ΡΣ-ϵϷ-ҁҊ-ԯԱ-Ֆՙՠ-ֈְ-ׇֽֿׁׂׅׄא-תׯ-ײؐ-ؚؠ-ٗٙ-ٟٮ-ۓە-ۜۡ-ۭۨ-ۯۺ-ۼۿܐ-ܿݍ-ޱߊ-ߪߴߵߺࠀ-ࠗࠚ-ࠬࡀ-ࡘࡠ-ࡪࡰ-ࢇࢉ-ࢎࢠ-ࣉࣔ-ࣣࣟ-ࣰࣩ-ऻऽ-ौॎ-ॐॕ-ॣॱ-ঃঅ-ঌএঐও-নপ-রলশ-হঽ-ৄেৈোৌৎৗড়ঢ়য়-ৣৰৱৼਁ-ਃਅ-ਊਏਐਓ-ਨਪ-ਰਲਲ਼ਵਸ਼ਸਹਾ-ੂੇੈੋੌੑਖ਼-ੜਫ਼ੰ-ੵઁ-ઃઅ-ઍએ-ઑઓ-નપ-રલળવ-હઽ-ૅે-ૉોૌૐૠ-ૣૹ-ૼଁ-ଃଅ-ଌଏଐଓ-ନପ-ରଲଳଵ-ହଽ-ୄେୈୋୌୖୗଡ଼ଢ଼ୟ-ୣୱஂஃஅ-ஊஎ-ஐஒ-கஙசஜஞடணதந-பம-ஹா-ூெ-ைொ-ௌௐௗఀ-ఃఅ-ఌఎ-ఐఒ-నప-హఽ-ౄె-ైొ-ౌౕౖౘ-ౚౝౠ-ౣಀ-ಃಅ-ಌಎ-ಐಒ-ನಪ-ಳವ-ಹಽ-ೄೆ-ೈೊ-ೌೕೖೝೞೠ-ೣೱೲഀ-ഌഎ-ഐഒ-ഺഽ-ൄെ-ൈൊ-ൌൎൔ-ൗൟ-ൣൺ-ൿඁ-ඃඅ-ඖක-නඳ-රලව-ෆා-ුූෘ-ෟෲෳก-ฺเ-ๆํກຂຄຆ-ຊຌ-ຣລວ-ູົ-ຽເ-ໄໆໍໜ-ໟༀཀ-ཇཉ-ཬཱ-ཱྀྈ-ྗྙ-ྼက-ံးျ-ဿၐ-ႏႚ-ႝႠ-ჅჇჍა-ჺჼ-ቈቊ-ቍቐ-ቖቘቚ-ቝበ-ኈኊ-ኍነ-ኰኲ-ኵኸ-ኾዀዂ-ዅወ-ዖዘ-ጐጒ-ጕጘ-ፚᎀ-ᎏᎠ-Ᏽᏸ-ᏽᐁ-ᙬᙯ-ᙿᚁ-ᚚᚠ-ᛪᛮ-ᛸᜀ-ᜓᜟ-ᜳᝀ-ᝓᝠ-ᝬᝮ-ᝰᝲᝳក-ឳា-ៈៗៜᠠ-ᡸᢀ-ᢪᢰ-ᣵᤀ-ᤞᤠ-ᤫᤰ-ᤸᥐ-ᥭᥰ-ᥴᦀ-ᦫᦰ-ᧉᨀ-ᨛᨠ-ᩞᩡ-ᩴᪧᪿᫀᫌ-ᫎᬀ-ᬳᬵ-ᭃᭅ-ᭌᮀ-ᮩᮬ-ᮯᮺ-ᯥᯧ-ᯱᰀ-ᰶᱍ-ᱏᱚ-ᱽᲀ-ᲈᲐ-ᲺᲽ-Ჿᳩ-ᳬᳮ-ᳳᳵᳶᳺᴀ-ᶿᷧ-ᷴḀ-ἕἘ-Ἕἠ-ὅὈ-Ὅὐ-ὗὙὛὝὟ-ώᾀ-ᾴᾶ-ᾼιῂ-ῄῆ-ῌῐ-ΐῖ-Ίῠ-Ῥῲ-ῴῶ-ῼⁱⁿₐ-ₜℂℇℊ-ℓℕℙ-ℝℤΩℨK-ℭℯ-ℹℼ-ℿⅅ-ⅉⅎⅠ-ↈⒶ-ⓩⰀ-ⳤⳫ-ⳮⳲⳳⴀ-ⴥⴧⴭⴰ-ⵧⵯⶀ-ⶖⶠ-ⶦⶨ-ⶮⶰ-ⶶⶸ-ⶾⷀ-ⷆⷈ-ⷎⷐ-ⷖⷘ-ⷞⷠ-ⷿⸯ々-〇〡-〩〱-〵〸-〼ぁ-ゖゝ-ゟァ-ヺー-ヿㄅ-ㄯㄱ-ㆎㆠ-ㆿㇰ-ㇿ㐀-䶿一-ꒌꓐ-ꓽꔀ-ꘌꘐ-ꘟꘪꘫꙀ-ꙮꙴ-ꙻꙿ-ꛯꜗ-ꜟꜢ-ꞈꞋ-ꟊꟐꟑꟓꟕ-ꟙꟲ-ꠅꠇ-ꠧꡀ-ꡳꢀ-ꣃꣅꣲ-ꣷꣻꣽ-ꣿꤊ-ꤪꤰ-ꥒꥠ-ꥼꦀ-ꦲꦴ-ꦿꧏꧠ-ꧯꧺ-ꧾꨀ-ꨶꩀ-ꩍꩠ-ꩶꩺ-ꪾꫀꫂꫛ-ꫝꫠ-ꫯꫲ-ꫵꬁ-ꬆꬉ-ꬎꬑ-ꬖꬠ-ꬦꬨ-ꬮꬰ-ꭚꭜ-ꭩꭰ-ꯪ가-힣ힰ-ퟆퟋ-ퟻ豈-舘並-龎ﬀ-ﬆﬓ-ﬗיִ-ﬨשׁ-זּטּ-לּמּנּסּףּפּצּ-ﮱﯓ-ﴽﵐ-ﶏﶒ-ﷇﷰ-ﷻﹰ-ﹴﹶ-ﻼＡ-Ｚａ-ｚｦ-ﾾￂ-ￇￊ-ￏￒ-ￗￚ-ￜ",astral:"\ud800[\udc00-\udc0b\udc0d-\udc26\udc28-\udc3a\udc3c\udc3d\udc3f-\udc4d\udc50-\udc5d\udc80-\udcfa\udd40-\udd74\ude80-\ude9c\udea0-\uded0\udf00-\udf1f\udf2d-\udf4a\udf50-\udf7a\udf80-\udf9d\udfa0-\udfc3\udfc8-\udfcf\udfd1-\udfd5]|\ud801[\udc00-\udc9d\udcb0-\udcd3\udcd8-\udcfb\udd00-\udd27\udd30-\udd63\udd70-\udd7a\udd7c-\udd8a\udd8c-\udd92\udd94\udd95\udd97-\udda1\udda3-\uddb1\uddb3-\uddb9\uddbb\uddbc\ude00-\udf36\udf40-\udf55\udf60-\udf67\udf80-\udf85\udf87-\udfb0\udfb2-\udfba]|\ud802[\udc00-\udc05\udc08\udc0a-\udc35\udc37\udc38\udc3c\udc3f-\udc55\udc60-\udc76\udc80-\udc9e\udce0-\udcf2\udcf4\udcf5\udd00-\udd15\udd20-\udd39\udd80-\uddb7\uddbe\uddbf\ude00-\ude03\ude05\ude06\ude0c-\ude13\ude15-\ude17\ude19-\ude35\ude60-\ude7c\ude80-\ude9c\udec0-\udec7\udec9-\udee4\udf00-\udf35\udf40-\udf55\udf60-\udf72\udf80-\udf91]|\ud803[\udc00-\udc48\udc80-\udcb2\udcc0-\udcf2\udd00-\udd27\ude80-\udea9\udeab\udeac\udeb0\udeb1\udf00-\udf1c\udf27\udf30-\udf45\udf70-\udf81\udfb0-\udfc4\udfe0-\udff6]|\ud804[\udc00-\udc45\udc71-\udc75\udc82-\udcb8\udcc2\udcd0-\udce8\udd00-\udd32\udd44-\udd47\udd50-\udd72\udd76\udd80-\uddbf\uddc1-\uddc4\uddce\uddcf\uddda\udddc\ude00-\ude11\ude13-\ude34\ude37\ude3e\ude80-\ude86\ude88\ude8a-\ude8d\ude8f-\ude9d\ude9f-\udea8\udeb0-\udee8\udf00-\udf03\udf05-\udf0c\udf0f\udf10\udf13-\udf28\udf2a-\udf30\udf32\udf33\udf35-\udf39\udf3d-\udf44\udf47\udf48\udf4b\udf4c\udf50\udf57\udf5d-\udf63]|\ud805[\udc00-\udc41\udc43-\udc45\udc47-\udc4a\udc5f-\udc61\udc80-\udcc1\udcc4\udcc5\udcc7\udd80-\uddb5\uddb8-\uddbe\uddd8-\udddd\ude00-\ude3e\ude40\ude44\ude80-\udeb5\udeb8\udf00-\udf1a\udf1d-\udf2a\udf40-\udf46]|\ud806[\udc00-\udc38\udca0-\udcdf\udcff-\udd06\udd09\udd0c-\udd13\udd15\udd16\udd18-\udd35\udd37\udd38\udd3b\udd3c\udd3f-\udd42\udda0-\udda7\uddaa-\uddd7\uddda-\udddf\udde1\udde3\udde4\ude00-\ude32\ude35-\ude3e\ude50-\ude97\ude9d\udeb0-\udef8]|\ud807[\udc00-\udc08\udc0a-\udc36\udc38-\udc3e\udc40\udc72-\udc8f\udc92-\udca7\udca9-\udcb6\udd00-\udd06\udd08\udd09\udd0b-\udd36\udd3a\udd3c\udd3d\udd3f-\udd41\udd43\udd46\udd47\udd60-\udd65\udd67\udd68\udd6a-\udd8e\udd90\udd91\udd93-\udd96\udd98\udee0-\udef6\udfb0]|\ud808[\udc00-\udf99]|\ud809[\udc00-\udc6e\udc80-\udd43]|\ud80b[\udf90-\udff0]|[\ud80c\ud81c-\ud820\ud822\ud840-\ud868\ud86a-\ud86c\ud86f-\ud872\ud874-\ud879\ud880-\ud883][\udc00-\udfff]|\ud80d[\udc00-\udc2e]|\ud811[\udc00-\ude46]|\ud81a[\udc00-\ude38\ude40-\ude5e\ude70-\udebe\uded0-\udeed\udf00-\udf2f\udf40-\udf43\udf63-\udf77\udf7d-\udf8f]|\ud81b[\ude40-\ude7f\udf00-\udf4a\udf4f-\udf87\udf8f-\udf9f\udfe0\udfe1\udfe3\udff0\udff1]|\ud821[\udc00-\udff7]|\ud823[\udc00-\udcd5\udd00-\udd08]|\ud82b[\udff0-\udff3\udff5-\udffb\udffd\udffe]|\ud82c[\udc00-\udd22\udd50-\udd52\udd64-\udd67\udd70-\udefb]|\ud82f[\udc00-\udc6a\udc70-\udc7c\udc80-\udc88\udc90-\udc99\udc9e]|\ud835[\udc00-\udc54\udc56-\udc9c\udc9e\udc9f\udca2\udca5\udca6\udca9-\udcac\udcae-\udcb9\udcbb\udcbd-\udcc3\udcc5-\udd05\udd07-\udd0a\udd0d-\udd14\udd16-\udd1c\udd1e-\udd39\udd3b-\udd3e\udd40-\udd44\udd46\udd4a-\udd50\udd52-\udea5\udea8-\udec0\udec2-\udeda\udedc-\udefa\udefc-\udf14\udf16-\udf34\udf36-\udf4e\udf50-\udf6e\udf70-\udf88\udf8a-\udfa8\udfaa-\udfc2\udfc4-\udfcb]|\ud837[\udf00-\udf1e]|\ud838[\udc00-\udc06\udc08-\udc18\udc1b-\udc21\udc23\udc24\udc26-\udc2a\udd00-\udd2c\udd37-\udd3d\udd4e\ude90-\udead\udec0-\udeeb]|\ud839[\udfe0-\udfe6\udfe8-\udfeb\udfed\udfee\udff0-\udffe]|\ud83a[\udc00-\udcc4\udd00-\udd43\udd47\udd4b]|\ud83b[\ude00-\ude03\ude05-\ude1f\ude21\ude22\ude24\ude27\ude29-\ude32\ude34-\ude37\ude39\ude3b\ude42\ude47\ude49\ude4b\ude4d-\ude4f\ude51\ude52\ude54\ude57\ude59\ude5b\ude5d\ude5f\ude61\ude62\ude64\ude67-\ude6a\ude6c-\ude72\ude74-\ude77\ude79-\ude7c\ude7e\ude80-\ude89\ude8b-\ude9b\udea1-\udea3\udea5-\udea9\udeab-\udebb]|\ud83c[\udd30-\udd49\udd50-\udd69\udd70-\udd89]|\ud869[\udc00-\udedf\udf00-\udfff]|\ud86d[\udc00-\udf38\udf40-\udfff]|\ud86e[\udc00-\udc1d\udc20-\udfff]|\ud873[\udc00-\udea1\udeb0-\udfff]|\ud87a[\udc00-\udfe0]|\ud87e[\udc00-\ude1d]|\ud884[\udc00-\udf4a]"},{name:"Any",isBmpLast:!0,bmp:"\0-￿",astral:"[\ud800-\udbff][\udc00-\udfff]"},{name:"Default_Ignorable_Code_Point",bmp:"­͏؜ᅟᅠ឴឵᠋-᠏​-‏‪-‮⁠-⁯ㅤ︀-️\ufeffﾠ￰-￸",astral:"\ud82f[\udca0-\udca3]|\ud834[\udd73-\udd7a]|[\udb40-\udb43][\udc00-\udfff]"},{name:"Lowercase",bmp:"a-zªµºß-öø-ÿāăąćĉċčďđēĕėęěĝğġģĥħĩīĭįıĳĵķĸĺļľŀłńņňŉŋōŏőœŕŗřśŝşšţťŧũūŭůűųŵŷźżž-ƀƃƅƈƌƍƒƕƙ-ƛƞơƣƥƨƪƫƭưƴƶƹƺƽ-ƿǆǉǌǎǐǒǔǖǘǚǜǝǟǡǣǥǧǩǫǭǯǰǳǵǹǻǽǿȁȃȅȇȉȋȍȏȑȓȕȗșțȝȟȡȣȥȧȩȫȭȯȱȳ-ȹȼȿɀɂɇɉɋɍɏ-ʓʕ-ʸˀˁˠ-ˤͅͱͳͷͺ-ͽΐά-ώϐϑϕ-ϗϙϛϝϟϡϣϥϧϩϫϭϯ-ϳϵϸϻϼа-џѡѣѥѧѩѫѭѯѱѳѵѷѹѻѽѿҁҋҍҏґғҕҗҙқҝҟҡңҥҧҩҫҭүұҳҵҷҹһҽҿӂӄӆӈӊӌӎӏӑӓӕӗәӛӝӟӡӣӥӧөӫӭӯӱӳӵӷӹӻӽӿԁԃԅԇԉԋԍԏԑԓԕԗԙԛԝԟԡԣԥԧԩԫԭԯՠ-ֈა-ჺჽ-ჿᏸ-ᏽᲀ-ᲈᴀ-ᶿḁḃḅḇḉḋḍḏḑḓḕḗḙḛḝḟḡḣḥḧḩḫḭḯḱḳḵḷḹḻḽḿṁṃṅṇṉṋṍṏṑṓṕṗṙṛṝṟṡṣṥṧṩṫṭṯṱṳṵṷṹṻṽṿẁẃẅẇẉẋẍẏẑẓẕ-ẝẟạảấầẩẫậắằẳẵặẹẻẽếềểễệỉịọỏốồổỗộớờởỡợụủứừửữựỳỵỷỹỻỽỿ-ἇἐ-ἕἠ-ἧἰ-ἷὀ-ὅὐ-ὗὠ-ὧὰ-ώᾀ-ᾇᾐ-ᾗᾠ-ᾧᾰ-ᾴᾶᾷιῂ-ῄῆῇῐ-ΐῖῗῠ-ῧῲ-ῴῶῷⁱⁿₐ-ₜℊℎℏℓℯℴℹℼℽⅆ-ⅉⅎⅰ-ⅿↄⓐ-ⓩⰰ-ⱟⱡⱥⱦⱨⱪⱬⱱⱳⱴⱶ-ⱽⲁⲃⲅⲇⲉⲋⲍⲏⲑⲓⲕⲗⲙⲛⲝⲟⲡⲣⲥⲧⲩⲫⲭⲯⲱⲳⲵⲷⲹⲻⲽⲿⳁⳃⳅⳇⳉⳋⳍⳏⳑⳓⳕⳗⳙⳛⳝⳟⳡⳣⳤⳬⳮⳳⴀ-ⴥⴧⴭꙁꙃꙅꙇꙉꙋꙍꙏꙑꙓꙕꙗꙙꙛꙝꙟꙡꙣꙥꙧꙩꙫꙭꚁꚃꚅꚇꚉꚋꚍꚏꚑꚓꚕꚗꚙꚛ-ꚝꜣꜥꜧꜩꜫꜭꜯ-ꜱꜳꜵꜷꜹꜻꜽꜿꝁꝃꝅꝇꝉꝋꝍꝏꝑꝓꝕꝗꝙꝛꝝꝟꝡꝣꝥꝧꝩꝫꝭꝯ-ꝸꝺꝼꝿꞁꞃꞅꞇꞌꞎꞑꞓ-ꞕꞗꞙꞛꞝꞟꞡꞣꞥꞧꞩꞯꞵꞷꞹꞻꞽꞿꟁꟃꟈꟊꟑꟓꟕꟗꟙꟶꟸ-ꟺꬰ-ꭚꭜ-ꭨꭰ-ꮿﬀ-ﬆﬓ-ﬗａ-ｚ",astral:"\ud801[\udc28-\udc4f\udcd8-\udcfb\udd97-\udda1\udda3-\uddb1\uddb3-\uddb9\uddbb\uddbc\udf80\udf83-\udf85\udf87-\udfb0\udfb2-\udfba]|\ud803[\udcc0-\udcf2]|\ud806[\udcc0-\udcdf]|\ud81b[\ude60-\ude7f]|\ud835[\udc1a-\udc33\udc4e-\udc54\udc56-\udc67\udc82-\udc9b\udcb6-\udcb9\udcbb\udcbd-\udcc3\udcc5-\udccf\udcea-\udd03\udd1e-\udd37\udd52-\udd6b\udd86-\udd9f\uddba-\uddd3\uddee-\ude07\ude22-\ude3b\ude56-\ude6f\ude8a-\udea5\udec2-\udeda\udedc-\udee1\udefc-\udf14\udf16-\udf1b\udf36-\udf4e\udf50-\udf55\udf70-\udf88\udf8a-\udf8f\udfaa-\udfc2\udfc4-\udfc9\udfcb]|\ud837[\udf00-\udf09\udf0b-\udf1e]|\ud83a[\udd22-\udd43]"},{name:"Noncharacter_Code_Point",bmp:"﷐-﷯￾￿",astral:"[\ud83f\ud87f\ud8bf\ud8ff\ud93f\ud97f\ud9bf\ud9ff\uda3f\uda7f\udabf\udaff\udb3f\udb7f\udbbf\udbff][\udffe\udfff]"},{name:"Uppercase",bmp:"A-ZÀ-ÖØ-ÞĀĂĄĆĈĊČĎĐĒĔĖĘĚĜĞĠĢĤĦĨĪĬĮİĲĴĶĹĻĽĿŁŃŅŇŊŌŎŐŒŔŖŘŚŜŞŠŢŤŦŨŪŬŮŰŲŴŶŸŹŻŽƁƂƄƆƇƉ-ƋƎ-ƑƓƔƖ-ƘƜƝƟƠƢƤƦƧƩƬƮƯƱ-ƳƵƷƸƼǄǇǊǍǏǑǓǕǗǙǛǞǠǢǤǦǨǪǬǮǱǴǶ-ǸǺǼǾȀȂȄȆȈȊȌȎȐȒȔȖȘȚȜȞȠȢȤȦȨȪȬȮȰȲȺȻȽȾɁɃ-ɆɈɊɌɎͰͲͶͿΆΈ-ΊΌΎΏΑ-ΡΣ-ΫϏϒ-ϔϘϚϜϞϠϢϤϦϨϪϬϮϴϷϹϺϽ-ЯѠѢѤѦѨѪѬѮѰѲѴѶѸѺѼѾҀҊҌҎҐҒҔҖҘҚҜҞҠҢҤҦҨҪҬҮҰҲҴҶҸҺҼҾӀӁӃӅӇӉӋӍӐӒӔӖӘӚӜӞӠӢӤӦӨӪӬӮӰӲӴӶӸӺӼӾԀԂԄԆԈԊԌԎԐԒԔԖԘԚԜԞԠԢԤԦԨԪԬԮԱ-ՖႠ-ჅჇჍᎠ-ᏵᲐ-ᲺᲽ-ᲿḀḂḄḆḈḊḌḎḐḒḔḖḘḚḜḞḠḢḤḦḨḪḬḮḰḲḴḶḸḺḼḾṀṂṄṆṈṊṌṎṐṒṔṖṘṚṜṞṠṢṤṦṨṪṬṮṰṲṴṶṸṺṼṾẀẂẄẆẈẊẌẎẐẒẔẞẠẢẤẦẨẪẬẮẰẲẴẶẸẺẼẾỀỂỄỆỈỊỌỎỐỒỔỖỘỚỜỞỠỢỤỦỨỪỬỮỰỲỴỶỸỺỼỾἈ-ἏἘ-ἝἨ-ἯἸ-ἿὈ-ὍὙὛὝὟὨ-ὯᾸ-ΆῈ-ΉῘ-ΊῨ-ῬῸ-Ώℂℇℋ-ℍℐ-ℒℕℙ-ℝℤΩℨK-ℭℰ-ℳℾℿⅅⅠ-ⅯↃⒶ-ⓏⰀ-ⰯⱠⱢ-ⱤⱧⱩⱫⱭ-ⱰⱲⱵⱾ-ⲀⲂⲄⲆⲈⲊⲌⲎⲐⲒⲔⲖⲘⲚⲜⲞⲠⲢⲤⲦⲨⲪⲬⲮⲰⲲⲴⲶⲸⲺⲼⲾⳀⳂⳄⳆⳈⳊⳌⳎⳐⳒⳔⳖⳘⳚⳜⳞⳠⳢⳫⳭⳲꙀꙂꙄꙆꙈꙊꙌꙎꙐꙒꙔꙖꙘꙚꙜꙞꙠꙢꙤꙦꙨꙪꙬꚀꚂꚄꚆꚈꚊꚌꚎꚐꚒꚔꚖꚘꚚꜢꜤꜦꜨꜪꜬꜮꜲꜴꜶꜸꜺꜼꜾꝀꝂꝄꝆꝈꝊꝌꝎꝐꝒꝔꝖꝘꝚꝜꝞꝠꝢꝤꝦꝨꝪꝬꝮꝹꝻꝽꝾꞀꞂꞄꞆꞋꞍꞐꞒꞖꞘꞚꞜꞞꞠꞢꞤꞦꞨꞪ-ꞮꞰ-ꞴꞶꞸꞺꞼꞾꟀꟂꟄ-ꟇꟉꟐꟖꟘꟵＡ-Ｚ",astral:"\ud801[\udc00-\udc27\udcb0-\udcd3\udd70-\udd7a\udd7c-\udd8a\udd8c-\udd92\udd94\udd95]|\ud803[\udc80-\udcb2]|\ud806[\udca0-\udcbf]|\ud81b[\ude40-\ude5f]|\ud835[\udc00-\udc19\udc34-\udc4d\udc68-\udc81\udc9c\udc9e\udc9f\udca2\udca5\udca6\udca9-\udcac\udcae-\udcb5\udcd0-\udce9\udd04\udd05\udd07-\udd0a\udd0d-\udd14\udd16-\udd1c\udd38\udd39\udd3b-\udd3e\udd40-\udd44\udd46\udd4a-\udd50\udd6c-\udd85\udda0-\uddb9\uddd4-\udded\ude08-\ude21\ude3c-\ude55\ude70-\ude89\udea8-\udec0\udee2-\udefa\udf1c-\udf34\udf56-\udf6e\udf90-\udfa8\udfca]|\ud83a[\udd00-\udd21]|\ud83c[\udd30-\udd49\udd50-\udd69\udd70-\udd89]"},{name:"White_Space",bmp:"\t-\r    - \u2028\u2029  　"}],properties$1=getDefaultExportFromCjs(properties),unicodeProperties=o=>{if(!o.addUnicodeData)throw new ReferenceError("Unicode Base must be loaded before Unicode Properties");const l=properties$1;l.push({name:"Assigned",inverseOf:"Cn"}),o.addUnicodeData(l)},scripts=[{name:"Adlam",astral:"\ud83a[\udd00-\udd4b\udd50-\udd59\udd5e\udd5f]"},{name:"Ahom",astral:"\ud805[\udf00-\udf1a\udf1d-\udf2b\udf30-\udf46]"},{name:"Anatolian_Hieroglyphs",astral:"\ud811[\udc00-\ude46]"},{name:"Arabic",bmp:"؀-؄؆-؋؍-ؚ؜-؞ؠ-ؿف-يٖ-ٯٱ-ۜ۞-ۿݐ-ݿࡰ-ࢎ࢐࢑࢘-ࣣ࣡-ࣿﭐ-﯂ﯓ-ﴽ﵀-ﶏﶒ-ﷇ﷏ﷰ-﷿ﹰ-ﹴﹶ-ﻼ",astral:"\ud803[\ude60-\ude7e]|\ud83b[\ude00-\ude03\ude05-\ude1f\ude21\ude22\ude24\ude27\ude29-\ude32\ude34-\ude37\ude39\ude3b\ude42\ude47\ude49\ude4b\ude4d-\ude4f\ude51\ude52\ude54\ude57\ude59\ude5b\ude5d\ude5f\ude61\ude62\ude64\ude67-\ude6a\ude6c-\ude72\ude74-\ude77\ude79-\ude7c\ude7e\ude80-\ude89\ude8b-\ude9b\udea1-\udea3\udea5-\udea9\udeab-\udebb\udef0\udef1]"},{name:"Armenian",bmp:"Ա-Ֆՙ-֊֍-֏ﬓ-ﬗ"},{name:"Avestan",astral:"\ud802[\udf00-\udf35\udf39-\udf3f]"},{name:"Balinese",bmp:"ᬀ-ᭌ᭐-᭾"},{name:"Bamum",bmp:"ꚠ-꛷",astral:"\ud81a[\udc00-\ude38]"},{name:"Bassa_Vah",astral:"\ud81a[\uded0-\udeed\udef0-\udef5]"},{name:"Batak",bmp:"ᯀ-᯳᯼-᯿"},{name:"Bengali",bmp:"ঀ-ঃঅ-ঌএঐও-নপ-রলশ-হ়-ৄেৈো-ৎৗড়ঢ়য়-ৣ০-৾"},{name:"Bhaiksuki",astral:"\ud807[\udc00-\udc08\udc0a-\udc36\udc38-\udc45\udc50-\udc6c]"},{name:"Bopomofo",bmp:"˪˫ㄅ-ㄯㆠ-ㆿ"},{name:"Brahmi",astral:"\ud804[\udc00-\udc4d\udc52-\udc75\udc7f]"},{name:"Braille",bmp:"⠀-⣿"},{name:"Buginese",bmp:"ᨀ-ᨛ᨞᨟"},{name:"Buhid",bmp:"ᝀ-ᝓ"},{name:"Canadian_Aboriginal",bmp:"᐀-ᙿᢰ-ᣵ",astral:"\ud806[\udeb0-\udebf]"},{name:"Carian",astral:"\ud800[\udea0-\uded0]"},{name:"Caucasian_Albanian",astral:"\ud801[\udd30-\udd63\udd6f]"},{name:"Chakma",astral:"\ud804[\udd00-\udd34\udd36-\udd47]"},{name:"Cham",bmp:"ꨀ-ꨶꩀ-ꩍ꩐-꩙꩜-꩟"},{name:"Cherokee",bmp:"Ꭰ-Ᏽᏸ-ᏽꭰ-ꮿ"},{name:"Chorasmian",astral:"\ud803[\udfb0-\udfcb]"},{name:"Common",bmp:"\0-@\\[-`\\{-©«-¹»-¿×÷ʹ-˟˥-˩ˬ-˿ʹ;΅·؅،؛؟ـ۝࣢।॥฿࿕-࿘჻᛫-᛭᜵᜶᠂᠃᠅᳓᳡ᳩ-ᳬᳮ-ᳳᳵ-᳷ᳺ -​‎-⁤⁦-⁰⁴-⁾₀-₎₠-⃀℀-℥℧-℩ℬ-ℱℳ-⅍⅏-⅟↉-↋←-␦⑀-⑊①-⟿⤀-⭳⭶-⮕⮗-⯿⸀-⹝⿰-⿻　-〄〆〈-〠〰-〷〼-〿゛゜゠・ー㆐-㆟㇀-㇣㈠-㉟㉿-㋏㋿㍘-㏿䷀-䷿꜀-꜡ꞈ-꞊꠰-꠹꤮ꧏ꭛꭪꭫﴾﴿︐-︙︰-﹒﹔-﹦﹨-﹫\ufeff！-＠［-｀｛-･ｰﾞﾟ￠-￦￨-￮￹-�",astral:"\ud800[\udd00-\udd02\udd07-\udd33\udd37-\udd3f\udd90-\udd9c\uddd0-\uddfc\udee1-\udefb]|\ud82f[\udca0-\udca3]|\ud833[\udf50-\udfc3]|\ud834[\udc00-\udcf5\udd00-\udd26\udd29-\udd66\udd6a-\udd7a\udd83\udd84\udd8c-\udda9\uddae-\uddea\udee0-\udef3\udf00-\udf56\udf60-\udf78]|\ud835[\udc00-\udc54\udc56-\udc9c\udc9e\udc9f\udca2\udca5\udca6\udca9-\udcac\udcae-\udcb9\udcbb\udcbd-\udcc3\udcc5-\udd05\udd07-\udd0a\udd0d-\udd14\udd16-\udd1c\udd1e-\udd39\udd3b-\udd3e\udd40-\udd44\udd46\udd4a-\udd50\udd52-\udea5\udea8-\udfcb\udfce-\udfff]|\ud83b[\udc71-\udcb4\udd01-\udd3d]|\ud83c[\udc00-\udc2b\udc30-\udc93\udca0-\udcae\udcb1-\udcbf\udcc1-\udccf\udcd1-\udcf5\udd00-\uddad\udde6-\uddff\ude01\ude02\ude10-\ude3b\ude40-\ude48\ude50\ude51\ude60-\ude65\udf00-\udfff]|\ud83d[\udc00-\uded7\udedd-\udeec\udef0-\udefc\udf00-\udf73\udf80-\udfd8\udfe0-\udfeb\udff0]|\ud83e[\udc00-\udc0b\udc10-\udc47\udc50-\udc59\udc60-\udc87\udc90-\udcad\udcb0\udcb1\udd00-\ude53\ude60-\ude6d\ude70-\ude74\ude78-\ude7c\ude80-\ude86\ude90-\udeac\udeb0-\udeba\udec0-\udec5\uded0-\uded9\udee0-\udee7\udef0-\udef6\udf00-\udf92\udf94-\udfca\udff0-\udff9]|\udb40[\udc01\udc20-\udc7f]"},{name:"Coptic",bmp:"Ϣ-ϯⲀ-ⳳ⳹-⳿"},{name:"Cuneiform",astral:"\ud808[\udc00-\udf99]|\ud809[\udc00-\udc6e\udc70-\udc74\udc80-\udd43]"},{name:"Cypriot",astral:"\ud802[\udc00-\udc05\udc08\udc0a-\udc35\udc37\udc38\udc3c\udc3f]"},{name:"Cypro_Minoan",astral:"\ud80b[\udf90-\udff2]"},{name:"Cyrillic",bmp:"Ѐ-҄҇-ԯᲀ-ᲈᴫᵸⷠ-ⷿꙀ-ꚟ︮︯"},{name:"Deseret",astral:"\ud801[\udc00-\udc4f]"},{name:"Devanagari",bmp:"ऀ-ॐॕ-ॣ०-ॿ꣠-ꣿ"},{name:"Dives_Akuru",astral:"\ud806[\udd00-\udd06\udd09\udd0c-\udd13\udd15\udd16\udd18-\udd35\udd37\udd38\udd3b-\udd46\udd50-\udd59]"},{name:"Dogra",astral:"\ud806[\udc00-\udc3b]"},{name:"Duployan",astral:"\ud82f[\udc00-\udc6a\udc70-\udc7c\udc80-\udc88\udc90-\udc99\udc9c-\udc9f]"},{name:"Egyptian_Hieroglyphs",astral:"\ud80c[\udc00-\udfff]|\ud80d[\udc00-\udc2e\udc30-\udc38]"},{name:"Elbasan",astral:"\ud801[\udd00-\udd27]"},{name:"Elymaic",astral:"\ud803[\udfe0-\udff6]"},{name:"Ethiopic",bmp:"ሀ-ቈቊ-ቍቐ-ቖቘቚ-ቝበ-ኈኊ-ኍነ-ኰኲ-ኵኸ-ኾዀዂ-ዅወ-ዖዘ-ጐጒ-ጕጘ-ፚ፝-፼ᎀ-᎙ⶀ-ⶖⶠ-ⶦⶨ-ⶮⶰ-ⶶⶸ-ⶾⷀ-ⷆⷈ-ⷎⷐ-ⷖⷘ-ⷞꬁ-ꬆꬉ-ꬎꬑ-ꬖꬠ-ꬦꬨ-ꬮ",astral:"\ud839[\udfe0-\udfe6\udfe8-\udfeb\udfed\udfee\udff0-\udffe]"},{name:"Georgian",bmp:"Ⴀ-ჅჇჍა-ჺჼ-ჿᲐ-ᲺᲽ-Ჿⴀ-ⴥⴧⴭ"},{name:"Glagolitic",bmp:"Ⰰ-ⱟ",astral:"\ud838[\udc00-\udc06\udc08-\udc18\udc1b-\udc21\udc23\udc24\udc26-\udc2a]"},{name:"Gothic",astral:"\ud800[\udf30-\udf4a]"},{name:"Grantha",astral:"\ud804[\udf00-\udf03\udf05-\udf0c\udf0f\udf10\udf13-\udf28\udf2a-\udf30\udf32\udf33\udf35-\udf39\udf3c-\udf44\udf47\udf48\udf4b-\udf4d\udf50\udf57\udf5d-\udf63\udf66-\udf6c\udf70-\udf74]"},{name:"Greek",bmp:"Ͱ-ͳ͵-ͷͺ-ͽͿ΄ΆΈ-ΊΌΎ-ΡΣ-ϡϰ-Ͽᴦ-ᴪᵝ-ᵡᵦ-ᵪᶿἀ-ἕἘ-Ἕἠ-ὅὈ-Ὅὐ-ὗὙὛὝὟ-ώᾀ-ᾴᾶ-ῄῆ-ΐῖ-Ί῝-`ῲ-ῴῶ-῾Ωꭥ",astral:"\ud800[\udd40-\udd8e\udda0]|\ud834[\ude00-\ude45]"},{name:"Gujarati",bmp:"ઁ-ઃઅ-ઍએ-ઑઓ-નપ-રલળવ-હ઼-ૅે-ૉો-્ૐૠ-ૣ૦-૱ૹ-૿"},{name:"Gunjala_Gondi",astral:"\ud807[\udd60-\udd65\udd67\udd68\udd6a-\udd8e\udd90\udd91\udd93-\udd98\udda0-\udda9]"},{name:"Gurmukhi",bmp:"ਁ-ਃਅ-ਊਏਐਓ-ਨਪ-ਰਲਲ਼ਵਸ਼ਸਹ਼ਾ-ੂੇੈੋ-੍ੑਖ਼-ੜਫ਼੦-੶"},{name:"Han",bmp:"⺀-⺙⺛-⻳⼀-⿕々〇〡-〩〸-〻㐀-䶿一-鿿豈-舘並-龎",astral:"\ud81b[\udfe2\udfe3\udff0\udff1]|[\ud840-\ud868\ud86a-\ud86c\ud86f-\ud872\ud874-\ud879\ud880-\ud883][\udc00-\udfff]|\ud869[\udc00-\udedf\udf00-\udfff]|\ud86d[\udc00-\udf38\udf40-\udfff]|\ud86e[\udc00-\udc1d\udc20-\udfff]|\ud873[\udc00-\udea1\udeb0-\udfff]|\ud87a[\udc00-\udfe0]|\ud87e[\udc00-\ude1d]|\ud884[\udc00-\udf4a]"},{name:"Hangul",bmp:"ᄀ-ᇿ〮〯ㄱ-ㆎ㈀-㈞㉠-㉾ꥠ-ꥼ가-힣ힰ-ퟆퟋ-ퟻﾠ-ﾾￂ-ￇￊ-ￏￒ-ￗￚ-ￜ"},{name:"Hanifi_Rohingya",astral:"\ud803[\udd00-\udd27\udd30-\udd39]"},{name:"Hanunoo",bmp:"ᜠ-᜴"},{name:"Hatran",astral:"\ud802[\udce0-\udcf2\udcf4\udcf5\udcfb-\udcff]"},{name:"Hebrew",bmp:"֑-ׇא-תׯ-״יִ-זּטּ-לּמּנּסּףּפּצּ-ﭏ"},{name:"Hiragana",bmp:"ぁ-ゖゝ-ゟ",astral:"\ud82c[\udc01-\udd1f\udd50-\udd52]|🈀"},{name:"Imperial_Aramaic",astral:"\ud802[\udc40-\udc55\udc57-\udc5f]"},{name:"Inherited",bmp:"̀-ًͯ҅҆-ٰٕ॑-॔᪰-ᫎ᳐-᳔᳒-᳢᳠-᳨᳭᳴᳸᳹᷀-᷿‌‍⃐-〪⃰-゙゚〭︀-️︠-︭",astral:"\ud800[\uddfd\udee0]|𑌻|\ud833[\udf00-\udf2d\udf30-\udf46]|\ud834[\udd67-\udd69\udd7b-\udd82\udd85-\udd8b\uddaa-\uddad]|\udb40[\udd00-\uddef]"},{name:"Inscriptional_Pahlavi",astral:"\ud802[\udf60-\udf72\udf78-\udf7f]"},{name:"Inscriptional_Parthian",astral:"\ud802[\udf40-\udf55\udf58-\udf5f]"},{name:"Javanese",bmp:"ꦀ-꧍꧐-꧙꧞꧟"},{name:"Kaithi",astral:"\ud804[\udc80-\udcc2\udccd]"},{name:"Kannada",bmp:"ಀ-ಌಎ-ಐಒ-ನಪ-ಳವ-ಹ಼-ೄೆ-ೈೊ-್ೕೖೝೞೠ-ೣ೦-೯ೱೲ"},{name:"Katakana",bmp:"ァ-ヺヽ-ヿㇰ-ㇿ㋐-㋾㌀-㍗ｦ-ｯｱ-ﾝ",astral:"\ud82b[\udff0-\udff3\udff5-\udffb\udffd\udffe]|\ud82c[\udc00\udd20-\udd22\udd64-\udd67]"},{name:"Kayah_Li",bmp:"꤀-꤭꤯"},{name:"Kharoshthi",astral:"\ud802[\ude00-\ude03\ude05\ude06\ude0c-\ude13\ude15-\ude17\ude19-\ude35\ude38-\ude3a\ude3f-\ude48\ude50-\ude58]"},{name:"Khitan_Small_Script",astral:"𖿤|\ud822[\udf00-\udfff]|\ud823[\udc00-\udcd5]"},{name:"Khmer",bmp:"ក-៝០-៩៰-៹᧠-᧿"},{name:"Khojki",astral:"\ud804[\ude00-\ude11\ude13-\ude3e]"},{name:"Khudawadi",astral:"\ud804[\udeb0-\udeea\udef0-\udef9]"},{name:"Lao",bmp:"ກຂຄຆ-ຊຌ-ຣລວ-ຽເ-ໄໆ່-ໍ໐-໙ໜ-ໟ"},{name:"Latin",bmp:"A-Za-zªºÀ-ÖØ-öø-ʸˠ-ˤᴀ-ᴥᴬ-ᵜᵢ-ᵥᵫ-ᵷᵹ-ᶾḀ-ỿⁱⁿₐ-ₜKÅℲⅎⅠ-ↈⱠ-ⱿꜢ-ꞇꞋ-ꟊꟐꟑꟓꟕ-ꟙꟲ-ꟿꬰ-ꭚꭜ-ꭤꭦ-ꭩﬀ-ﬆＡ-Ｚａ-ｚ",astral:"\ud801[\udf80-\udf85\udf87-\udfb0\udfb2-\udfba]|\ud837[\udf00-\udf1e]"},{name:"Lepcha",bmp:"ᰀ-᰷᰻-᱉ᱍ-ᱏ"},{name:"Limbu",bmp:"ᤀ-ᤞᤠ-ᤫᤰ-᤻᥀᥄-᥏"},{name:"Linear_A",astral:"\ud801[\ude00-\udf36\udf40-\udf55\udf60-\udf67]"},{name:"Linear_B",astral:"\ud800[\udc00-\udc0b\udc0d-\udc26\udc28-\udc3a\udc3c\udc3d\udc3f-\udc4d\udc50-\udc5d\udc80-\udcfa]"},{name:"Lisu",bmp:"ꓐ-꓿",astral:"𑾰"},{name:"Lycian",astral:"\ud800[\ude80-\ude9c]"},{name:"Lydian",astral:"\ud802[\udd20-\udd39\udd3f]"},{name:"Mahajani",astral:"\ud804[\udd50-\udd76]"},{name:"Makasar",astral:"\ud807[\udee0-\udef8]"},{name:"Malayalam",bmp:"ഀ-ഌഎ-ഐഒ-ൄെ-ൈൊ-൏ൔ-ൣ൦-ൿ"},{name:"Mandaic",bmp:"ࡀ-࡛࡞"},{name:"Manichaean",astral:"\ud802[\udec0-\udee6\udeeb-\udef6]"},{name:"Marchen",astral:"\ud807[\udc70-\udc8f\udc92-\udca7\udca9-\udcb6]"},{name:"Masaram_Gondi",astral:"\ud807[\udd00-\udd06\udd08\udd09\udd0b-\udd36\udd3a\udd3c\udd3d\udd3f-\udd47\udd50-\udd59]"},{name:"Medefaidrin",astral:"\ud81b[\ude40-\ude9a]"},{name:"Meetei_Mayek",bmp:"ꫠ-꫶ꯀ-꯭꯰-꯹"},{name:"Mende_Kikakui",astral:"\ud83a[\udc00-\udcc4\udcc7-\udcd6]"},{name:"Meroitic_Cursive",astral:"\ud802[\udda0-\uddb7\uddbc-\uddcf\uddd2-\uddff]"},{name:"Meroitic_Hieroglyphs",astral:"\ud802[\udd80-\udd9f]"},{name:"Miao",astral:"\ud81b[\udf00-\udf4a\udf4f-\udf87\udf8f-\udf9f]"},{name:"Modi",astral:"\ud805[\ude00-\ude44\ude50-\ude59]"},{name:"Mongolian",bmp:"᠀᠁᠄᠆-᠙ᠠ-ᡸᢀ-ᢪ",astral:"\ud805[\ude60-\ude6c]"},{name:"Mro",astral:"\ud81a[\ude40-\ude5e\ude60-\ude69\ude6e\ude6f]"},{name:"Multani",astral:"\ud804[\ude80-\ude86\ude88\ude8a-\ude8d\ude8f-\ude9d\ude9f-\udea9]"},{name:"Myanmar",bmp:"က-႟ꧠ-ꧾꩠ-ꩿ"},{name:"Nabataean",astral:"\ud802[\udc80-\udc9e\udca7-\udcaf]"},{name:"Nandinagari",astral:"\ud806[\udda0-\udda7\uddaa-\uddd7\uddda-\udde4]"},{name:"New_Tai_Lue",bmp:"ᦀ-ᦫᦰ-ᧉ᧐-᧚᧞᧟"},{name:"Newa",astral:"\ud805[\udc00-\udc5b\udc5d-\udc61]"},{name:"Nko",bmp:"߀-ߺ߽-߿"},{name:"Nushu",astral:"𖿡|\ud82c[\udd70-\udefb]"},{name:"Nyiakeng_Puachue_Hmong",astral:"\ud838[\udd00-\udd2c\udd30-\udd3d\udd40-\udd49\udd4e\udd4f]"},{name:"Ogham",bmp:" -᚜"},{name:"Ol_Chiki",bmp:"᱐-᱿"},{name:"Old_Hungarian",astral:"\ud803[\udc80-\udcb2\udcc0-\udcf2\udcfa-\udcff]"},{name:"Old_Italic",astral:"\ud800[\udf00-\udf23\udf2d-\udf2f]"},{name:"Old_North_Arabian",astral:"\ud802[\ude80-\ude9f]"},{name:"Old_Permic",astral:"\ud800[\udf50-\udf7a]"},{name:"Old_Persian",astral:"\ud800[\udfa0-\udfc3\udfc8-\udfd5]"},{name:"Old_Sogdian",astral:"\ud803[\udf00-\udf27]"},{name:"Old_South_Arabian",astral:"\ud802[\ude60-\ude7f]"},{name:"Old_Turkic",astral:"\ud803[\udc00-\udc48]"},{name:"Old_Uyghur",astral:"\ud803[\udf70-\udf89]"},{name:"Oriya",bmp:"ଁ-ଃଅ-ଌଏଐଓ-ନପ-ରଲଳଵ-ହ଼-ୄେୈୋ-୍୕-ୗଡ଼ଢ଼ୟ-ୣ୦-୷"},{name:"Osage",astral:"\ud801[\udcb0-\udcd3\udcd8-\udcfb]"},{name:"Osmanya",astral:"\ud801[\udc80-\udc9d\udca0-\udca9]"},{name:"Pahawh_Hmong",astral:"\ud81a[\udf00-\udf45\udf50-\udf59\udf5b-\udf61\udf63-\udf77\udf7d-\udf8f]"},{name:"Palmyrene",astral:"\ud802[\udc60-\udc7f]"},{name:"Pau_Cin_Hau",astral:"\ud806[\udec0-\udef8]"},{name:"Phags_Pa",bmp:"ꡀ-꡷"},{name:"Phoenician",astral:"\ud802[\udd00-\udd1b\udd1f]"},{name:"Psalter_Pahlavi",astral:"\ud802[\udf80-\udf91\udf99-\udf9c\udfa9-\udfaf]"},{name:"Rejang",bmp:"ꤰ-꥓꥟"},{name:"Runic",bmp:"ᚠ-ᛪᛮ-ᛸ"},{name:"Samaritan",bmp:"ࠀ-࠭࠰-࠾"},{name:"Saurashtra",bmp:"ꢀ-ꣅ꣎-꣙"},{name:"Sharada",astral:"\ud804[\udd80-\udddf]"},{name:"Shavian",astral:"\ud801[\udc50-\udc7f]"},{name:"Siddham",astral:"\ud805[\udd80-\uddb5\uddb8-\udddd]"},{name:"SignWriting",astral:"\ud836[\udc00-\ude8b\ude9b-\ude9f\udea1-\udeaf]"},{name:"Sinhala",bmp:"ඁ-ඃඅ-ඖක-නඳ-රලව-ෆ්ා-ුූෘ-ෟ෦-෯ෲ-෴",astral:"\ud804[\udde1-\uddf4]"},{name:"Sogdian",astral:"\ud803[\udf30-\udf59]"},{name:"Sora_Sompeng",astral:"\ud804[\udcd0-\udce8\udcf0-\udcf9]"},{name:"Soyombo",astral:"\ud806[\ude50-\udea2]"},{name:"Sundanese",bmp:"ᮀ-ᮿ᳀-᳇"},{name:"Syloti_Nagri",bmp:"ꠀ-꠬"},{name:"Syriac",bmp:"܀-܍܏-݊ݍ-ݏࡠ-ࡪ"},{name:"Tagalog",bmp:"ᜀ-᜕ᜟ"},{name:"Tagbanwa",bmp:"ᝠ-ᝬᝮ-ᝰᝲᝳ"},{name:"Tai_Le",bmp:"ᥐ-ᥭᥰ-ᥴ"},{name:"Tai_Tham",bmp:"ᨠ-ᩞ᩠-᩿᩼-᪉᪐-᪙᪠-᪭"},{name:"Tai_Viet",bmp:"ꪀ-ꫂꫛ-꫟"},{name:"Takri",astral:"\ud805[\ude80-\udeb9\udec0-\udec9]"},{name:"Tamil",bmp:"ஂஃஅ-ஊஎ-ஐஒ-கஙசஜஞடணதந-பம-ஹா-ூெ-ைொ-்ௐௗ௦-௺",astral:"\ud807[\udfc0-\udff1\udfff]"},{name:"Tangsa",astral:"\ud81a[\ude70-\udebe\udec0-\udec9]"},{name:"Tangut",astral:"𖿠|[\ud81c-\ud820][\udc00-\udfff]|\ud821[\udc00-\udff7]|\ud822[\udc00-\udeff]|\ud823[\udd00-\udd08]"},{name:"Telugu",bmp:"ఀ-ఌఎ-ఐఒ-నప-హ఼-ౄె-ైొ-్ౕౖౘ-ౚౝౠ-ౣ౦-౯౷-౿"},{name:"Thaana",bmp:"ހ-ޱ"},{name:"Thai",bmp:"ก-ฺเ-๛"},{name:"Tibetan",bmp:"ༀ-ཇཉ-ཬཱ-ྗྙ-ྼ྾-࿌࿎-࿔࿙࿚"},{name:"Tifinagh",bmp:"ⴰ-ⵧⵯ⵰⵿"},{name:"Tirhuta",astral:"\ud805[\udc80-\udcc7\udcd0-\udcd9]"},{name:"Toto",astral:"\ud838[\ude90-\udeae]"},{name:"Ugaritic",astral:"\ud800[\udf80-\udf9d\udf9f]"},{name:"Vai",bmp:"ꔀ-ꘫ"},{name:"Vithkuqi",astral:"\ud801[\udd70-\udd7a\udd7c-\udd8a\udd8c-\udd92\udd94\udd95\udd97-\udda1\udda3-\uddb1\uddb3-\uddb9\uddbb\uddbc]"},{name:"Wancho",astral:"\ud838[\udec0-\udef9\udeff]"},{name:"Warang_Citi",astral:"\ud806[\udca0-\udcf2\udcff]"},{name:"Yezidi",astral:"\ud803[\ude80-\udea9\udeab-\udead\udeb0\udeb1]"},{name:"Yi",bmp:"ꀀ-ꒌ꒐-꓆"},{name:"Zanabazar_Square",astral:"\ud806[\ude00-\ude47]"}],scripts$1=getDefaultExportFromCjs(scripts),unicodeScripts=o=>{if(!o.addUnicodeData)throw new ReferenceError("Unicode Base must be loaded before Unicode Scripts");o.addUnicodeData(scripts$1,"Script")};build(XRegExp),matchRecursive(XRegExp),unicodeBase(XRegExp),unicodeCategories(XRegExp),unicodeProperties(XRegExp),unicodeScripts(XRegExp);var src=Object.freeze({__proto__:null,default:XRegExp}),require$$0=getAugmentedNamespace(src);dist.exports,function(o,l){function _interopDefault(o){return o&&o.__esModule?o:{default:o}}var p=_interopDefault(require$$0),m="object"==typeof commonjsGlobal&&commonjsGlobal&&commonjsGlobal.Object===Object&&commonjsGlobal,g="object"==typeof self&&self&&self.Object===Object&&self,y=m||g||Function("return this")(),_=y.Symbol,b=Object.prototype,S=b.hasOwnProperty,A=b.toString,T=_?_.toStringTag:void 0;var Aa=function(o){var l=S.call(o,T),p=o[T];try{o[T]=void 0;var m=!0}catch{}var g=A.call(o);return m&&(l?o[T]=p:delete o[T]),g},w=Object.prototype.toString;var Ia=function(o){return w.call(o)},D=_?_.toStringTag:void 0;var me=function(o){return null==o?void 0===o?"[object Undefined]":"[object Null]":D&&D in Object(o)?Aa(o):Ia(o)};var X=function(o){return null!=o&&"object"==typeof o};var dt=function(o){return"symbol"==typeof o||X(o)&&"[object Symbol]"==me(o)};var Ge=function(o,l){for(var p=-1,m=null==o?0:o.length,g=Array(m);++p<m;)g[p]=l(o[p],p,o);return g},O=Array.isArray,k=_?_.prototype:void 0,I=k?k.toString:void 0;var N=function Oa(o){if("string"==typeof o)return o;if(O(o))return Ge(o,Oa)+"";if(dt(o))return I?I.call(o):"";var l=o+"";return"0"==l&&1/o==-1/0?"-0":l},L=/\s/;var _a=function(o){for(var l=o.length;l--&&L.test(o.charAt(l)););return l},j=/^\s+/;var Ca=function(o){return o&&o.slice(0,_a(o)+1).replace(j,"")};var $=function(o){var l=typeof o;return null!=o&&("object"==l||"function"==l)},B=/^[-+]0x[0-9a-f]+$/i,U=/^0b[01]+$/i,q=/^0o[0-7]+$/i,Z=parseInt;var La=function(o){if("number"==typeof o)return o;if(dt(o))return NaN;if($(o)){var l="function"==typeof o.valueOf?o.valueOf():o;o=$(l)?l+"":l}if("string"!=typeof o)return 0===o?o:+o;o=Ca(o);var p=U.test(o);return p||q.test(o)?Z(o.slice(2),p?2:8):B.test(o)?NaN:+o},H=1/0;var ka=function(o){return o?(o=La(o))===H||o===-H?17976931348623157e292*(o<0?-1:1):o==o?o:0:0===o?o:0};var Ke=function(o){var l=ka(o),p=l%1;return l==l?p?l-p:l:0};var ve=function(o){return o};var G,he=function(o){if(!$(o))return!1;var l=me(o);return"[object Function]"==l||"[object GeneratorFunction]"==l||"[object AsyncFunction]"==l||"[object Proxy]"==l},z=y["__core-js_shared__"],W=(G=/[^.]+$/.exec(z&&z.keys&&z.keys.IE_PROTO||""))?"Symbol(src)_1."+G:"";var Ma=function(o){return!!W&&W in o},Q=Function.prototype.toString;var ot=function(o){if(null!=o){try{return Q.call(o)}catch{}try{return o+""}catch{}}return""},ae=/^\[object .+?Constructor\]$/,ie=Function.prototype,oe=Object.prototype,ce=ie.toString,le=oe.hasOwnProperty,ge=RegExp("^"+ce.call(le).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");var wa=function(o){return!(!$(o)||Ma(o))&&(he(o)?ge:ae).test(ot(o))};var Fa=function(o,l){return null==o?void 0:o[l]};var Ie=function(o,l){var p=Fa(o,l);return wa(p)?p:void 0},ye=Ie(y,"WeakMap"),_e=Object.create,be=function(){function t(){}return function(o){if(!$(o))return{};if(_e)return _e(o);t.prototype=o;var l=new t;return t.prototype=void 0,l}}(),Ee=be;var Ba=function(o,l,p){switch(p.length){case 0:return o.call(l);case 1:return o.call(l,p[0]);case 2:return o.call(l,p[0],p[1]);case 3:return o.call(l,p[0],p[1],p[2])}return o.apply(l,p)};var V=function(){};var Ga=function(o,l){var p=-1,m=o.length;for(l||(l=Array(m));++p<m;)l[p]=o[p];return l},Ce=Date.now;var Ka=function(o){var l=0,p=0;return function(){var m=Ce(),g=16-(m-p);if(p=m,g>0){if(++l>=800)return arguments[0]}else l=0;return o.apply(void 0,arguments)}};var Wa=function(o){return function(){return o}},Ae=function(){try{var o=Ie(Object,"defineProperty");return o({},"",{}),o}catch{}}(),xe=Ae,Te=xe?function(o,l){return xe(o,"toString",{configurable:!0,enumerable:!1,value:Wa(l),writable:!0})}:ve,we=Ka(Te);var Mn=function(o,l){for(var p=-1,m=null==o?0:o.length;++p<m&&!1!==l(o[p],p,o););return o};var wn=function(o,l,p,m){for(var g=o.length,y=p+(m?1:-1);m?y--:++y<g;)if(l(o[y],y,o))return y;return-1};var ja=function(o){return o!=o};var Ha=function(o,l,p){for(var m=p-1,g=o.length;++m<g;)if(o[m]===l)return m;return-1};var Qt=function(o,l,p){return l==l?Ha(o,l,p):wn(o,ja,p)};var Fn=function(o,l){return!!(null==o?0:o.length)&&Qt(o,l,0)>-1},Pe=/^(?:0|[1-9]\d*)$/;var gt=function(o,l){var p=typeof o;return!!(l=l??9007199254740991)&&("number"==p||"symbol"!=p&&Pe.test(o))&&o>-1&&o%1==0&&o<l};var Zt=function(o,l,p){"__proto__"==l&&xe?xe(o,l,{configurable:!0,enumerable:!0,value:p,writable:!0}):o[l]=p};var We=function(o,l){return o===l||o!=o&&l!=l},De=Object.prototype.hasOwnProperty;var xt=function(o,l,p){var m=o[l];(!De.call(o,l)||!We(m,p)||void 0===p&&!(l in o))&&Zt(o,l,p)};var $e=function(o,l,p,m){var g=!p;p||(p={});for(var y=-1,_=l.length;++y<_;){var b=l[y],S=m?m(p[b],o[b],b,p,o):void 0;void 0===S&&(S=o[b]),g?Zt(p,b,S):xt(p,b,S)}return p},Oe=Math.max;var Xa=function(o,l,p){return l=Oe(void 0===l?o.length-1:l,0),function(){for(var m=arguments,g=-1,y=Oe(m.length-l,0),_=Array(y);++g<y;)_[g]=m[l+g];g=-1;for(var b=Array(l+1);++g<l;)b[g]=m[g];return b[l]=p(_),Ba(o,this,b)}};var Jt=function(o,l){return we(Xa(o,l,ve),o+"")};var er=function(o){return"number"==typeof o&&o>-1&&o%1==0&&o<=9007199254740991};var J=function(o){return null!=o&&er(o.length)&&!he(o)};var Tt=function(o,l,p){if(!$(p))return!1;var m=typeof l;return!!("number"==m?J(p)&&gt(l,p.length):"string"==m&&l in p)&&We(p[l],o)};var Ya=function(o){return Jt(function(l,p){var m=-1,g=p.length,y=g>1?p[g-1]:void 0,_=g>2?p[2]:void 0;for(y=o.length>3&&"function"==typeof y?(g--,y):void 0,_&&Tt(p[0],p[1],_)&&(y=g<3?void 0:y,g=1),l=Object(l);++m<g;){var b=p[m];b&&o(l,b,m,y)}return l})},ke=Object.prototype;var Ve=function(o){var l=o&&o.constructor;return o===("function"==typeof l&&l.prototype||ke)};var qa=function(o,l){for(var p=-1,m=Array(o);++p<o;)m[p]=l(p);return m};var si=function(o){return X(o)&&"[object Arguments]"==me(o)},Fe=Object.prototype,Ne=Fe.hasOwnProperty,Le=Fe.propertyIsEnumerable,Me=si(function(){return arguments}())?si:function(o){return X(o)&&Ne.call(o,"callee")&&!Le.call(o,"callee")},Be=Me;var Za=function(){return!1},Ue=l&&!l.nodeType&&l,Ze=Ue&&o&&!o.nodeType&&o,Ye=Ze&&Ze.exports===Ue?y.Buffer:void 0,Je=(Ye?Ye.isBuffer:void 0)||Za,et={};et["[object Float32Array]"]=et["[object Float64Array]"]=et["[object Int8Array]"]=et["[object Int16Array]"]=et["[object Int32Array]"]=et["[object Uint8Array]"]=et["[object Uint8ClampedArray]"]=et["[object Uint16Array]"]=et["[object Uint32Array]"]=!0,et["[object Arguments]"]=et["[object Array]"]=et["[object ArrayBuffer]"]=et["[object Boolean]"]=et["[object DataView]"]=et["[object Date]"]=et["[object Error]"]=et["[object Function]"]=et["[object Map]"]=et["[object Number]"]=et["[object Object]"]=et["[object RegExp]"]=et["[object Set]"]=et["[object String]"]=et["[object WeakMap]"]=!1;var rs=function(o){return X(o)&&er(o.length)&&!!et[me(o)]};var je=function(o){return function(l){return o(l)}},tt=l&&!l.nodeType&&l,rt=tt&&o&&!o.nodeType&&o,at=rt&&rt.exports===tt&&m.process,nt=function(){try{return rt&&rt.require&&rt.require("util").types||at&&at.binding&&at.binding("util")}catch{}}(),it=nt&&nt.isTypedArray,lt=it?je(it):rs,ht=Object.prototype.hasOwnProperty;var Un=function(o,l){var p=O(o),m=!p&&Be(o),g=!p&&!m&&Je(o),y=!p&&!m&&!g&&lt(o),_=p||m||g||y,b=_?qa(o.length,String):[],S=b.length;for(var A in o)(l||ht.call(o,A))&&(!_||!("length"==A||g&&("offset"==A||"parent"==A)||y&&("buffer"==A||"byteLength"==A||"byteOffset"==A)||gt(A,S)))&&b.push(A);return b};var Dn=function(o,l){return function(p){return o(l(p))}},ft=Dn(Object.keys,Object),pt=Object.prototype.hasOwnProperty;var Bn=function(o){if(!Ve(o))return ft(o);var l=[];for(var p in Object(o))pt.call(o,p)&&"constructor"!=p&&l.push(p);return l};var M=function(o){return J(o)?Un(o):Bn(o)},mt=Object.prototype.hasOwnProperty,yt=Ya(function(o,l){if(Ve(l)||J(l))$e(l,M(l),o);else for(var p in l)mt.call(l,p)&&xt(o,p,l[p])}),_t=yt;var as=function(o){var l=[];if(null!=o)for(var p in Object(o))l.push(p);return l},Et=Object.prototype.hasOwnProperty;var ss=function(o){if(!$(o))return as(o);var l=Ve(o),p=[];for(var m in o)"constructor"==m&&(l||!Et.call(o,m))||p.push(m);return p};var At=function(o){return J(o)?Un(o,!0):ss(o)},St=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Ct=/^\w*$/;var rr=function(o,l){if(O(o))return!1;var p=typeof o;return!("number"!=p&&"symbol"!=p&&"boolean"!=p&&null!=o&&!dt(o))||(Ct.test(o)||!St.test(o)||null!=l&&o in Object(l))},wt=Ie(Object,"create");var ls=function(){this.__data__=wt?wt(null):{},this.size=0};var cs=function(o){var l=this.has(o)&&delete this.__data__[o];return this.size-=l?1:0,l},Pt=Object.prototype.hasOwnProperty;var us=function(o){var l=this.__data__;if(wt){var p=l[o];return"__lodash_hash_undefined__"===p?void 0:p}return Pt.call(l,o)?l[o]:void 0},kt=Object.prototype.hasOwnProperty;var fs=function(o){var l=this.__data__;return wt?void 0!==l[o]:kt.call(l,o)};var ps=function(o,l){var p=this.__data__;return this.size+=this.has(o)?0:1,p[o]=wt&&void 0===l?"__lodash_hash_undefined__":l,this};function nr(o){var l=-1,p=null==o?0:o.length;for(this.clear();++l<p;){var m=o[l];this.set(m[0],m[1])}}nr.prototype.clear=ls,nr.prototype.delete=cs,nr.prototype.get=us,nr.prototype.has=fs,nr.prototype.set=ps;var Ft=nr;var ms=function(){this.__data__=[],this.size=0};var It=function(o,l){for(var p=o.length;p--;)if(We(o[p][0],l))return p;return-1},Nt=Array.prototype.splice;var hs=function(o){var l=this.__data__,p=It(l,o);return!(p<0)&&(p==l.length-1?l.pop():Nt.call(l,p,1),--this.size,!0)};var ds=function(o){var l=this.__data__,p=It(l,o);return p<0?void 0:l[p][1]};var gs=function(o){return It(this.__data__,o)>-1};var xs=function(o,l){var p=this.__data__,m=It(p,o);return m<0?(++this.size,p.push([o,l])):p[m][1]=l,this};function or(o){var l=-1,p=null==o?0:o.length;for(this.clear();++l<p;){var m=o[l];this.set(m[0],m[1])}}or.prototype.clear=ms,or.prototype.delete=hs,or.prototype.get=ds,or.prototype.has=gs,or.prototype.set=xs;var Lt=or,Mt=Ie(y,"Map");var Ts=function(){this.size=0,this.__data__={hash:new Ft,map:new(Mt||Lt),string:new Ft}};var Es=function(o){var l=typeof o;return"string"==l||"number"==l||"symbol"==l||"boolean"==l?"__proto__"!==o:null===o};var Rt=function(o,l){var p=o.__data__;return Es(l)?p["string"==typeof l?"string":"hash"]:p.map};var As=function(o){var l=Rt(this,o).delete(o);return this.size-=l?1:0,l};var Is=function(o){return Rt(this,o).get(o)};var ys=function(o){return Rt(this,o).has(o)};var Ss=function(o,l){var p=Rt(this,o),m=p.size;return p.set(o,l),this.size+=p.size==m?0:1,this};function ir(o){var l=-1,p=null==o?0:o.length;for(this.clear();++l<p;){var m=o[l];this.set(m[0],m[1])}}ir.prototype.clear=Ts,ir.prototype.delete=As,ir.prototype.get=Is,ir.prototype.has=ys,ir.prototype.set=Ss;var jt=ir;function ui(o,l){if("function"!=typeof o||null!=l&&"function"!=typeof l)throw new TypeError("Expected a function");var r=function(){var p=arguments,m=l?l.apply(this,p):p[0],g=r.cache;if(g.has(m))return g.get(m);var y=o.apply(this,p);return r.cache=g.set(m,y)||g,y};return r.cache=new(ui.Cache||jt),r}ui.Cache=jt;var Ut=ui;var Os=function(o){var l=Ut(o,function(o){return 500===p.size&&p.clear(),o}),p=l.cache;return l},qt=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Ht=/\\(\\)?/g,Vt=Os(function(o){var l=[];return 46===o.charCodeAt(0)&&l.push(""),o.replace(qt,function(o,p,m,g){l.push(m?g.replace(Ht,"$1"):p||o)}),l}),Kt=Vt;var _s=function(o){return null==o?"":N(o)};var Ot=function(o,l){return O(o)?o:rr(o,l)?[o]:Kt(_s(o))};var He=function(o){if("string"==typeof o||dt(o))return o;var l=o+"";return"0"==l&&1/o==-1/0?"-0":l};var ar=function(o,l){for(var p=0,m=(l=Ot(l,o)).length;null!=o&&p<m;)o=o[He(l[p++])];return p&&p==m?o:void 0};var Cs=function(o,l,p){var m=null==o?void 0:ar(o,l);return void 0===m?p:m};var sr=function(o,l){for(var p=-1,m=l.length,g=o.length;++p<m;)o[g+p]=l[p];return o},zt=_?_.isConcatSpreadable:void 0;var Ls=function(o){return O(o)||Be(o)||!!(zt&&o&&o[zt])};var Yt=function vs(o,l,p,m,g){var y=-1,_=o.length;for(p||(p=Ls),g||(g=[]);++y<_;){var b=o[y];l>0&&p(b)?l>1?vs(b,l-1,p,m,g):sr(g,b):m||(g[g.length]=b)}return g};var re=function(o){return(null==o?0:o.length)?Yt(o,1):[]},Xt=Dn(Object.getPrototypeOf,Object);var Kn=function(o,l,p){var m=-1,g=o.length;l<0&&(l=-l>g?0:g+l),(p=p>g?g:p)<0&&(p+=g),g=l>p?0:p-l>>>0,l>>>=0;for(var y=Array(g);++m<g;)y[m]=o[m+l];return y};var ks=function(o,l,p,m){var g=-1,y=null==o?0:o.length;for(m&&y&&(p=o[++g]);++g<y;)p=l(p,o[g],g,o);return p};var Ps=function(){this.__data__=new Lt,this.size=0};var Ms=function(o){var l=this.__data__,p=l.delete(o);return this.size=l.size,p};var ws=function(o){return this.__data__.get(o)};var Fs=function(o){return this.__data__.has(o)};var Us=function(o,l){var p=this.__data__;if(p instanceof Lt){var m=p.__data__;if(!Mt||m.length<199)return m.push([o,l]),this.size=++p.size,this;p=this.__data__=new jt(m)}return p.set(o,l),this.size=p.size,this};function cr(o){var l=this.__data__=new Lt(o);this.size=l.size}cr.prototype.clear=Ps,cr.prototype.delete=Ms,cr.prototype.get=ws,cr.prototype.has=Fs,cr.prototype.set=Us;var tr=cr;var Ds=function(o,l){return o&&$e(l,M(l),o)};var Bs=function(o,l){return o&&$e(l,At(l),o)},lr=l&&!l.nodeType&&l,hr=lr&&o&&!o.nodeType&&o,fr=hr&&hr.exports===lr?y.Buffer:void 0,pr=fr?fr.allocUnsafe:void 0;var Vs=function(o,l){if(l)return o.slice();var p=o.length,m=pr?pr(p):new o.constructor(p);return o.copy(m),m};var ur=function(o,l){for(var p=-1,m=null==o?0:o.length,g=0,y=[];++p<m;){var _=o[p];l(_,p,o)&&(y[g++]=_)}return y};var Wn=function(){return[]},_r=Object.prototype.propertyIsEnumerable,vr=Object.getOwnPropertySymbols,br=vr?function(o){return null==o?[]:(o=Object(o),ur(vr(o),function(l){return _r.call(o,l)}))}:Wn,Sr=br;var Hs=function(o,l){return $e(o,Sr(o),l)},Cr=Object.getOwnPropertySymbols?function(o){for(var l=[];o;)sr(l,Sr(o)),o=Xt(o);return l}:Wn,xr=Cr;var zs=function(o,l){return $e(o,xr(o),l)};var Vn=function(o,l,p){var m=l(o);return O(o)?m:sr(m,p(o))};var Kr=function(o){return Vn(o,M,Sr)};var jn=function(o){return Vn(o,At,xr)},wr=Ie(y,"DataView"),Pr=Ie(y,"Promise"),Rr=Ie(y,"Set"),Dr="[object Map]",kr="[object Promise]",Fr="[object Set]",Nr="[object WeakMap]",Lr="[object DataView]",Mr=ot(wr),Br=ot(Mt),Ur=ot(Pr),qr=ot(Rr),Zr=ot(ye),Gr=me;(wr&&Gr(new wr(new ArrayBuffer(1)))!=Lr||Mt&&Gr(new Mt)!=Dr||Pr&&Gr(Pr.resolve())!=kr||Rr&&Gr(new Rr)!=Fr||ye&&Gr(new ye)!=Nr)&&(Gr=function(o){var l=me(o),p="[object Object]"==l?o.constructor:void 0,m=p?ot(p):"";if(m)switch(m){case Mr:return Lr;case Br:return Dr;case Ur:return kr;case qr:return Fr;case Zr:return Nr}return l});var zr=Gr,Yr=Object.prototype.hasOwnProperty;var Js=function(o){var l=o.length,p=new o.constructor(l);return l&&"string"==typeof o[0]&&Yr.call(o,"index")&&(p.index=o.index,p.input=o.input),p},Jr=y.Uint8Array;var mr=function(o){var l=new o.constructor(o.byteLength);return new Jr(l).set(new Jr(o)),l};var el=function(o,l){var p=l?mr(o.buffer):o.buffer;return new o.constructor(p,o.byteOffset,o.byteLength)},Xr=/\w*$/;var tl=function(o){var l=new o.constructor(o.source,Xr.exec(o));return l.lastIndex=o.lastIndex,l},Qr=_?_.prototype:void 0,ea=Qr?Qr.valueOf:void 0;var ol=function(o){return ea?Object(ea.call(o)):{}};var il=function(o,l){var p=l?mr(o.buffer):o.buffer;return new o.constructor(p,o.byteOffset,o.length)};var al=function(o,l,p){var m=o.constructor;switch(l){case"[object ArrayBuffer]":return mr(o);case"[object Boolean]":case"[object Date]":return new m(+o);case"[object DataView]":return el(o,p);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return il(o,p);case"[object Map]":case"[object Set]":return new m;case"[object Number]":case"[object String]":return new m(o);case"[object RegExp]":return tl(o);case"[object Symbol]":return ol(o)}};var sl=function(o){return"function"!=typeof o.constructor||Ve(o)?{}:Ee(Xt(o))};var ll=function(o){return X(o)&&"[object Map]"==zr(o)},ta=nt&&nt.isMap,ra=ta?je(ta):ll;var fl=function(o){return X(o)&&"[object Set]"==zr(o)},aa=nt&&nt.isSet,na=aa?je(aa):fl,sa="[object Arguments]",ia="[object Function]",oa="[object Object]",ca={};ca[sa]=ca["[object Array]"]=ca["[object ArrayBuffer]"]=ca["[object DataView]"]=ca["[object Boolean]"]=ca["[object Date]"]=ca["[object Float32Array]"]=ca["[object Float64Array]"]=ca["[object Int8Array]"]=ca["[object Int16Array]"]=ca["[object Int32Array]"]=ca["[object Map]"]=ca["[object Number]"]=ca[oa]=ca["[object RegExp]"]=ca["[object Set]"]=ca["[object String]"]=ca["[object Symbol]"]=ca["[object Uint8Array]"]=ca["[object Uint8ClampedArray]"]=ca["[object Uint16Array]"]=ca["[object Uint32Array]"]=!0,ca["[object Error]"]=ca[ia]=ca["[object WeakMap]"]=!1;var la=function Xn(o,l,p,m,g,y){var _,b=1&l,S=2&l,A=4&l;if(p&&(_=g?p(o,m,g,y):p(o)),void 0!==_)return _;if(!$(o))return o;var T=O(o);if(T){if(_=Js(o),!b)return Ga(o,_)}else{var w=zr(o),D=w==ia||"[object GeneratorFunction]"==w;if(Je(o))return Vs(o,b);if(w==oa||w==sa||D&&!g){if(_=S||D?{}:sl(o),!b)return S?zs(o,Bs(_,o)):Hs(o,Ds(_,o))}else{if(!ca[w])return g?o:{};_=al(o,w,b)}}y||(y=new tr);var k=y.get(o);if(k)return k;y.set(o,_),na(o)?o.forEach(function(m){_.add(Xn(m,l,p,m,o,y))}):ra(o)&&o.forEach(function(m,g){_.set(g,Xn(m,l,p,g,o,y))});var I=T?void 0:(A?S?jn:Kr:S?At:M)(o);return Mn(I||o,function(m,g){I&&(m=o[g=m]),xt(_,g,Xn(m,l,p,g,o,y))}),_};var F=function(o){return la(o,4)};var ze=function(o){for(var l=-1,p=null==o?0:o.length,m=0,g=[];++l<p;){var y=o[l];y&&(g[m++]=y)}return g};var Tl=function(o){return this.__data__.set(o,"__lodash_hash_undefined__"),this};var El=function(o){return this.__data__.has(o)};function Yn(o){var l=-1,p=null==o?0:o.length;for(this.__data__=new jt;++l<p;)this.add(o[l])}Yn.prototype.add=Yn.prototype.push=Tl,Yn.prototype.has=El;var fa=Yn;var qn=function(o,l){for(var p=-1,m=null==o?0:o.length;++p<m;)if(l(o[p],p,o))return!0;return!1};var dr=function(o,l){return o.has(l)};var Qn=function(o,l,p,m,g,y){var _=1&p,b=o.length,S=l.length;if(b!=S&&!(_&&S>b))return!1;var A=y.get(o),T=y.get(l);if(A&&T)return A==l&&T==o;var w=-1,D=!0,O=2&p?new fa:void 0;for(y.set(o,l),y.set(l,o);++w<b;){var k=o[w],I=l[w];if(m)var N=_?m(I,k,w,l,o,y):m(k,I,w,o,l,y);if(void 0!==N){if(N)continue;D=!1;break}if(O){if(!qn(l,function(o,l){if(!dr(O,l)&&(k===o||g(k,o,p,m,y)))return O.push(l)})){D=!1;break}}else if(k!==I&&!g(k,I,p,m,y)){D=!1;break}}return y.delete(o),y.delete(l),D};var Al=function(o){var l=-1,p=Array(o.size);return o.forEach(function(o,m){p[++l]=[m,o]}),p};var gr=function(o){var l=-1,p=Array(o.size);return o.forEach(function(o){p[++l]=o}),p},pa=_?_.prototype:void 0,ma=pa?pa.valueOf:void 0;var yl=function(o,l,p,m,g,y,_){switch(p){case"[object DataView]":if(o.byteLength!=l.byteLength||o.byteOffset!=l.byteOffset)return!1;o=o.buffer,l=l.buffer;case"[object ArrayBuffer]":return!(o.byteLength!=l.byteLength||!y(new Jr(o),new Jr(l)));case"[object Boolean]":case"[object Date]":case"[object Number]":return We(+o,+l);case"[object Error]":return o.name==l.name&&o.message==l.message;case"[object RegExp]":case"[object String]":return o==l+"";case"[object Map]":var b=Al;case"[object Set]":var S=1&m;if(b||(b=gr),o.size!=l.size&&!S)return!1;var A=_.get(o);if(A)return A==l;m|=2,_.set(o,l);var T=Qn(b(o),b(l),m,g,y,_);return _.delete(o),T;case"[object Symbol]":if(ma)return ma.call(o)==ma.call(l)}return!1},ya=Object.prototype.hasOwnProperty;var Sl=function(o,l,p,m,g,y){var _=1&p,b=Kr(o),S=b.length;if(S!=Kr(l).length&&!_)return!1;for(var A=S;A--;){var T=b[A];if(!(_?T in l:ya.call(l,T)))return!1}var w=y.get(o),D=y.get(l);if(w&&D)return w==l&&D==o;var O=!0;y.set(o,l),y.set(l,o);for(var k=_;++A<S;){var I=o[T=b[A]],N=l[T];if(m)var L=_?m(N,I,T,l,o,y):m(I,N,T,o,l,y);if(!(void 0===L?I===N||g(I,N,p,m,y):L)){O=!1;break}k||(k="constructor"==T)}if(O&&!k){var j=o.constructor,B=l.constructor;j!=B&&"constructor"in o&&"constructor"in l&&!("function"==typeof j&&j instanceof j&&"function"==typeof B&&B instanceof B)&&(O=!1)}return y.delete(o),y.delete(l),O},va="[object Arguments]",ba="[object Array]",Ea="[object Object]",Sa=Object.prototype.hasOwnProperty;var _l=function(o,l,p,m,g,y){var _=O(o),b=O(l),S=_?ba:zr(o),A=b?ba:zr(l),T=(S=S==va?Ea:S)==Ea,w=(A=A==va?Ea:A)==Ea,D=S==A;if(D&&Je(o)){if(!Je(l))return!1;_=!0,T=!1}if(D&&!T)return y||(y=new tr),_||lt(o)?Qn(o,l,p,m,g,y):yl(o,l,S,p,m,g,y);if(!(1&p)){var k=T&&Sa.call(o,"__wrapped__"),I=w&&Sa.call(l,"__wrapped__");if(k||I){var N=k?o.value():o,L=I?l.value():l;return y||(y=new tr),g(N,L,p,m,y)}}return!!D&&(y||(y=new tr),Sl(o,l,p,m,g,y))};var xa=function Cl(o,l,p,m,g){return o===l||(null==o||null==l||!X(o)&&!X(l)?o!=o&&l!=l:_l(o,l,p,m,Cl,g))};var bl=function(o,l,p,m){var g=p.length,y=g,_=!m;if(null==o)return!y;for(o=Object(o);g--;){var b=p[g];if(_&&b[2]?b[1]!==o[b[0]]:!(b[0]in o))return!1}for(;++g<y;){var S=(b=p[g])[0],A=o[S],T=b[1];if(_&&b[2]){if(void 0===A&&!(S in o))return!1}else{var w=new tr;if(m)var D=m(A,T,S,o,l,w);if(!(void 0===D?xa(T,A,3,m,w):D))return!1}}return!0};var eo=function(o){return o==o&&!$(o)};var Ll=function(o){for(var l=M(o),p=l.length;p--;){var m=l[p],g=o[m];l[p]=[m,g,eo(g)]}return l};var to=function(o,l){return function(p){return null!=p&&(p[o]===l&&(void 0!==l||o in Object(p)))}};var vl=function(o){var l=Ll(o);return 1==l.length&&l[0][2]?to(l[0][0],l[0][1]):function(p){return p===o||bl(p,o,l)}};var kl=function(o,l){return null!=o&&l in Object(o)};var ro=function(o,l,p){for(var m=-1,g=(l=Ot(l,o)).length,y=!1;++m<g;){var _=He(l[m]);if(!(y=null!=o&&p(o,_)))break;o=o[_]}return y||++m!=g?y:!!(g=null==o?0:o.length)&&er(g)&&gt(_,g)&&(O(o)||Be(o))};var Pl=function(o,l){return null!=o&&ro(o,l,kl)};var Ml=function(o,l){return rr(o)&&eo(l)?to(He(o),l):function(p){var m=Cs(p,o);return void 0===m&&m===l?Pl(p,o):xa(l,m,3)}};var wl=function(o){return function(l){return null==l?void 0:l[o]}};var Fl=function(o){return function(l){return ar(l,o)}};var Ul=function(o){return rr(o)?wl(He(o)):Fl(o)};var ee=function(o){return"function"==typeof o?o:null==o?ve:"object"==typeof o?O(o)?Ml(o[0],o[1]):vl(o):Ul(o)};var Dl=function(o,l,p,m){for(var g=-1,y=null==o?0:o.length;++g<y;){var _=o[g];l(m,_,p(_),o)}return m};var Bl=function(o){return function(l,p,m){for(var g=-1,y=Object(l),_=m(l),b=_.length;b--;){var S=_[o?b:++g];if(!1===p(y[S],S,y))break}return l}},Ta=Bl();var Kl=function(o,l){return o&&Ta(o,l,M)};var Wl=function(o,l){return function(p,m){if(null==p)return p;if(!J(p))return o(p,m);for(var g=p.length,y=l?g:-1,_=Object(p);(l?y--:++y<g)&&!1!==m(_[y],y,_););return p}},Pa=Wl(Kl);var $l=function(o,l,p,m){return Pa(o,function(o,g,y){l(m,o,p(o),y)}),m};var Vl=function(o,l){return function(p,m){var g=O(p)?Dl:$l,y=l?l():{};return g(p,o,ee(m),y)}},Ra=Object.prototype,Da=Ra.hasOwnProperty,$a=Jt(function(o,l){o=Object(o);var p=-1,m=l.length,g=m>2?l[2]:void 0;for(g&&Tt(l[0],l[1],g)&&(m=1);++p<m;)for(var y=l[p],_=At(y),b=-1,S=_.length;++b<S;){var A=_[b],T=o[A];(void 0===T||We(T,Ra[A])&&!Da.call(o,A))&&(o[A]=y[A])}return o}),Na=$a;var pi=function(o){return X(o)&&J(o)};var no=function(o,l,p){for(var m=-1,g=null==o?0:o.length;++m<g;)if(p(l,o[m]))return!0;return!1};var Hl=function(o,l,p,m){var g=-1,y=Fn,_=!0,b=o.length,S=[],A=l.length;if(!b)return S;p&&(l=Ge(l,je(p))),m?(y=no,_=!1):l.length>=200&&(y=dr,_=!1,l=new fa(l));e:for(;++g<b;){var T=o[g],w=null==p?T:p(T);if(T=m||0!==T?T:0,_&&w==w){for(var D=A;D--;)if(l[D]===w)continue e;S.push(T)}else y(l,w,m)||S.push(T)}return S},Ua=Jt(function(o,l){return pi(o)?Hl(o,Yt(l,1,pi,!0)):[]}),Va=Ua;var Xe=function(o){var l=null==o?0:o.length;return l?o[l-1]:void 0};var Y=function(o,l,p){var m=null==o?0:o.length;return m?(l=p||void 0===l?1:Ke(l),Kn(o,l<0?0:l,m)):[]};var st=function(o,l,p){var m=null==o?0:o.length;return m?(l=p||void 0===l?1:Ke(l),Kn(o,0,(l=m-l)<0?0:l)):[]};var zl=function(o){return"function"==typeof o?o:ve};var x=function(o,l){return(O(o)?Mn:Pa)(o,zl(l))};var Xl=function(o,l){for(var p=-1,m=null==o?0:o.length;++p<m;)if(!l(o[p],p,o))return!1;return!0};var Yl=function(o,l){var p=!0;return Pa(o,function(o,m,g){return p=!!l(o,m,g)}),p};var ue=function(o,l,p){var m=O(o)?Xl:Yl;return p&&Tt(o,l,p)&&(l=void 0),m(o,ee(l))};var oo=function(o,l){var p=[];return Pa(o,function(o,m,g){l(o,m,g)&&p.push(o)}),p};var fe=function(o,l){return(O(o)?ur:oo)(o,ee(l))};var ql=function(o){return function(l,p,m){var g=Object(l);if(!J(l)){var y=ee(p);l=M(l),p=function(o){return y(g[o],o,g)}}var _=o(l,p,m);return _>-1?g[y?l[_]:_]:void 0}},za=Math.max;var Ql=function(o,l,p){var m=null==o?0:o.length;if(!m)return-1;var g=null==p?0:Ke(p);return g<0&&(g=za(m+g,0)),wn(o,ee(l),g)},Ja=ql(Ql);var se=function(o){return o&&o.length?o[0]:void 0};var Zl=function(o,l){var p=-1,m=J(o)?Array(o.length):[];return Pa(o,function(o,g,y){m[++p]=l(o,g,y)}),m};var d=function(o,l){return(O(o)?Ge:Zl)(o,ee(l))};var de=function(o,l){return Yt(d(o,l),1)},Qa=Object.prototype.hasOwnProperty,rn=Vl(function(o,l,p){Qa.call(o,p)?o[p].push(l):Zt(o,p,[l])}),an=rn,nn=Object.prototype.hasOwnProperty;var Jl=function(o,l){return null!=o&&nn.call(o,l)};var E=function(o,l){return null!=o&&ro(o,l,Jl)};var ne=function(o){return"string"==typeof o||!O(o)&&X(o)&&"[object String]"==me(o)};var ec=function(o,l){return Ge(l,function(l){return o[l]})};var P=function(o){return null==o?[]:ec(o,M(o))},sn=Math.max;var K=function(o,l,p,m){o=J(o)?o:P(o),p=p&&!m?Ke(p):0;var g=o.length;return p<0&&(p=sn(g+p,0)),ne(o)?p<=g&&o.indexOf(l,p)>-1:!!g&&Qt(o,l,p)>-1},on=Math.max;var io=function(o,l,p){var m=null==o?0:o.length;if(!m)return-1;var g=null==p?0:Ke(p);return g<0&&(g=on(m+g,0)),Qt(o,l,g)},un=Object.prototype.hasOwnProperty;var C=function(o){if(null==o)return!0;if(J(o)&&(O(o)||"string"==typeof o||"function"==typeof o.splice||Je(o)||lt(o)||Be(o)))return!o.length;var l=zr(o);if("[object Map]"==l||"[object Set]"==l)return!o.size;if(Ve(o))return!Bn(o).length;for(var p in o)if(un.call(o,p))return!1;return!0};var tc=function(o){return X(o)&&"[object RegExp]"==me(o)},dn=nt&&nt.isRegExp,ln=dn?je(dn):tc;var pe=function(o){return void 0===o};var nc=function(o){if("function"!=typeof o)throw new TypeError("Expected a function");return function(){var l=arguments;switch(l.length){case 0:return!o.call(this);case 1:return!o.call(this,l[0]);case 2:return!o.call(this,l[0],l[1]);case 3:return!o.call(this,l[0],l[1],l[2])}return!o.apply(this,l)}};var oc=function(o,l,p,m){if(!$(o))return o;for(var g=-1,y=(l=Ot(l,o)).length,_=y-1,b=o;null!=b&&++g<y;){var S=He(l[g]),A=p;if("__proto__"===S||"constructor"===S||"prototype"===S)return o;if(g!=_){var T=b[S];void 0===(A=m?m(T,S,b):void 0)&&(A=$(T)?T:gt(l[g+1])?[]:{})}xt(b,S,A),b=b[S]}return o};var ic=function(o,l,p){for(var m=-1,g=l.length,y={};++m<g;){var _=l[m],b=ar(o,_);p(b,_)&&oc(y,Ot(_,o),b)}return y};var Se=function(o,l){if(null==o)return{};var p=Ge(jn(o),function(o){return[o]});return l=ee(l),ic(o,p,function(o,p){return l(o,p[0])})};var ac=function(o,l,p,m,g){return g(o,function(o,g,y){p=m?(m=!1,o):l(p,o,g,y)}),p};var te=function(o,l,p){var m=O(o)?ks:ac,g=arguments.length<3;return m(o,ee(l),p,g,Pa)};var bt=function(o,l){return(O(o)?ur:oo)(o,nc(ee(l)))};var sc=function(o,l){var p;return Pa(o,function(o,m,g){return!(p=l(o,m,g))}),!!p};var Wr=function(o,l,p){var m=O(o)?qn:sc;return p&&Tt(o,l,p)&&(l=void 0),m(o,ee(l))},hn=Rr&&1/gr(new Rr([,-0]))[1]==1/0?function(o){return new Rr(o)}:V,fn=hn;var cc=function(o,l,p){var m=-1,g=Fn,y=o.length,_=!0,b=[],S=b;if(p)_=!1,g=no;else if(y>=200){var A=l?null:fn(o);if(A)return gr(A);_=!1,g=dr,S=new fa}else S=l?[]:b;e:for(;++m<y;){var T=o[m],w=l?l(T):T;if(T=p||0!==T?T:0,_&&w==w){for(var D=S.length;D--;)if(S[D]===w)continue e;l&&S.push(w),b.push(T)}else g(S,w,p)||(S!==b&&S.push(w),b.push(T))}return b};var Tr=function(o){return o&&o.length?cc(o):[]};function Er(o){console&&console.error&&console.error(`Error: ${o}`)}function $r(o){console&&console.warn&&console.warn(`Warning: ${o}`)}function Vr(o){let l=(new Date).getTime(),p=o();return{time:(new Date).getTime()-l,value:p}}function jr(o){function e(){}e.prototype=o;let l=new e;function n(){return typeof l.bar}return n(),n(),o}function yT(o){return function(o){return ne(o.LABEL)&&""!==o.LABEL}(o)?o.LABEL:o.name}var pn=class{get definition(){return this._definition}set definition(o){this._definition=o}constructor(o){this._definition=o}accept(o){o.visit(this),x(this.definition,l=>{l.accept(o)})}},mn=class extends pn{constructor(o){super([]),this.idx=1,_t(this,Se(o,o=>void 0!==o))}set definition(o){}get definition(){return void 0!==this.referencedRule?this.referencedRule.definition:[]}accept(o){o.visit(this)}},gn=class extends pn{constructor(o){super(o.definition),this.orgText="",_t(this,Se(o,o=>void 0!==o))}},yn=class extends pn{constructor(o){super(o.definition),this.ignoreAmbiguities=!1,_t(this,Se(o,o=>void 0!==o))}},_n=class extends pn{constructor(o){super(o.definition),this.idx=1,_t(this,Se(o,o=>void 0!==o))}},vn=class extends pn{constructor(o){super(o.definition),this.idx=1,_t(this,Se(o,o=>void 0!==o))}},bn=class extends pn{constructor(o){super(o.definition),this.idx=1,_t(this,Se(o,o=>void 0!==o))}},En=class extends pn{constructor(o){super(o.definition),this.idx=1,_t(this,Se(o,o=>void 0!==o))}},Sn=class extends pn{constructor(o){super(o.definition),this.idx=1,_t(this,Se(o,o=>void 0!==o))}},Cn=class extends pn{get definition(){return this._definition}set definition(o){this._definition=o}constructor(o){super(o.definition),this.idx=1,this.ignoreAmbiguities=!1,this.hasPredicates=!1,_t(this,Se(o,o=>void 0!==o))}},An=class{constructor(o){this.idx=1,_t(this,Se(o,o=>void 0!==o))}accept(o){o.visit(this)}};function Ar(o){function e(o){return d(o,Ar)}if(o instanceof mn){let l={type:"NonTerminal",name:o.nonTerminalName,idx:o.idx};return ne(o.label)&&(l.label=o.label),l}if(o instanceof yn)return{type:"Alternative",definition:e(o.definition)};if(o instanceof _n)return{type:"Option",idx:o.idx,definition:e(o.definition)};if(o instanceof vn)return{type:"RepetitionMandatory",idx:o.idx,definition:e(o.definition)};if(o instanceof bn)return{type:"RepetitionMandatoryWithSeparator",idx:o.idx,separator:Ar(new An({terminalType:o.separator})),definition:e(o.definition)};if(o instanceof Sn)return{type:"RepetitionWithSeparator",idx:o.idx,separator:Ar(new An({terminalType:o.separator})),definition:e(o.definition)};if(o instanceof En)return{type:"Repetition",idx:o.idx,definition:e(o.definition)};if(o instanceof Cn)return{type:"Alternation",idx:o.idx,definition:e(o.definition)};if(o instanceof An){let l={type:"Terminal",name:o.terminalType.name,label:yT(o.terminalType),idx:o.idx};ne(o.label)&&(l.terminalLabel=o.label);let p=o.terminalType.PATTERN;return o.terminalType.PATTERN&&(l.pattern=ln(p)?p.source:p),l}if(o instanceof gn)return{type:"Rule",name:o.name,orgText:o.orgText,definition:e(o.definition)};throw Error("non exhaustive match")}var xn=class{visit(o){let l=o;switch(l.constructor){case mn:return this.visitNonTerminal(l);case yn:return this.visitAlternative(l);case _n:return this.visitOption(l);case vn:return this.visitRepetitionMandatory(l);case bn:return this.visitRepetitionMandatoryWithSeparator(l);case Sn:return this.visitRepetitionWithSeparator(l);case En:return this.visitRepetition(l);case Cn:return this.visitAlternation(l);case An:return this.visitTerminal(l);case gn:return this.visitRule(l);default:throw Error("non exhaustive match")}}visitNonTerminal(o){}visitAlternative(o){}visitOption(o){}visitRepetition(o){}visitRepetitionMandatory(o){}visitRepetitionMandatoryWithSeparator(o){}visitRepetitionWithSeparator(o){}visitAlternation(o){}visitTerminal(o){}visitRule(o){}};function Dt(o,l=[]){return o instanceof _n||o instanceof En||o instanceof Sn||(o instanceof Cn?Wr(o.definition,o=>Dt(o,l)):!(o instanceof mn&&K(l,o))&&(o instanceof pn&&(o instanceof mn&&l.push(o),ue(o.definition,o=>Dt(o,l)))))}function Re(o){if(o instanceof mn)return"SUBRULE";if(o instanceof _n)return"OPTION";if(o instanceof Cn)return"OR";if(o instanceof vn)return"AT_LEAST_ONE";if(o instanceof bn)return"AT_LEAST_ONE_SEP";if(o instanceof Sn)return"MANY_SEP";if(o instanceof En)return"MANY";if(o instanceof An)return"CONSUME";throw Error("non exhaustive match")}var Tn=class{walk(o,l=[]){x(o.definition,(p,m)=>{let g=Y(o.definition,m+1);if(p instanceof mn)this.walkProdRef(p,g,l);else if(p instanceof An)this.walkTerminal(p,g,l);else if(p instanceof yn)this.walkFlat(p,g,l);else if(p instanceof _n)this.walkOption(p,g,l);else if(p instanceof vn)this.walkAtLeastOne(p,g,l);else if(p instanceof bn)this.walkAtLeastOneSep(p,g,l);else if(p instanceof Sn)this.walkManySep(p,g,l);else if(p instanceof En)this.walkMany(p,g,l);else{if(!(p instanceof Cn))throw Error("non exhaustive match");this.walkOr(p,g,l)}})}walkTerminal(o,l,p){}walkProdRef(o,l,p){}walkFlat(o,l,p){let m=l.concat(p);this.walk(o,m)}walkOption(o,l,p){let m=l.concat(p);this.walk(o,m)}walkAtLeastOne(o,l,p){let m=[new _n({definition:o.definition})].concat(l,p);this.walk(o,m)}walkAtLeastOneSep(o,l,p){let m=uc(o,l,p);this.walk(o,m)}walkMany(o,l,p){let m=[new _n({definition:o.definition})].concat(l,p);this.walk(o,m)}walkManySep(o,l,p){let m=uc(o,l,p);this.walk(o,m)}walkOr(o,l,p){let m=l.concat(p);x(o.definition,o=>{let l=new yn({definition:[o]});this.walk(l,m)})}};function uc(o,l,p){return[new _n({definition:[new An({terminalType:o.separator})].concat(o.definition)})].concat(l,p)}function Bt(o){if(o instanceof mn)return Bt(o.referencedRule);if(o instanceof An)return function(o){return[o.terminalType]}(o);if(function(o){return o instanceof yn||o instanceof _n||o instanceof En||o instanceof vn||o instanceof bn||o instanceof Sn||o instanceof An||o instanceof gn}(o))return function(o){let l,p=[],m=o.definition,g=0,y=m.length>g,_=!0;for(;y&&_;)l=m[g],_=Dt(l),p=p.concat(Bt(l)),g+=1,y=m.length>g;return Tr(p)}(o);if(function(o){return o instanceof Cn}(o))return function(o){let l=d(o.definition,o=>Bt(o));return Tr(re(l))}(o);throw Error("non exhaustive match")}var Pn="_~IN~_",Rn=class extends Tn{constructor(o){super(),this.topProd=o,this.follows={}}startWalking(){return this.walk(this.topProd),this.follows}walkTerminal(o,l,p){}walkProdRef(o,l,p){let m=function(o,l){return o.name+l+Pn}(o.referencedRule,o.idx)+this.topProd.name,g=l.concat(p),y=Bt(new yn({definition:g}));this.follows[m]=y}};function R(o){return o.charCodeAt(0)}function lo(o,l){Array.isArray(o)?o.forEach(function(o){l.push(o)}):l.push(o)}function Ir(o,l){if(!0===o[l])throw"duplicate flag "+l;o[l],o[l]=!0}function Gt(o){if(void 0===o)throw Error("Internal Error - Should never get here!");return!0}function Hr(){throw Error("Internal Error - Should never get here!")}function xi(o){return"Character"===o.type}var On=[];for(let o=R("0");o<=R("9");o++)On.push(o);var kn=[R("_")].concat(On);for(let o=R("a");o<=R("z");o++)kn.push(o);for(let o=R("A");o<=R("Z");o++)kn.push(o);var In=[R(" "),R("\f"),R("\n"),R("\r"),R("\t"),R("\v"),R("\t"),R(" "),R(" "),R(" "),R(" "),R(" "),R(" "),R(" "),R(" "),R(" "),R(" "),R(" "),R(" "),R(" "),R("\u2028"),R("\u2029"),R(" "),R(" "),R("　"),R("\ufeff")],$n=/[0-9a-fA-F]/,Nn=/[0-9]/,Ln=/[1-9]/,Zn=class{visitChildren(o){for(let l in o){let p=o[l];o.hasOwnProperty(l)&&(void 0!==p.type?this.visit(p):Array.isArray(p)&&p.forEach(o=>{this.visit(o)},this))}}visit(o){switch(o.type){case"Pattern":this.visitPattern(o);break;case"Flags":this.visitFlags(o);break;case"Disjunction":this.visitDisjunction(o);break;case"Alternative":this.visitAlternative(o);break;case"StartAnchor":this.visitStartAnchor(o);break;case"EndAnchor":this.visitEndAnchor(o);break;case"WordBoundary":this.visitWordBoundary(o);break;case"NonWordBoundary":this.visitNonWordBoundary(o);break;case"Lookahead":this.visitLookahead(o);break;case"NegativeLookahead":this.visitNegativeLookahead(o);break;case"Character":this.visitCharacter(o);break;case"Set":this.visitSet(o);break;case"Group":this.visitGroup(o);break;case"GroupBackReference":this.visitGroupBackReference(o);break;case"Quantifier":this.visitQuantifier(o)}this.visitChildren(o)}visitPattern(o){}visitFlags(o){}visitDisjunction(o){}visitAlternative(o){}visitStartAnchor(o){}visitEndAnchor(o){}visitWordBoundary(o){}visitNonWordBoundary(o){}visitLookahead(o){}visitNegativeLookahead(o){}visitCharacter(o){}visitSet(o){}visitGroup(o){}visitGroupBackReference(o){}visitQuantifier(o){}},Hn={},Gn=new class{constructor(){this.idx=0,this.input="",this.groupIdx=0}saveState(){return{idx:this.idx,input:this.input,groupIdx:this.groupIdx}}restoreState(o){this.idx=o.idx,this.input=o.input,this.groupIdx=o.groupIdx}pattern(o){this.idx=0,this.input=o,this.groupIdx=0,this.consumeChar("/");let l=this.disjunction();this.consumeChar("/");let p={type:"Flags",loc:{begin:this.idx,end:o.length},global:!1,ignoreCase:!1,multiLine:!1,unicode:!1,sticky:!1};for(;this.isRegExpFlag();)switch(this.popChar()){case"g":Ir(p,"global");break;case"i":Ir(p,"ignoreCase");break;case"m":Ir(p,"multiLine");break;case"u":Ir(p,"unicode");break;case"y":Ir(p,"sticky")}if(this.idx!==this.input.length)throw Error("Redundant input: "+this.input.substring(this.idx));return{type:"Pattern",flags:p,value:l,loc:this.loc(0)}}disjunction(){let o=[],l=this.idx;for(o.push(this.alternative());"|"===this.peekChar();)this.consumeChar("|"),o.push(this.alternative());return{type:"Disjunction",value:o,loc:this.loc(l)}}alternative(){let o=[],l=this.idx;for(;this.isTerm();)o.push(this.term());return{type:"Alternative",value:o,loc:this.loc(l)}}term(){return this.isAssertion()?this.assertion():this.atom()}assertion(){let o=this.idx;switch(this.popChar()){case"^":return{type:"StartAnchor",loc:this.loc(o)};case"$":return{type:"EndAnchor",loc:this.loc(o)};case"\\":switch(this.popChar()){case"b":return{type:"WordBoundary",loc:this.loc(o)};case"B":return{type:"NonWordBoundary",loc:this.loc(o)}}throw Error("Invalid Assertion Escape");case"(":let l;switch(this.consumeChar("?"),this.popChar()){case"=":l="Lookahead";break;case"!":l="NegativeLookahead"}Gt(l);let p=this.disjunction();return this.consumeChar(")"),{type:l,value:p,loc:this.loc(o)}}return Hr()}quantifier(o=!1){let l,p=this.idx;switch(this.popChar()){case"*":l={atLeast:0,atMost:1/0};break;case"+":l={atLeast:1,atMost:1/0};break;case"?":l={atLeast:0,atMost:1};break;case"{":let p=this.integerIncludingZero();switch(this.popChar()){case"}":l={atLeast:p,atMost:p};break;case",":let o;this.isDigit()?(o=this.integerIncludingZero(),l={atLeast:p,atMost:o}):l={atLeast:p,atMost:1/0},this.consumeChar("}")}if(!0===o&&void 0===l)return;Gt(l)}if((!0!==o||void 0!==l)&&Gt(l))return"?"===this.peekChar(0)?(this.consumeChar("?"),l.greedy=!1):l.greedy=!0,l.type="Quantifier",l.loc=this.loc(p),l}atom(){let o,l=this.idx;switch(this.peekChar()){case".":o=this.dotAll();break;case"\\":o=this.atomEscape();break;case"[":o=this.characterClass();break;case"(":o=this.group()}return void 0===o&&this.isPatternCharacter()&&(o=this.patternCharacter()),Gt(o)?(o.loc=this.loc(l),this.isQuantifier()&&(o.quantifier=this.quantifier()),o):Hr()}dotAll(){return this.consumeChar("."),{type:"Set",complement:!0,value:[R("\n"),R("\r"),R("\u2028"),R("\u2029")]}}atomEscape(){switch(this.consumeChar("\\"),this.peekChar()){case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":return this.decimalEscapeAtom();case"d":case"D":case"s":case"S":case"w":case"W":return this.characterClassEscape();case"f":case"n":case"r":case"t":case"v":return this.controlEscapeAtom();case"c":return this.controlLetterEscapeAtom();case"0":return this.nulCharacterAtom();case"x":return this.hexEscapeSequenceAtom();case"u":return this.regExpUnicodeEscapeSequenceAtom();default:return this.identityEscapeAtom()}}decimalEscapeAtom(){return{type:"GroupBackReference",value:this.positiveInteger()}}characterClassEscape(){let o,l=!1;switch(this.popChar()){case"d":o=On;break;case"D":o=On,l=!0;break;case"s":o=In;break;case"S":o=In,l=!0;break;case"w":o=kn;break;case"W":o=kn,l=!0}return Gt(o)?{type:"Set",value:o,complement:l}:Hr()}controlEscapeAtom(){let o;switch(this.popChar()){case"f":o=R("\f");break;case"n":o=R("\n");break;case"r":o=R("\r");break;case"t":o=R("\t");break;case"v":o=R("\v")}return Gt(o)?{type:"Character",value:o}:Hr()}controlLetterEscapeAtom(){this.consumeChar("c");let o=this.popChar();if(!1===/[a-zA-Z]/.test(o))throw Error("Invalid ");return{type:"Character",value:o.toUpperCase().charCodeAt(0)-64}}nulCharacterAtom(){return this.consumeChar("0"),{type:"Character",value:R("\0")}}hexEscapeSequenceAtom(){return this.consumeChar("x"),this.parseHexDigits(2)}regExpUnicodeEscapeSequenceAtom(){return this.consumeChar("u"),this.parseHexDigits(4)}identityEscapeAtom(){return{type:"Character",value:R(this.popChar())}}classPatternCharacterAtom(){switch(this.peekChar()){case"\n":case"\r":case"\u2028":case"\u2029":case"\\":case"]":throw Error("TBD");default:return{type:"Character",value:R(this.popChar())}}}characterClass(){let o=[],l=!1;for(this.consumeChar("["),"^"===this.peekChar(0)&&(this.consumeChar("^"),l=!0);this.isClassAtom();){let l=this.classAtom();if(l.type,xi(l)&&this.isRangeDash()){this.consumeChar("-");let p=this.classAtom();if(p.type,xi(p)){if(p.value<l.value)throw Error("Range out of order in character class");o.push({from:l.value,to:p.value})}else lo(l.value,o),o.push(R("-")),lo(p.value,o)}else lo(l.value,o)}return this.consumeChar("]"),{type:"Set",complement:l,value:o}}classAtom(){switch(this.peekChar()){case"]":case"\n":case"\r":case"\u2028":case"\u2029":throw Error("TBD");case"\\":return this.classEscape();default:return this.classPatternCharacterAtom()}}classEscape(){switch(this.consumeChar("\\"),this.peekChar()){case"b":return this.consumeChar("b"),{type:"Character",value:R("\b")};case"d":case"D":case"s":case"S":case"w":case"W":return this.characterClassEscape();case"f":case"n":case"r":case"t":case"v":return this.controlEscapeAtom();case"c":return this.controlLetterEscapeAtom();case"0":return this.nulCharacterAtom();case"x":return this.hexEscapeSequenceAtom();case"u":return this.regExpUnicodeEscapeSequenceAtom();default:return this.identityEscapeAtom()}}group(){let o=!0;if("?"===(this.consumeChar("("),this.peekChar(0)))this.consumeChar("?"),this.consumeChar(":"),o=!1;else this.groupIdx++;let l=this.disjunction();this.consumeChar(")");let p={type:"Group",capturing:o,value:l};return o&&(p.idx=this.groupIdx),p}positiveInteger(){let o=this.popChar();if(!1===Ln.test(o))throw Error("Expecting a positive integer");for(;Nn.test(this.peekChar(0));)o+=this.popChar();return parseInt(o,10)}integerIncludingZero(){let o=this.popChar();if(!1===Nn.test(o))throw Error("Expecting an integer");for(;Nn.test(this.peekChar(0));)o+=this.popChar();return parseInt(o,10)}patternCharacter(){let o=this.popChar();switch(o){case"\n":case"\r":case"\u2028":case"\u2029":case"^":case"$":case"\\":case".":case"*":case"+":case"?":case"(":case")":case"[":case"|":throw Error("TBD");default:return{type:"Character",value:R(o)}}}isRegExpFlag(){switch(this.peekChar(0)){case"g":case"i":case"m":case"u":case"y":return!0;default:return!1}}isRangeDash(){return"-"===this.peekChar()&&this.isClassAtom(1)}isDigit(){return Nn.test(this.peekChar(0))}isClassAtom(o=0){switch(this.peekChar(o)){case"]":case"\n":case"\r":case"\u2028":case"\u2029":return!1;default:return!0}}isTerm(){return this.isAtom()||this.isAssertion()}isAtom(){if(this.isPatternCharacter())return!0;switch(this.peekChar(0)){case".":case"\\":case"[":case"(":return!0;default:return!1}}isAssertion(){switch(this.peekChar(0)){case"^":case"$":return!0;case"\\":switch(this.peekChar(1)){case"b":case"B":return!0;default:return!1}case"(":return"?"===this.peekChar(1)&&("="===this.peekChar(2)||"!"===this.peekChar(2));default:return!1}}isQuantifier(){let o=this.saveState();try{return void 0!==this.quantifier(!0)}catch{return!1}finally{this.restoreState(o)}}isPatternCharacter(){switch(this.peekChar()){case"^":case"$":case"\\":case".":case"*":case"+":case"?":case"(":case")":case"[":case"|":case"/":case"\n":case"\r":case"\u2028":case"\u2029":return!1;default:return!0}}parseHexDigits(o){let l="";for(let p=0;p<o;p++){let o=this.popChar();if(!1===$n.test(o))throw Error("Expecting a HexDecimal digits");l+=o}return{type:"Character",value:parseInt(l,16)}}peekChar(o=0){return this.input[this.idx+o]}popChar(){let o=this.peekChar(0);return this.consumeChar(void 0),o}consumeChar(o){if(void 0!==o&&this.input[this.idx]!==o)throw Error("Expected: '"+o+"' but found: '"+this.input[this.idx]+"' at offset: "+this.idx);if(this.idx>=this.input.length)throw Error("Unexpected end of input");this.idx++}loc(o){return{begin:o,end:this.idx}}};function yr(o){let l=o.toString();if(Hn.hasOwnProperty(l))return Hn[l];{let o=Gn.pattern(l);return Hn[l]=o,o}}var zn="Complement Sets are not supported for first char optimization",Jn='Unable to use "first char" lexer optimizations:\n';function dc(o,l=!1){try{let l=yr(o);return Ei(l.value,{},l.flags.ignoreCase)}catch(p){if(p.message===zn)l&&$r(`${Jn}\tUnable to optimize: < ${o.toString()} >\n\tComplement Sets cannot be automatically optimized.\n\tThis will disable the lexer's first char optimizations.\n\tSee: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#COMPLEMENT for details.`);else{let p="";l&&(p="\n\tThis will disable the lexer's first char optimizations.\n\tSee: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#REGEXP_PARSING for details."),Er(`${Jn}\n\tFailed parsing: < ${o.toString()} >\n\tUsing the @chevrotain/regexp-to-ast library\n\tPlease open an issue at: https://github.com/chevrotain/chevrotain/issues`+p)}}return[]}function Ei(o,l,p){switch(o.type){case"Disjunction":for(let m=0;m<o.value.length;m++)Ei(o.value[m],l,p);break;case"Alternative":let m=o.value;for(let o=0;o<m.length;o++){let g=m[o];switch(g.type){case"EndAnchor":case"GroupBackReference":case"Lookahead":case"NegativeLookahead":case"StartAnchor":case"WordBoundary":case"NonWordBoundary":continue}let y=g;switch(y.type){case"Character":fo(y.value,l,p);break;case"Set":if(!0===y.complement)throw Error(zn);x(y.value,o=>{if("number"==typeof o)fo(o,l,p);else{let m=o;if(!0===p)for(let o=m.from;o<=m.to;o++)fo(o,l,p);else{for(let o=m.from;o<=m.to&&o<js;o++)fo(o,l,p);if(m.to>=js){let o=m.from>=js?m.from:js,p=m.to,g=qe(o),y=qe(p);for(let o=g;o<=y;o++)l[o]=o}}}});break;case"Group":Ei(y.value,l,p);break;default:throw Error("Non Exhaustive Match")}let _=void 0!==y.quantifier&&0===y.quantifier.atLeast;if("Group"===y.type&&!1===Ai(y)||"Group"!==y.type&&!1===_)break}break;default:throw Error("non exhaustive match!")}return P(l)}function fo(o,l,p){let m=qe(o);l[m]=m,!0===p&&function(o,l){let p=String.fromCharCode(o),m=p.toUpperCase();if(m!==p){let o=qe(m.charCodeAt(0));l[o]=o}else{let o=p.toLowerCase();if(o!==p){let p=qe(o.charCodeAt(0));l[p]=p}}}(o,l)}function mc(o,l){return Ja(o.value,o=>{if("number"==typeof o)return K(l,o);{let p=o;return void 0!==Ja(l,o=>p.from<=o&&o<=p.to)}})}function Ai(o){let l=o.quantifier;return!(!l||0!==l.atLeast)||!!o.value&&(O(o.value)?ue(o.value,Ai):Ai(o.value))}var es=class extends Zn{constructor(o){super(),this.targetCharCodes=o,this.found=!1}visitChildren(o){if(!0!==this.found){switch(o.type){case"Lookahead":return void this.visitLookahead(o);case"NegativeLookahead":return void this.visitNegativeLookahead(o)}super.visitChildren(o)}}visitCharacter(o){K(this.targetCharCodes,o.value)&&(this.found=!0)}visitSet(o){o.complement?void 0===mc(o,this.targetCharCodes)&&(this.found=!0):void 0!==mc(o,this.targetCharCodes)&&(this.found=!0)}};function po(o,l){if(l instanceof RegExp){let p=yr(l),m=new es(o);return m.visit(p),m.found}return void 0!==Ja(l,l=>K(o,l.charCodeAt(0)))}var ts="PATTERN",ns="defaultMode",is="modes",bs="boolean"==typeof new RegExp("(?:)").sticky;function Tc(o,l){let p,m=(l=Na(l,{useSticky:bs,debug:!1,safeMode:!1,positionTracking:"full",lineTerminatorCharacters:["\r","\n"],tracer:(o,l)=>l()})).tracer;m("initCharCodeToOptimizedIndexMap",()=>{!function(){if(C(qs)){qs=new Array(65536);for(let o=0;o<65536;o++)qs[o]=o>255?255+~~(o/255):o}}()}),m("Reject Lexer.NA",()=>{p=bt(o,o=>o[ts]===Xs.NA)});let g,y,_,b,S,A,T,w,D,k,I,N=!1;m("Transform Patterns",()=>{N=!1,g=d(p,o=>{let p=o[ts];if(ln(p)){let o=p.source;return 1!==o.length||"^"===o||"$"===o||"."===o||p.ignoreCase?2!==o.length||"\\"!==o[0]||K(["d","D","s","S","t","r","n","t","0","c","b","B","f","v","w","W"],o[1])?l.useSticky?xc(p):gc(p):o[1]:o}if(he(p))return N=!0,{exec:p};if("object"==typeof p)return N=!0,p;if("string"==typeof p){if(1===p.length)return p;{let o=p.replace(/[\\^$.*+?()[\]{}|]/g,"\\$&"),m=new RegExp(o);return l.useSticky?xc(m):gc(m)}}throw Error("non exhaustive match")})}),m("misc mapping",()=>{y=d(p,o=>o.tokenTypeIdx),_=d(p,o=>{let l=o.GROUP;if(l!==Xs.SKIPPED){if(ne(l))return l;if(pe(l))return!1;throw Error("non exhaustive match")}}),b=d(p,o=>{let l=o.LONGER_ALT;if(l)return O(l)?d(l,o=>io(p,o)):[io(p,l)]}),S=d(p,o=>o.PUSH_MODE),A=d(p,o=>E(o,"POP_MODE"))}),m("Line Terminator Handling",()=>{let o=Nc(l.lineTerminatorCharacters);T=d(p,o=>!1),"onlyOffset"!==l.positionTracking&&(T=d(p,l=>E(l,"LINE_BREAKS")?!!l.LINE_BREAKS:!1===Oc(l,o)&&po(o,l.PATTERN)))}),m("Misc Mapping #2",()=>{w=d(p,Sc),D=d(g,zT),k=te(p,(o,l)=>{let p=l.GROUP;return ne(p)&&p!==Xs.SKIPPED&&(o[p]=[]),o},{}),I=d(g,(o,l)=>({pattern:g[l],longerAlt:b[l],canLineTerminator:T[l],isCustom:w[l],short:D[l],group:_[l],push:S[l],pop:A[l],tokenTypeIdx:y[l],tokenType:p[l]}))});let L=!0,j=[];return l.safeMode||m("First Char Optimization",()=>{j=te(p,(o,p,m)=>{if("string"==typeof p.PATTERN){let l=qe(p.PATTERN.charCodeAt(0));yi(o,l,I[m])}else if(O(p.START_CHARS_HINT)){let l;x(p.START_CHARS_HINT,p=>{let g=qe("string"==typeof p?p.charCodeAt(0):p);l!==g&&(l=g,yi(o,g,I[m]))})}else if(ln(p.PATTERN))if(p.PATTERN.unicode)L=!1,l.ensureOptimizations&&Er(`${Jn}\tUnable to analyze < ${p.PATTERN.toString()} > pattern.\n\tThe regexp unicode flag is not currently supported by the regexp-to-ast library.\n\tThis will disable the lexer's first char optimizations.\n\tFor details See: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#UNICODE_OPTIMIZE`);else{let g=dc(p.PATTERN,l.ensureOptimizations);C(g)&&(L=!1),x(g,l=>{yi(o,l,I[m])})}else l.ensureOptimizations&&Er(`${Jn}\tTokenType: <${p.name}> is using a custom token pattern without providing <start_chars_hint> parameter.\n\tThis will disable the lexer's first char optimizations.\n\tFor details See: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#CUSTOM_OPTIMIZE`),L=!1;return o},[])}),{emptyGroups:k,patternIdxToConfig:I,charCodeToPatternIdxToConfig:j,hasCustom:N,canBeOptimized:L}}function Ec(o,l){let p=[],m=function(o){let l=fe(o,o=>!E(o,ts)),p=d(l,o=>({message:"Token Type: ->"+o.name+"<- missing static 'PATTERN' property",type:Gs.MISSING_PATTERN,tokenTypes:[o]})),m=Va(o,l);return{errors:p,valid:m}}(o);p=p.concat(m.errors);let g=function(o){let l=fe(o,o=>{let l=o[ts];return!(ln(l)||he(l)||E(l,"exec")||ne(l))}),p=d(l,o=>({message:"Token Type: ->"+o.name+"<- static 'PATTERN' can only be a RegExp, a Function matching the {CustomPatternMatcherFunc} type or an Object matching the {ICustomPattern} interface.",type:Gs.INVALID_PATTERN,tokenTypes:[o]})),m=Va(o,l);return{errors:p,valid:m}}(m.valid),y=g.valid;return p=p.concat(g.errors),p=p.concat(function(o){let l=[],p=fe(o,o=>ln(o[ts]));return l=l.concat(function(o){class l extends Zn{constructor(){super(...arguments),this.found=!1}visitEndAnchor(o){this.found=!0}}let p=fe(o,o=>{let p=o.PATTERN;try{let o=yr(p),m=new l;return m.visit(o),m.found}catch{return Rs.test(p.source)}});return d(p,o=>({message:"Unexpected RegExp Anchor Error:\n\tToken Type: ->"+o.name+"<- static 'PATTERN' cannot contain end of input anchor '$'\n\tSee chevrotain.io/docs/guide/resolving_lexer_errors.html#ANCHORS\tfor details.",type:Gs.EOI_ANCHOR_FOUND,tokenTypes:[o]}))}(p)),l=l.concat(function(o){class l extends Zn{constructor(){super(...arguments),this.found=!1}visitStartAnchor(o){this.found=!0}}let p=fe(o,o=>{let p=o.PATTERN;try{let o=yr(p),m=new l;return m.visit(o),m.found}catch{return $s.test(p.source)}});return d(p,o=>({message:"Unexpected RegExp Anchor Error:\n\tToken Type: ->"+o.name+"<- static 'PATTERN' cannot contain start of input anchor '^'\n\tSee https://chevrotain.io/docs/guide/resolving_lexer_errors.html#ANCHORS\tfor details.",type:Gs.SOI_ANCHOR_FOUND,tokenTypes:[o]}))}(p)),l=l.concat(function(o){let l=fe(o,o=>{let l=o[ts];return l instanceof RegExp&&(l.multiline||l.global)});return d(l,o=>({message:"Token Type: ->"+o.name+"<- static 'PATTERN' may NOT contain global('g') or multiline('m')",type:Gs.UNSUPPORTED_FLAGS_FOUND,tokenTypes:[o]}))}(p)),l=l.concat(function(o){let l=[],p=d(o,p=>te(o,(o,m)=>(p.PATTERN.source===m.PATTERN.source&&!K(l,m)&&m.PATTERN!==Xs.NA&&(l.push(m),o.push(m)),o),[]));p=ze(p);let m=fe(p,o=>o.length>1);return d(m,o=>{let l=d(o,o=>o.name);return{message:`The same RegExp pattern ->${se(o).PATTERN}<-has been used in all of the following Token Types: ${l.join(", ")} <-`,type:Gs.DUPLICATE_PATTERNS_FOUND,tokenTypes:o}})}(p)),l=l.concat(function(o){let l=fe(o,o=>o.PATTERN.test(""));return d(l,o=>({message:"Token Type: ->"+o.name+"<- static 'PATTERN' must not match an empty string",type:Gs.EMPTY_MATCH_PATTERN,tokenTypes:[o]}))}(p)),l}(y)),p=p.concat(function(o){let l=fe(o,o=>{if(!E(o,"GROUP"))return!1;let l=o.GROUP;return l!==Xs.SKIPPED&&l!==Xs.NA&&!ne(l)});return d(l,o=>({message:"Token Type: ->"+o.name+"<- static 'GROUP' can only be Lexer.SKIPPED/Lexer.NA/A String",type:Gs.INVALID_GROUP_TYPE_FOUND,tokenTypes:[o]}))}(y)),p=p.concat(function(o,l){let p=fe(o,o=>void 0!==o.PUSH_MODE&&!K(l,o.PUSH_MODE));return d(p,o=>({message:`Token Type: ->${o.name}<- static 'PUSH_MODE' value cannot refer to a Lexer Mode ->${o.PUSH_MODE}<-which does not exist`,type:Gs.PUSH_MODE_DOES_NOT_EXIST,tokenTypes:[o]}))}(y,l)),p=p.concat(function(o){let l=[],p=te(o,(o,l,p)=>{let m=l.PATTERN;return m===Xs.NA||(ne(m)?o.push({str:m,idx:p,tokenType:l}):ln(m)&&function(o){return void 0===Ja([".","\\","[","]","|","^","$","(",")","?","*","+","{"],l=>-1!==o.source.indexOf(l))}(m)&&o.push({str:m.source,idx:p,tokenType:l})),o},[]);return x(o,(o,m)=>{x(p,({str:p,idx:g,tokenType:y})=>{if(m<g&&function(o,l){if(ln(l)){let p=l.exec(o);return null!==p&&0===p.index}if(he(l))return l(o,0,[],{});if(E(l,"exec"))return l.exec(o,0,[],{});if("string"==typeof l)return l===o;throw Error("non exhaustive match")}(p,o.PATTERN)){let p=`Token: ->${y.name}<- can never be matched.\nBecause it appears AFTER the Token Type ->${o.name}<-in the lexer's definition.\nSee https://chevrotain.io/docs/guide/resolving_lexer_errors.html#UNREACHABLE`;l.push({message:p,type:Gs.UNREACHABLE_PATTERN,tokenTypes:[o,y]})}})}),l}(y)),p}var Rs=/[^\\][$]/;var $s=/[^\\[][\^]|^\^/;function gc(o){let l=o.ignoreCase?"i":"";return new RegExp(`^(?:${o.source})`,l)}function xc(o){let l=o.ignoreCase?"iy":"y";return new RegExp(`${o.source}`,l)}function Sc(o){let l=o.PATTERN;if(ln(l))return!1;if(he(l))return!0;if(E(l,"exec"))return!0;if(ne(l))return!1;throw Error("non exhaustive match")}function zT(o){return!(!ne(o)||1!==o.length)&&o.charCodeAt(0)}var Ns={test:function(o){let l=o.length;for(let p=this.lastIndex;p<l;p++){let l=o.charCodeAt(p);if(10===l)return this.lastIndex=p+1,!0;if(13===l)return 10===o.charCodeAt(p+1)?this.lastIndex=p+2:this.lastIndex=p+1,!0}return!1},lastIndex:0};function Oc(o,l){if(E(o,"LINE_BREAKS"))return!1;if(ln(o.PATTERN)){try{po(l,o.PATTERN)}catch(o){return{issue:Gs.IDENTIFY_TERMINATOR,errMsg:o.message}}return!1}if(ne(o.PATTERN))return!1;if(Sc(o))return{issue:Gs.CUSTOM_LINE_BREAK};throw Error("non exhaustive match")}function XT(o,l){if(l.issue===Gs.IDENTIFY_TERMINATOR)return`Warning: unable to identify line terminator usage in pattern.\n\tThe problem is in the <${o.name}> Token Type\n\t Root cause: ${l.errMsg}.\n\tFor details See: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#IDENTIFY_TERMINATOR`;if(l.issue===Gs.CUSTOM_LINE_BREAK)return`Warning: A Custom Token Pattern should specify the <line_breaks> option.\n\tThe problem is in the <${o.name}> Token Type\n\tFor details See: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#CUSTOM_LINE_BREAK`;throw Error("non exhaustive match")}function Nc(o){return d(o,o=>ne(o)?o.charCodeAt(0):o)}function yi(o,l,p){void 0===o[l]?o[l]=[p]:o[l].push(p)}var js=256,qs=[];function qe(o){return o<js?o:qs[o]}function ct(o,l){let p=o.tokenTypeIdx;return p===l.tokenTypeIdx||!0===l.isParent&&!0===l.categoryMatchesMap[p]}function Or(o,l){return o.tokenTypeIdx===l.tokenTypeIdx}var Zs=1,Ks={};function ut(o){let l=function(o){let l=F(o),p=o,m=!0;for(;m;){p=ze(re(d(p,o=>o.CATEGORIES)));let o=Va(p,l);l=l.concat(o),C(o)?m=!1:p=o}return l}(o);(function(o){x(o,o=>{Ri(o)||(Ks[Zs]=o,o.tokenTypeIdx=Zs++),Cc(o)&&!O(o.CATEGORIES)&&(o.CATEGORIES=[o.CATEGORIES]),Cc(o)||(o.CATEGORIES=[]),function(o){return E(o,"categoryMatches")}(o)||(o.categoryMatches=[]),function(o){return E(o,"categoryMatchesMap")}(o)||(o.categoryMatchesMap={})})})(l),function(o){x(o,o=>{Lc([],o)})}(l),function(o){x(o,o=>{o.categoryMatches=[],x(o.categoryMatchesMap,(l,p)=>{o.categoryMatches.push(Ks[p].tokenTypeIdx)})})}(l),x(l,o=>{o.isParent=o.categoryMatches.length>0})}function Lc(o,l){x(o,o=>{l.categoryMatchesMap[o.tokenTypeIdx]=!0}),x(l.CATEGORIES,p=>{let m=o.concat(l);K(m,p)||Lc(m,p)})}function Ri(o){return E(o,"tokenTypeIdx")}function Cc(o){return E(o,"CATEGORIES")}function vc(o){return E(o,"tokenTypeIdx")}var Gs,Ws={buildUnableToPopLexerModeMessage:o=>`Unable to pop Lexer Mode after encountering Token ->${o.image}<- The Mode Stack is empty`,buildUnexpectedCharactersMessage:(o,l,p,m,g)=>`unexpected character: ->${o.charAt(l)}<- at offset: ${l}, skipped ${p} characters.`};!function(o){o[o.MISSING_PATTERN=0]="MISSING_PATTERN",o[o.INVALID_PATTERN=1]="INVALID_PATTERN",o[o.EOI_ANCHOR_FOUND=2]="EOI_ANCHOR_FOUND",o[o.UNSUPPORTED_FLAGS_FOUND=3]="UNSUPPORTED_FLAGS_FOUND",o[o.DUPLICATE_PATTERNS_FOUND=4]="DUPLICATE_PATTERNS_FOUND",o[o.INVALID_GROUP_TYPE_FOUND=5]="INVALID_GROUP_TYPE_FOUND",o[o.PUSH_MODE_DOES_NOT_EXIST=6]="PUSH_MODE_DOES_NOT_EXIST",o[o.MULTI_MODE_LEXER_WITHOUT_DEFAULT_MODE=7]="MULTI_MODE_LEXER_WITHOUT_DEFAULT_MODE",o[o.MULTI_MODE_LEXER_WITHOUT_MODES_PROPERTY=8]="MULTI_MODE_LEXER_WITHOUT_MODES_PROPERTY",o[o.MULTI_MODE_LEXER_DEFAULT_MODE_VALUE_DOES_NOT_EXIST=9]="MULTI_MODE_LEXER_DEFAULT_MODE_VALUE_DOES_NOT_EXIST",o[o.LEXER_DEFINITION_CANNOT_CONTAIN_UNDEFINED=10]="LEXER_DEFINITION_CANNOT_CONTAIN_UNDEFINED",o[o.SOI_ANCHOR_FOUND=11]="SOI_ANCHOR_FOUND",o[o.EMPTY_MATCH_PATTERN=12]="EMPTY_MATCH_PATTERN",o[o.NO_LINE_BREAKS_FLAGS=13]="NO_LINE_BREAKS_FLAGS",o[o.UNREACHABLE_PATTERN=14]="UNREACHABLE_PATTERN",o[o.IDENTIFY_TERMINATOR=15]="IDENTIFY_TERMINATOR",o[o.CUSTOM_LINE_BREAK=16]="CUSTOM_LINE_BREAK",o[o.MULTI_MODE_LEXER_LONGER_ALT_NOT_IN_CURRENT_MODE=17]="MULTI_MODE_LEXER_LONGER_ALT_NOT_IN_CURRENT_MODE"}(Gs||(Gs={}));var Ys={deferDefinitionErrorsHandling:!1,positionTracking:"full",lineTerminatorsPattern:/\n|\r\n?/g,lineTerminatorCharacters:["\n","\r"],ensureOptimizations:!1,safeMode:!1,errorMessageProvider:Ws,traceInitPerf:!1,skipValidations:!1,recoveryEnabled:!0};Object.freeze(Ys);var Xs=class{constructor(o,l=Ys){if(this.lexerDefinition=o,this.lexerDefinitionErrors=[],this.lexerDefinitionWarning=[],this.patternIdxToConfig={},this.charCodeToPatternIdxToConfig={},this.modes=[],this.emptyGroups={},this.trackStartLines=!0,this.trackEndLines=!0,this.hasCustom=!1,this.canModeBeOptimized={},this.TRACE_INIT=(o,l)=>{if(!0===this.traceInitPerf){this.traceInitIndent++;let p=new Array(this.traceInitIndent+1).join("\t");this.traceInitIndent<this.traceInitMaxIdent&&console.log(`${p}--\x3e <${o}>`);let{time:m,value:g}=Vr(l),y=m>10?console.warn:console.log;return this.traceInitIndent<this.traceInitMaxIdent&&y(`${p}<-- <${o}> time: ${m}ms`),this.traceInitIndent--,g}return l()},"boolean"==typeof l)throw Error("The second argument to the Lexer constructor is now an ILexerConfig Object.\na boolean 2nd argument is no longer supported");this.config=_t({},Ys,l);let p=this.config.traceInitPerf;!0===p?(this.traceInitMaxIdent=1/0,this.traceInitPerf=!0):"number"==typeof p&&(this.traceInitMaxIdent=p,this.traceInitPerf=!0),this.traceInitIndent=-1,this.TRACE_INIT("Lexer Constructor",()=>{let p,m=!0;this.TRACE_INIT("Lexer Config handling",()=>{if(this.config.lineTerminatorsPattern===Ys.lineTerminatorsPattern)this.config.lineTerminatorsPattern=Ns;else if(this.config.lineTerminatorCharacters===Ys.lineTerminatorCharacters)throw Error("Error: Missing <lineTerminatorCharacters> property on the Lexer config.\n\tFor details See: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#MISSING_LINE_TERM_CHARS");if(l.safeMode&&l.ensureOptimizations)throw Error('"safeMode" and "ensureOptimizations" flags are mutually exclusive.');this.trackStartLines=/full|onlyStart/i.test(this.config.positionTracking),this.trackEndLines=/full/i.test(this.config.positionTracking),O(o)?p={modes:{defaultMode:F(o)},defaultMode:ns}:(m=!1,p=F(o))}),!1===this.config.skipValidations&&(this.TRACE_INIT("performRuntimeChecks",()=>{this.lexerDefinitionErrors=this.lexerDefinitionErrors.concat(function(o){let l=[];return E(o,ns)||l.push({message:"A MultiMode Lexer cannot be initialized without a <"+ns+"> property in its definition\n",type:Gs.MULTI_MODE_LEXER_WITHOUT_DEFAULT_MODE}),E(o,is)||l.push({message:"A MultiMode Lexer cannot be initialized without a <modes> property in its definition\n",type:Gs.MULTI_MODE_LEXER_WITHOUT_MODES_PROPERTY}),E(o,is)&&E(o,ns)&&!E(o.modes,o.defaultMode)&&l.push({message:`A MultiMode Lexer cannot be initialized with a ${ns}: <${o.defaultMode}>which does not exist\n`,type:Gs.MULTI_MODE_LEXER_DEFAULT_MODE_VALUE_DOES_NOT_EXIST}),E(o,is)&&x(o.modes,(o,p)=>{x(o,(m,g)=>{if(pe(m))l.push({message:`A Lexer cannot be initialized using an undefined Token Type. Mode:<${p}> at index: <${g}>\n`,type:Gs.LEXER_DEFINITION_CANNOT_CONTAIN_UNDEFINED});else if(E(m,"LONGER_ALT")){let g=O(m.LONGER_ALT)?m.LONGER_ALT:[m.LONGER_ALT];x(g,g=>{!pe(g)&&!K(o,g)&&l.push({message:`A MultiMode Lexer cannot be initialized with a longer_alt <${g.name}> on token <${m.name}> outside of mode <${p}>\n`,type:Gs.MULTI_MODE_LEXER_LONGER_ALT_NOT_IN_CURRENT_MODE})})}})}),l}(p,this.trackStartLines,this.config.lineTerminatorCharacters))}),this.TRACE_INIT("performWarningRuntimeChecks",()=>{this.lexerDefinitionWarning=this.lexerDefinitionWarning.concat(function(o,l,p){let m=[],g=!1,y=ze(re(P(o.modes))),_=bt(y,o=>o[ts]===Xs.NA),b=Nc(p);return l&&x(_,o=>{let l=Oc(o,b);if(!1!==l){let p={message:XT(o,l),type:l.issue,tokenType:o};m.push(p)}else E(o,"LINE_BREAKS")?!0===o.LINE_BREAKS&&(g=!0):po(b,o.PATTERN)&&(g=!0)}),l&&!g&&m.push({message:"Warning: No LINE_BREAKS Found.\n\tThis Lexer has been defined to track line and column information,\n\tBut none of the Token Types can be identified as matching a line terminator.\n\tSee https://chevrotain.io/docs/guide/resolving_lexer_errors.html#LINE_BREAKS \n\tfor details.",type:Gs.NO_LINE_BREAKS_FLAGS}),m}(p,this.trackStartLines,this.config.lineTerminatorCharacters))})),p.modes=p.modes?p.modes:{},x(p.modes,(o,l)=>{p.modes[l]=bt(o,o=>pe(o))});let g=M(p.modes);if(x(p.modes,(o,p)=>{this.TRACE_INIT(`Mode: <${p}> processing`,()=>{if(this.modes.push(p),!1===this.config.skipValidations&&this.TRACE_INIT("validatePatterns",()=>{this.lexerDefinitionErrors=this.lexerDefinitionErrors.concat(Ec(o,g))}),C(this.lexerDefinitionErrors)){let m;ut(o),this.TRACE_INIT("analyzeTokenTypes",()=>{m=Tc(o,{lineTerminatorCharacters:this.config.lineTerminatorCharacters,positionTracking:l.positionTracking,ensureOptimizations:l.ensureOptimizations,safeMode:l.safeMode,tracer:this.TRACE_INIT})}),this.patternIdxToConfig[p]=m.patternIdxToConfig,this.charCodeToPatternIdxToConfig[p]=m.charCodeToPatternIdxToConfig,this.emptyGroups=_t({},this.emptyGroups,m.emptyGroups),this.hasCustom=m.hasCustom||this.hasCustom,this.canModeBeOptimized[p]=m.canBeOptimized}})}),this.defaultMode=p.defaultMode,!C(this.lexerDefinitionErrors)&&!this.config.deferDefinitionErrorsHandling){let o=d(this.lexerDefinitionErrors,o=>o.message).join("-----------------------\n");throw new Error("Errors detected in definition of Lexer:\n"+o)}x(this.lexerDefinitionWarning,o=>{$r(o.message)}),this.TRACE_INIT("Choosing sub-methods implementations",()=>{if(bs?(this.chopInput=ve,this.match=this.matchWithTest):(this.updateLastIndex=V,this.match=this.matchWithExec),m&&(this.handleModes=V),!1===this.trackStartLines&&(this.computeNewColumn=ve),!1===this.trackEndLines&&(this.updateTokenEndLineColumnLocation=V),/full/i.test(this.config.positionTracking))this.createTokenInstance=this.createFullToken;else if(/onlyStart/i.test(this.config.positionTracking))this.createTokenInstance=this.createStartOnlyToken;else{if(!/onlyOffset/i.test(this.config.positionTracking))throw Error(`Invalid <positionTracking> config option: "${this.config.positionTracking}"`);this.createTokenInstance=this.createOffsetOnlyToken}this.hasCustom?(this.addToken=this.addTokenUsingPush,this.handlePayload=this.handlePayloadWithCustom):(this.addToken=this.addTokenUsingMemberAccess,this.handlePayload=this.handlePayloadNoCustom)}),this.TRACE_INIT("Failed Optimization Warnings",()=>{let o=te(this.canModeBeOptimized,(o,l,p)=>(!1===l&&o.push(p),o),[]);if(l.ensureOptimizations&&!C(o))throw Error(`Lexer Modes: < ${o.join(", ")} > cannot be optimized.\n\t Disable the "ensureOptimizations" lexer config flag to silently ignore this and run the lexer in an un-optimized mode.\n\t Or inspect the console log for details on how to resolve these issues.`)}),this.TRACE_INIT("clearRegExpParserCache",()=>{Hn={}}),this.TRACE_INIT("toFastProperties",()=>{jr(this)})})}tokenize(o,l=this.defaultMode){if(!C(this.lexerDefinitionErrors)){let o=d(this.lexerDefinitionErrors,o=>o.message).join("-----------------------\n");throw new Error("Unable to Tokenize because Errors detected in definition of Lexer:\n"+o)}return this.tokenizeInternal(o,l)}tokenizeInternal(o,l){let p,m,g,y,_,b,S,A,T,w,D,k,I,N,L,j,B=o,U=B.length,q=0,Z=0,H=this.hasCustom?0:Math.floor(o.length/10),G=new Array(H),z=[],W=this.trackStartLines?1:void 0,Q=this.trackStartLines?1:void 0,ae=function(o){let l={},p=M(o);return x(p,p=>{let m=o[p];if(!O(m))throw Error("non exhaustive match");l[p]=[]}),l}(this.emptyGroups),ie=this.trackStartLines,oe=this.config.lineTerminatorsPattern,ce=0,le=[],ge=[],ye=[],_e=[];function ha(){return le}function da(o){let l=qe(o),p=ge[l];return void 0===p?_e:p}Object.freeze(_e);let Gu=o=>{if(1===ye.length&&void 0===o.tokenType.PUSH_MODE){let l=this.config.errorMessageProvider.buildUnableToPopLexerModeMessage(o);z.push({offset:o.startOffset,line:o.startLine,column:o.startColumn,length:o.image.length,message:l})}else{ye.pop();let o=Xe(ye);le=this.patternIdxToConfig[o],ge=this.charCodeToPatternIdxToConfig[o],ce=le.length;let l=this.canModeBeOptimized[o]&&!1===this.config.safeMode;j=ge&&l?da:ha}};function ga(o){ye.push(o),ge=this.charCodeToPatternIdxToConfig[o],le=this.patternIdxToConfig[o],ce=le.length,ce=le.length;let l=this.canModeBeOptimized[o]&&!1===this.config.safeMode;j=ge&&l?da:ha}ga.call(this,l);let be,Ee=this.config.recoveryEnabled;for(;q<U;){b=null;let l=B.charCodeAt(q),O=j(l),H=O.length;for(p=0;p<H;p++){be=O[p];let m=be.pattern;S=null;let T=be.short;if(!1!==T?l===T&&(b=m):!0===be.isCustom?(L=m.exec(B,q,G,ae),null!==L?(b=L[0],void 0!==L.payload&&(S=L.payload)):b=null):(this.updateLastIndex(m,q),b=this.match(m,o,q)),null!==b){if(_=be.longerAlt,void 0!==_){let l=_.length;for(g=0;g<l;g++){let l=le[_[g]],p=l.pattern;if(A=null,!0===l.isCustom?(L=p.exec(B,q,G,ae),null!==L?(y=L[0],void 0!==L.payload&&(A=L.payload)):y=null):(this.updateLastIndex(p,q),y=this.match(p,o,q)),y&&y.length>b.length){b=y,S=A,be=l;break}}}break}}if(null!==b){if(T=b.length,w=be.group,void 0!==w&&(D=be.tokenTypeIdx,k=this.createTokenInstance(b,q,D,be.tokenType,W,Q,T),this.handlePayload(k,S),!1===w?Z=this.addToken(G,Z,k):ae[w].push(k)),o=this.chopInput(o,T),q+=T,Q=this.computeNewColumn(Q,T),!0===ie&&!0===be.canLineTerminator){let o,l,p=0;oe.lastIndex=0;do{o=oe.test(b),!0===o&&(l=oe.lastIndex-1,p++)}while(!0===o);0!==p&&(W+=p,Q=T-l,this.updateTokenEndLineColumnLocation(k,w,l,p,W,Q,T))}this.handleModes(be,Gu,ga,k)}else{let l=q,p=W,g=Q,y=!1===Ee;for(;!1===y&&q<U;)for(o=this.chopInput(o,1),q++,m=0;m<ce;m++){let l=le[m],p=l.pattern,g=l.short;if(!1!==g?B.charCodeAt(q)===g&&(y=!0):!0===l.isCustom?y=null!==p.exec(B,q,G,ae):(this.updateLastIndex(p,q),y=null!==p.exec(o)),!0===y)break}if(I=q-l,Q=this.computeNewColumn(Q,I),N=this.config.errorMessageProvider.buildUnexpectedCharactersMessage(B,l,I,p,g),z.push({offset:l,line:p,column:g,length:I,message:N}),!1===Ee)break}}return this.hasCustom||(G.length=Z),{tokens:G,groups:ae,errors:z}}handleModes(o,l,p,m){if(!0===o.pop){let g=o.push;l(m),void 0!==g&&p.call(this,g)}else void 0!==o.push&&p.call(this,o.push)}chopInput(o,l){return o.substring(l)}updateLastIndex(o,l){o.lastIndex=l}updateTokenEndLineColumnLocation(o,l,p,m,g,y,_){let b,S;void 0!==l&&(b=p===_-1,S=b?-1:0,1===m&&!0===b||(o.endLine=g+S,o.endColumn=y-1-S))}computeNewColumn(o,l){return o+l}createOffsetOnlyToken(o,l,p,m){return{image:o,startOffset:l,tokenTypeIdx:p,tokenType:m}}createStartOnlyToken(o,l,p,m,g,y){return{image:o,startOffset:l,startLine:g,startColumn:y,tokenTypeIdx:p,tokenType:m}}createFullToken(o,l,p,m,g,y,_){return{image:o,startOffset:l,endOffset:l+_-1,startLine:g,endLine:g,startColumn:y,endColumn:y+_-1,tokenTypeIdx:p,tokenType:m}}addTokenUsingPush(o,l,p){return o.push(p),l}addTokenUsingMemberAccess(o,l,p){return o[l]=p,++l}handlePayloadNoCustom(o,l){}handlePayloadWithCustom(o,l){null!==l&&(o.payload=l)}matchWithTest(o,l,p){return!0===o.test(l)?l.substring(p,o.lastIndex):null}matchWithExec(o,l){let p=o.exec(l);return null!==p?p[0]:null}};function Wt(o){return Ni(o)?o.LABEL:o.name}function Ni(o){return ne(o.LABEL)&&""!==o.LABEL}Xs.SKIPPED="This marks a skipped Token pattern, this means each token identified by it willbe consumed and then thrown into oblivion, this can be used to for example to completely ignore whitespace.",Xs.NA=/NOT_APPLICABLE/;var Qs="parent",ei="categories",ti="label",ai="group",ni="push_mode",ii="pop_mode",oi="longer_alt",di="line_breaks",ci="start_chars_hint";function h(o){return function(o){let l=o.pattern,p={};if(p.name=o.name,pe(l)||(p.PATTERN=l),E(o,Qs))throw"The parent property is no longer supported.\nSee: https://github.com/chevrotain/chevrotain/issues/564#issuecomment-349062346 for details.";return E(o,ei)&&(p.CATEGORIES=o[ei]),ut([p]),E(o,ti)&&(p.LABEL=o[ti]),E(o,ai)&&(p.GROUP=o[ai]),E(o,ii)&&(p.POP_MODE=o[ii]),E(o,ni)&&(p.PUSH_MODE=o[ni]),E(o,oi)&&(p.LONGER_ALT=o[oi]),E(o,di)&&(p.LINE_BREAKS=o[di]),E(o,ci)&&(p.START_CHARS_HINT=o[ci]),p}(o)}var li=h({name:"EOF",pattern:Xs.NA});function $t(o,l,p,m,g,y,_,b){return{image:l,startOffset:p,endOffset:m,startLine:g,endLine:y,startColumn:_,endColumn:b,tokenTypeIdx:o.tokenTypeIdx,tokenType:o}}function _i(o,l){return ct(o,l)}ut([li]);var hi={buildMismatchTokenMessage:({expected:o,actual:l,previous:p,ruleName:m})=>`Expecting ${Ni(o)?`--\x3e ${Wt(o)} <--`:`token of type --\x3e ${o.name} <--`} but found --\x3e '${l.image}' <--`,buildNotAllInputParsedMessage:({firstRedundant:o,ruleName:l})=>"Redundant input, expecting EOF but found: "+o.image,buildNoViableAltMessage({expectedPathsPerAlt:o,actual:l,previous:p,customUserDescription:m,ruleName:g}){let y="Expecting: ",_="\nbut found: '"+se(l).image+"'";if(m)return y+m+_;{let l=te(o,(o,l)=>o.concat(l),[]),p=d(l,o=>`[${d(o,o=>Wt(o)).join(", ")}]`);return y+`one of these possible Token sequences:\n${d(p,(o,l)=>`  ${l+1}. ${o}`).join("\n")}`+_}},buildEarlyExitMessage({expectedIterationPaths:o,actual:l,customUserDescription:p,ruleName:m}){let g="Expecting: ",y="\nbut found: '"+se(l).image+"'";if(p)return g+p+y;{let l=`expecting at least one iteration which starts with one of these possible Token sequences::\n  <${d(o,o=>`[${d(o,o=>Wt(o)).join(",")}]`).join(" ,")}>`;return g+l+y}}};Object.freeze(hi);var fi={buildRuleNotFoundError:(o,l)=>"Invalid grammar, reference to a rule which is not defined: ->"+l.nonTerminalName+"<-\ninside top level rule: ->"+o.name+"<-"},mi={buildDuplicateFoundError(o,l){let p=o.name,m=se(l),g=m.idx,y=Re(m),_=function(o){return o instanceof An?o.terminalType.name:o instanceof mn?o.nonTerminalName:""}(m),b=`->${y}${g>0?g:""}<- ${_?`with argument: ->${_}<-`:""}\n                  appears more than once (${l.length} times) in the top level rule: ->${p}<-.                  \n                  For further details see: https://chevrotain.io/docs/FAQ.html#NUMERICAL_SUFFIXES \n                  `;return b=b.replace(/[ \t]+/g," "),b=b.replace(/\s\s+/g,"\n"),b},buildNamespaceConflictError:o=>`Namespace conflict found in grammar.\nThe grammar has both a Terminal(Token) and a Non-Terminal(Rule) named: <${o.name}>.\nTo resolve this make sure each Terminal and Non-Terminal names are unique\nThis is easy to accomplish by using the convention that Terminal names start with an uppercase letter\nand Non-Terminal names start with a lower case letter.`,buildAlternationPrefixAmbiguityError(o){let l=d(o.prefixPath,o=>Wt(o)).join(", "),p=0===o.alternation.idx?"":o.alternation.idx;return`Ambiguous alternatives: <${o.ambiguityIndices.join(" ,")}> due to common lookahead prefix\nin <OR${p}> inside <${o.topLevelRule.name}> Rule,\n<${l}> may appears as a prefix path in all these alternatives.\nSee: https://chevrotain.io/docs/guide/resolving_grammar_errors.html#COMMON_PREFIX\nFor Further details.`},buildAlternationAmbiguityError(o){let l=d(o.prefixPath,o=>Wt(o)).join(", "),p=0===o.alternation.idx?"":o.alternation.idx,m=`Ambiguous Alternatives Detected: <${o.ambiguityIndices.join(" ,")}> in <OR${p}> inside <${o.topLevelRule.name}> Rule,\n<${l}> may appears as a prefix path in all these alternatives.\n`;return m+="See: https://chevrotain.io/docs/guide/resolving_grammar_errors.html#AMBIGUOUS_ALTERNATIVES\nFor Further details.",m},buildEmptyRepetitionError(o){let l=Re(o.repetition);return 0!==o.repetition.idx&&(l+=o.repetition.idx),`The repetition <${l}> within Rule <${o.topLevelRule.name}> can never consume any tokens.\nThis could lead to an infinite loop.`},buildTokenNameError:o=>"deprecated",buildEmptyAlternationError:o=>`Ambiguous empty alternative: <${o.emptyChoiceIdx+1}> in <OR${o.alternation.idx}> inside <${o.topLevelRule.name}> Rule.\nOnly the last alternative may be an empty alternative.`,buildTooManyAlternativesError:o=>`An Alternation cannot have more than 256 alternatives:\n<OR${o.alternation.idx}> inside <${o.topLevelRule.name}> Rule.\n has ${o.alternation.definition.length+1} alternatives.`,buildLeftRecursionError(o){let l=o.topLevelRule.name,p=d(o.leftRecursionPath,o=>o.name);return`Left Recursion found in grammar.\nrule: <${l}> can be invoked from itself (directly or indirectly)\nwithout consuming any Tokens. The grammar path that causes this is: \n ${`${l} --\x3e ${p.concat([l]).join(" --\x3e ")}`}\n To fix this refactor your grammar to remove the left recursion.\nsee: https://en.wikipedia.org/wiki/LL_parser#Left_factoring.`},buildInvalidRuleNameError:o=>"deprecated",buildDuplicateRuleNameError(o){let l;return l=o.topLevelRule instanceof gn?o.topLevelRule.name:o.topLevelRule,`Duplicate definition, rule: ->${l}<- is already defined in the grammar: ->${o.grammarName}<-`}};var gi,vi=class extends xn{constructor(o,l){super(),this.nameToTopRule=o,this.errMsgProvider=l,this.errors=[]}resolveRefs(){x(P(this.nameToTopRule),o=>{this.currTopLevel=o,o.accept(this)})}visitNonTerminal(o){let l=this.nameToTopRule[o.nonTerminalName];if(l)o.referencedRule=l;else{let l=this.errMsgProvider.buildRuleNotFoundError(this.currTopLevel,o);this.errors.push({message:l,type:Co.UNRESOLVED_SUBRULE_REF,ruleName:this.currTopLevel.name,unresolvedRefName:o.nonTerminalName})}}},bi=class extends Tn{constructor(o,l){super(),this.topProd=o,this.path=l,this.possibleTokTypes=[],this.nextProductionName="",this.nextProductionOccurrence=0,this.found=!1,this.isAtEndOfPath=!1}startWalking(){if(this.found=!1,this.path.ruleStack[0]!==this.topProd.name)throw Error("The path does not start with the walker's top Rule!");return this.ruleStack=F(this.path.ruleStack).reverse(),this.occurrenceStack=F(this.path.occurrenceStack).reverse(),this.ruleStack.pop(),this.occurrenceStack.pop(),this.updateExpectedNext(),this.walk(this.topProd),this.possibleTokTypes}walk(o,l=[]){this.found||super.walk(o,l)}walkProdRef(o,l,p){if(o.referencedRule.name===this.nextProductionName&&o.idx===this.nextProductionOccurrence){let m=l.concat(p);this.updateExpectedNext(),this.walk(o.referencedRule,m)}}updateExpectedNext(){C(this.ruleStack)?(this.nextProductionName="",this.nextProductionOccurrence=0,this.isAtEndOfPath=!0):(this.nextProductionName=this.ruleStack.pop(),this.nextProductionOccurrence=this.occurrenceStack.pop())}},Si=class extends bi{constructor(o,l){super(o,l),this.path=l,this.nextTerminalName="",this.nextTerminalOccurrence=0,this.nextTerminalName=this.path.lastTok.name,this.nextTerminalOccurrence=this.path.lastTokOccurrence}walkTerminal(o,l,p){if(this.isAtEndOfPath&&o.terminalType.name===this.nextTerminalName&&o.idx===this.nextTerminalOccurrence&&!this.found){let o=l.concat(p),m=new yn({definition:o});this.possibleTokTypes=Bt(m),this.found=!0}}},Ci=class extends Tn{constructor(o,l){super(),this.topRule=o,this.occurrence=l,this.result={token:void 0,occurrence:void 0,isEndOfRule:void 0}}startWalking(){return this.walk(this.topRule),this.result}},Ti=class extends Ci{walkMany(o,l,p){if(o.idx===this.occurrence){let o=se(l.concat(p));this.result.isEndOfRule=void 0===o,o instanceof An&&(this.result.token=o.terminalType,this.result.occurrence=o.idx)}else super.walkMany(o,l,p)}},wi=class extends Ci{walkManySep(o,l,p){if(o.idx===this.occurrence){let o=se(l.concat(p));this.result.isEndOfRule=void 0===o,o instanceof An&&(this.result.token=o.terminalType,this.result.occurrence=o.idx)}else super.walkManySep(o,l,p)}},Pi=class extends Ci{walkAtLeastOne(o,l,p){if(o.idx===this.occurrence){let o=se(l.concat(p));this.result.isEndOfRule=void 0===o,o instanceof An&&(this.result.token=o.terminalType,this.result.occurrence=o.idx)}else super.walkAtLeastOne(o,l,p)}},Di=class extends Ci{walkAtLeastOneSep(o,l,p){if(o.idx===this.occurrence){let o=se(l.concat(p));this.result.isEndOfRule=void 0===o,o instanceof An&&(this.result.token=o.terminalType,this.result.occurrence=o.idx)}else super.walkAtLeastOneSep(o,l,p)}};function Ao(o,l,p=[]){p=F(p);let m=[],g=0;function a(y){let _=Ao(function(l){return l.concat(Y(o,g+1))}(y),l,p);return m.concat(_)}for(;p.length<l&&g<o.length;){let l=o[g];if(l instanceof yn)return a(l.definition);if(l instanceof mn)return a(l.definition);if(l instanceof _n)m=a(l.definition);else{if(l instanceof vn){return a(l.definition.concat([new En({definition:l.definition})]))}if(l instanceof bn){return a([new yn({definition:l.definition}),new En({definition:[new An({terminalType:l.separator})].concat(l.definition)})])}if(l instanceof Sn){let o=l.definition.concat([new En({definition:[new An({terminalType:l.separator})].concat(l.definition)})]);m=a(o)}else if(l instanceof En){let o=l.definition.concat([new En({definition:l.definition})]);m=a(o)}else{if(l instanceof Cn)return x(l.definition,o=>{!1===C(o.definition)&&(m=a(o.definition))}),m;if(!(l instanceof An))throw Error("non exhaustive match");p.push(l.terminalType)}}g++}return m.push({partialPath:p,suffixDef:Y(o,g)}),m}function Io(o,l,p,m){let g="EXIT_NONE_TERMINAL",y=[g],_="EXIT_ALTERNATIVE",b=!1,S=l.length,A=S-m-1,T=[],w=[];for(w.push({idx:-1,def:o,ruleStack:[],occurrenceStack:[]});!C(w);){let o=w.pop();if(o===_){b&&Xe(w).idx<=A&&w.pop();continue}let m=o.def,D=o.idx,O=o.ruleStack,k=o.occurrenceStack;if(C(m))continue;let I=m[0];if(I===g){let o={idx:D,def:Y(m),ruleStack:st(O),occurrenceStack:st(k)};w.push(o)}else if(I instanceof An)if(D<S-1){let o=D+1;if(p(l[o],I.terminalType)){let l={idx:o,def:Y(m),ruleStack:O,occurrenceStack:k};w.push(l)}}else{if(D!==S-1)throw Error("non exhaustive match");T.push({nextTokenType:I.terminalType,nextTokenOccurrence:I.idx,ruleStack:O,occurrenceStack:k}),b=!0}else if(I instanceof mn){let o=F(O);o.push(I.nonTerminalName);let l=F(k);l.push(I.idx);let p={idx:D,def:I.definition.concat(y,Y(m)),ruleStack:o,occurrenceStack:l};w.push(p)}else if(I instanceof _n){let o={idx:D,def:Y(m),ruleStack:O,occurrenceStack:k};w.push(o),w.push(_);let l={idx:D,def:I.definition.concat(Y(m)),ruleStack:O,occurrenceStack:k};w.push(l)}else if(I instanceof vn){let o=new En({definition:I.definition,idx:I.idx}),l={idx:D,def:I.definition.concat([o],Y(m)),ruleStack:O,occurrenceStack:k};w.push(l)}else if(I instanceof bn){let o=new An({terminalType:I.separator}),l=new En({definition:[o].concat(I.definition),idx:I.idx}),p={idx:D,def:I.definition.concat([l],Y(m)),ruleStack:O,occurrenceStack:k};w.push(p)}else if(I instanceof Sn){let o={idx:D,def:Y(m),ruleStack:O,occurrenceStack:k};w.push(o),w.push(_);let l=new An({terminalType:I.separator}),p=new En({definition:[l].concat(I.definition),idx:I.idx}),g={idx:D,def:I.definition.concat([p],Y(m)),ruleStack:O,occurrenceStack:k};w.push(g)}else if(I instanceof En){let o={idx:D,def:Y(m),ruleStack:O,occurrenceStack:k};w.push(o),w.push(_);let l=new En({definition:I.definition,idx:I.idx}),p={idx:D,def:I.definition.concat([l],Y(m)),ruleStack:O,occurrenceStack:k};w.push(p)}else if(I instanceof Cn)for(let o=I.definition.length-1;o>=0;o--){let l={idx:D,def:I.definition[o].definition.concat(Y(m)),ruleStack:O,occurrenceStack:k};w.push(l),w.push(_)}else if(I instanceof yn)w.push({idx:D,def:I.definition.concat(Y(m)),ruleStack:O,occurrenceStack:k});else{if(!(I instanceof gn))throw Error("non exhaustive match");w.push(oE(I,D,O,k))}}return T}function oE(o,l,p,m){let g=F(p);g.push(o.name);let y=F(m);return y.push(1),{idx:l,def:o.definition,ruleStack:g,occurrenceStack:y}}function So(o){if(o instanceof _n||"Option"===o)return gi.OPTION;if(o instanceof En||"Repetition"===o)return gi.REPETITION;if(o instanceof vn||"RepetitionMandatory"===o)return gi.REPETITION_MANDATORY;if(o instanceof bn||"RepetitionMandatoryWithSeparator"===o)return gi.REPETITION_MANDATORY_WITH_SEPARATOR;if(o instanceof Sn||"RepetitionWithSeparator"===o)return gi.REPETITION_WITH_SEPARATOR;if(o instanceof Cn||"Alternation"===o)return gi.ALTERNATION;throw Error("non exhaustive match")}function jc(o,l,p,m){let g=o.length,y=ue(o,o=>ue(o,o=>1===o.length));if(l)return function(l){let m=d(l,o=>o.GATE);for(let l=0;l<g;l++){let g=o[l],y=g.length,_=m[l];if(void 0===_||!1!==_.call(this))e:for(let o=0;o<y;o++){let m=g[o],y=m.length;for(let o=0;o<y;o++){let l=this.LA(o+1);if(!1===p(l,m[o]))continue e}return l}}};if(y&&!m){let l=d(o,o=>re(o)),p=te(l,(o,l,p)=>(x(l,l=>{E(o,l.tokenTypeIdx)||(o[l.tokenTypeIdx]=p),x(l.categoryMatches,l=>{E(o,l)||(o[l]=p)})}),o),{});return function(){let o=this.LA(1);return p[o.tokenTypeIdx]}}return function(){for(let l=0;l<g;l++){let m=o[l],g=m.length;e:for(let o=0;o<g;o++){let g=m[o],y=g.length;for(let o=0;o<y;o++){let l=this.LA(o+1);if(!1===p(l,g[o]))continue e}return l}}}}function Hc(o,l,p){let m=ue(o,o=>1===o.length),g=o.length;if(m&&!p){let l=re(o);if(1===l.length&&C(l[0].categoryMatches)){let o=l[0].tokenTypeIdx;return function(){return this.LA(1).tokenTypeIdx===o}}{let o=te(l,(o,l,p)=>(o[l.tokenTypeIdx]=!0,x(l.categoryMatches,l=>{o[l]=!0}),o),[]);return function(){let l=this.LA(1);return!0===o[l.tokenTypeIdx]}}}return function(){e:for(let p=0;p<g;p++){let m=o[p],g=m.length;for(let o=0;o<g;o++){let p=this.LA(o+1);if(!1===l(p,m[o]))continue e}return!0}return!1}}!function(o){o[o.OPTION=0]="OPTION",o[o.REPETITION=1]="REPETITION",o[o.REPETITION_MANDATORY=2]="REPETITION_MANDATORY",o[o.REPETITION_MANDATORY_WITH_SEPARATOR=3]="REPETITION_MANDATORY_WITH_SEPARATOR",o[o.REPETITION_WITH_SEPARATOR=4]="REPETITION_WITH_SEPARATOR",o[o.ALTERNATION=5]="ALTERNATION"}(gi||(gi={}));var Oi=class extends Tn{constructor(o,l,p){super(),this.topProd=o,this.targetOccurrence=l,this.targetProdType=p}startWalking(){return this.walk(this.topProd),this.restDef}checkIsTarget(o,l,p,m){return o.idx===this.targetOccurrence&&this.targetProdType===l&&(this.restDef=p.concat(m),!0)}walkOption(o,l,p){this.checkIsTarget(o,gi.OPTION,l,p)||super.walkOption(o,l,p)}walkAtLeastOne(o,l,p){this.checkIsTarget(o,gi.REPETITION_MANDATORY,l,p)||super.walkOption(o,l,p)}walkAtLeastOneSep(o,l,p){this.checkIsTarget(o,gi.REPETITION_MANDATORY_WITH_SEPARATOR,l,p)||super.walkOption(o,l,p)}walkMany(o,l,p){this.checkIsTarget(o,gi.REPETITION,l,p)||super.walkOption(o,l,p)}walkManySep(o,l,p){this.checkIsTarget(o,gi.REPETITION_WITH_SEPARATOR,l,p)||super.walkOption(o,l,p)}},ki=class extends xn{constructor(o,l,p){super(),this.targetOccurrence=o,this.targetProdType=l,this.targetRef=p,this.result=[]}checkIsTarget(o,l){o.idx===this.targetOccurrence&&this.targetProdType===l&&(void 0===this.targetRef||o===this.targetRef)&&(this.result=o.definition)}visitOption(o){this.checkIsTarget(o,gi.OPTION)}visitRepetition(o){this.checkIsTarget(o,gi.REPETITION)}visitRepetitionMandatory(o){this.checkIsTarget(o,gi.REPETITION_MANDATORY)}visitRepetitionMandatoryWithSeparator(o){this.checkIsTarget(o,gi.REPETITION_MANDATORY_WITH_SEPARATOR)}visitRepetitionWithSeparator(o){this.checkIsTarget(o,gi.REPETITION_WITH_SEPARATOR)}visitAlternation(o){this.checkIsTarget(o,gi.ALTERNATION)}};function Wc(o){let l=new Array(o);for(let p=0;p<o;p++)l[p]=[];return l}function Li(o){let l=[""];for(let p=0;p<o.length;p++){let m=o[p],g=[];for(let o=0;o<l.length;o++){let p=l[o];g.push(p+"_"+m.tokenTypeIdx);for(let o=0;o<m.categoryMatches.length;o++){let l="_"+m.categoryMatches[o];g.push(p+l)}}l=g}return l}function iE(o,l,p){for(let m=0;m<o.length;m++){if(m===p)continue;let g=o[m];for(let o=0;o<l.length;o++){if(!0===g[l[o]])return!1}}return!0}function zc(o,l){let p=d(o,o=>Ao([o],1)),m=Wc(p.length),g=d(p,o=>{let l={};return x(o,o=>{let p=Li(o.partialPath);x(p,o=>{l[o]=!0})}),l}),y=p;for(let o=1;o<=l;o++){let p=y;y=Wc(p.length);for(let _=0;_<p.length;_++){let b=p[_];for(let p=0;p<b.length;p++){let S=b[p].partialPath,A=b[p].suffixDef,T=Li(S);if(iE(g,T,_)||C(A)||S.length===l){let o=m[_];if(!1===Ro(o,S)){o.push(S);for(let o=0;o<T.length;o++){let l=T[o];g[_][l]=!0}}}else{let l=Ao(A,o+1,S);y[_]=y[_].concat(l),x(l,o=>{let l=Li(o.partialPath);x(l,o=>{g[_][o]=!0})})}}}}return m}function en(o,l,p,m){let g=new ki(o,gi.ALTERNATION,m);return l.accept(g),zc(g.result,p)}function tn(o,l,p,m){let g=new ki(o,p);l.accept(g);let y=g.result,_=new Oi(l,o,p).startWalking();return zc([new yn({definition:y}),new yn({definition:_})],m)}function Ro(o,l){e:for(let p=0;p<o.length;p++){let m=o[p];if(m.length===l.length){for(let o=0;o<m.length;o++){let p=l[o],g=m[o];if(!1==(p===g||void 0!==g.categoryMatchesMap[p.tokenTypeIdx]))continue e}return!0}}return!1}function Yc(o){return ue(o,o=>ue(o,o=>ue(o,o=>C(o.categoryMatches))))}function Qc(o,l,p,m){let g=de(o,o=>function(o,l){let p=new Ii;o.accept(p);let m=p.allProductions,g=an(m,sE),y=Se(g,o=>o.length>1);return d(P(y),p=>{let m=se(p),g=l.buildDuplicateFoundError(o,p),y=Re(m),_={message:g,type:Co.DUPLICATE_PRODUCTIONS,ruleName:o.name,dslName:y,occurrence:m.idx},b=Zc(m);return b&&(_.parameter=b),_})}(o,p)),y=function(o,l,p){let m=[],g=d(l,o=>o.name);return x(o,o=>{let l=o.name;if(K(g,l)){let g=p.buildNamespaceConflictError(o);m.push({message:g,type:Co.CONFLICT_TOKENS_RULES_NAMESPACE,ruleName:l})}}),m}(o,l,p),_=de(o,o=>function(o,l){let p=new Fi;o.accept(p);let m=p.alternations;return de(m,p=>p.definition.length>255?[{message:l.buildTooManyAlternativesError({topLevelRule:o,alternation:p}),type:Co.TOO_MANY_ALTS,ruleName:o.name,occurrence:p.idx}]:[])}(o,p)),b=de(o,l=>function(o,l,p,m){let g=[];if(te(l,(l,p)=>p.name===o.name?l+1:l,0)>1){let l=m.buildDuplicateRuleNameError({topLevelRule:o,grammarName:p});g.push({message:l,type:Co.DUPLICATE_RULE_NAME,ruleName:o.name})}return g}(l,o,m,p));return g.concat(y,_,b)}function sE(o){return`${Re(o)}_#_${o.idx}_#_${Zc(o)}`}function Zc(o){return o instanceof An?o.terminalType.name:o instanceof mn?o.nonTerminalName:""}var Ii=class extends xn{constructor(){super(...arguments),this.allProductions=[]}visitNonTerminal(o){this.allProductions.push(o)}visitOption(o){this.allProductions.push(o)}visitRepetitionWithSeparator(o){this.allProductions.push(o)}visitRepetitionMandatory(o){this.allProductions.push(o)}visitRepetitionMandatoryWithSeparator(o){this.allProductions.push(o)}visitRepetition(o){this.allProductions.push(o)}visitAlternation(o){this.allProductions.push(o)}visitTerminal(o){this.allProductions.push(o)}};function Mi(o,l,p,m=[]){let g=[],y=Oo(l.definition);if(C(y))return[];{let l=o.name;K(y,o)&&g.push({message:p.buildLeftRecursionError({topLevelRule:o,leftRecursionPath:m}),type:Co.LEFT_RECURSION,ruleName:l});let _=Va(y,m.concat([o])),b=de(_,l=>{let g=F(m);return g.push(l),Mi(o,l,p,g)});return g.concat(b)}}function Oo(o){let l=[];if(C(o))return l;let p=se(o);if(p instanceof mn)l.push(p.referencedRule);else if(p instanceof yn||p instanceof _n||p instanceof vn||p instanceof bn||p instanceof Sn||p instanceof En)l=l.concat(Oo(p.definition));else if(p instanceof Cn)l=re(d(p.definition,o=>Oo(o.definition)));else if(!(p instanceof An))throw Error("non exhaustive match");let m=Dt(p),g=o.length>1;if(m&&g){let p=Y(o);return l.concat(Oo(p))}return l}var Fi=class extends xn{constructor(){super(...arguments),this.alternations=[]}visitAlternation(o){this.alternations.push(o)}};function tu(o,l,p){let m=new Fi;o.accept(m);let g=m.alternations;return g=bt(g,o=>!0===o.ignoreAmbiguities),de(g,m=>{let g=m.idx,y=m.maxLookahead||l,_=en(g,o,y,m),b=function(o,l,p,m){let g=[],y=te(o,(p,m,y)=>(!0===l.definition[y].ignoreAmbiguities||x(m,m=>{let _=[y];x(o,(o,p)=>{y!==p&&Ro(o,m)&&!0!==l.definition[p].ignoreAmbiguities&&_.push(p)}),_.length>1&&!Ro(g,m)&&(g.push(m),p.push({alts:_,path:m}))}),p),[]);return d(y,o=>{let g=d(o.alts,o=>o+1);return{message:m.buildAlternationAmbiguityError({topLevelRule:p,alternation:l,ambiguityIndices:g,prefixPath:o.path}),type:Co.AMBIGUOUS_ALTS,ruleName:p.name,occurrence:l.idx,alternatives:o.alts}})}(_,m,o,p),S=function(o,l,p,m){let g=te(o,(o,l,p)=>{let m=d(l,o=>({idx:p,path:o}));return o.concat(m)},[]);return ze(de(g,o=>{if(!0===l.definition[o.idx].ignoreAmbiguities)return[];let y=o.idx,_=o.path,b=fe(g,o=>!0!==l.definition[o.idx].ignoreAmbiguities&&o.idx<y&&function(o,l){return o.length<l.length&&ue(o,(o,p)=>{let m=l[p];return o===m||m.categoryMatchesMap[o.tokenTypeIdx]})}(o.path,_));return d(b,o=>{let g=[o.idx+1,y+1],_=0===l.idx?"":l.idx;return{message:m.buildAlternationPrefixAmbiguityError({topLevelRule:p,alternation:l,ambiguityIndices:g,prefixPath:o.path}),type:Co.AMBIGUOUS_PREFIX_ALTS,ruleName:p.name,occurrence:_,alternatives:g}})}))}(_,m,o,p);return b.concat(S)})}var ji=class extends xn{constructor(){super(...arguments),this.allProductions=[]}visitRepetitionWithSeparator(o){this.allProductions.push(o)}visitRepetitionMandatory(o){this.allProductions.push(o)}visitRepetitionMandatoryWithSeparator(o){this.allProductions.push(o)}visitRepetition(o){this.allProductions.push(o)}};function nu(o){let l=Na(o,{errMsgProvider:fi}),p={};return x(o.rules,o=>{p[o.name]=o}),function(o,l){let p=new vi(o,l);return p.resolveRefs(),p.errors}(p,l.errMsgProvider)}var Bi="MismatchedTokenException",Ui="NoViableAltException",qi="EarlyExitException",Zi="NotAllInputParsedException",Hi=[Bi,Ui,qi,Zi];function vt(o){return K(Hi,o.name)}Object.freeze(Hi);var Vi=class extends Error{constructor(o,l){super(o),this.token=l,this.resyncedTokens=[],Object.setPrototypeOf(this,new.target.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor)}},Gi=class extends Vi{constructor(o,l,p){super(o,l),this.previousToken=p,this.name=Bi}},zi=class extends Vi{constructor(o,l,p){super(o,l),this.previousToken=p,this.name=Ui}},Yi=class extends Vi{constructor(o,l){super(o,l),this.name=Zi}},Ji=class extends Vi{constructor(o,l,p){super(o,l),this.previousToken=p,this.name=qi}},Xi={},Qi="InRuleRecoveryException",ao=class extends Error{constructor(o){super(o),this.name=Qi}};function mE(o,l,p,m,g,y,_){let b=this.getKeyForAutomaticLookahead(m,g),S=this.firstAfterRepMap[b];if(void 0===S){let o=this.getCurrRuleFullName();S=new y(this.getGAstProductions()[o],g).startWalking(),this.firstAfterRepMap[b]=S}let A=S.token,T=S.occurrence,w=S.isEndOfRule;1===this.RULE_STACK.length&&w&&void 0===A&&(A=li,T=1),void 0!==A&&void 0!==T&&this.shouldInRepetitionRecoveryBeTried(A,T,_)&&this.tryInRepetitionRecovery(o,l,p,A)}function _o(o,l,p){return p|l|o}var so=class{constructor(o){var l;this.maxLookahead=null!==(l=null==o?void 0:o.maxLookahead)&&void 0!==l?l:xo.maxLookahead}validate(o){let l=this.validateNoLeftRecursion(o.rules);if(C(l)){let p=this.validateEmptyOrAlternatives(o.rules),m=this.validateAmbiguousAlternationAlternatives(o.rules,this.maxLookahead),g=this.validateSomeNonEmptyLookaheadPath(o.rules,this.maxLookahead);return[...l,...p,...m,...g]}return l}validateNoLeftRecursion(o){return de(o,o=>Mi(o,o,mi))}validateEmptyOrAlternatives(o){return de(o,o=>function(o,l){let p=new Fi;o.accept(p);let m=p.alternations;return de(m,p=>{let m=st(p.definition);return de(m,(m,g)=>{let y=Io([m],[],ct,1);return C(y)?[{message:l.buildEmptyAlternationError({topLevelRule:o,alternation:p,emptyChoiceIdx:g}),type:Co.NONE_LAST_EMPTY_ALT,ruleName:o.name,occurrence:p.idx,alternative:g+1}]:[]})})}(o,mi))}validateAmbiguousAlternationAlternatives(o,l){return de(o,o=>tu(o,l,mi))}validateSomeNonEmptyLookaheadPath(o,l){return function(o,l,p){let m=[];return x(o,o=>{let g=new ji;o.accept(g);let y=g.allProductions;x(y,g=>{let y=So(g),_=g.maxLookahead||l,b=tn(g.idx,o,y,_)[0];if(C(re(b))){let l=p.buildEmptyRepetitionError({topLevelRule:o,repetition:g});m.push({message:l,type:Co.NO_NON_EMPTY_LOOKAHEAD,ruleName:o.name})}})}),m}(o,l,mi)}buildLookaheadForAlternation(o){return function(o,l,p,m,g,y){let _=en(o,l,p);return y(_,m,Yc(_)?Or:ct,g)}(o.prodOccurrence,o.rule,o.maxLookahead,o.hasPredicates,o.dynamicTokensEnabled,jc)}buildLookaheadForOptional(o){return function(o,l,p,m,g,y){let _=tn(o,l,g,p),b=Yc(_)?Or:ct;return y(_[0],b,m)}(o.prodOccurrence,o.rule,o.maxLookahead,o.dynamicTokensEnabled,So(o.prodType),Hc)}},uo=new class extends xn{constructor(){super(...arguments),this.dslMethods={option:[],alternation:[],repetition:[],repetitionWithSeparator:[],repetitionMandatory:[],repetitionMandatoryWithSeparator:[]}}reset(){this.dslMethods={option:[],alternation:[],repetition:[],repetitionWithSeparator:[],repetitionMandatory:[],repetitionMandatoryWithSeparator:[]}}visitOption(o){this.dslMethods.option.push(o)}visitRepetitionWithSeparator(o){this.dslMethods.repetitionWithSeparator.push(o)}visitRepetitionMandatory(o){this.dslMethods.repetitionMandatory.push(o)}visitRepetitionMandatoryWithSeparator(o){this.dslMethods.repetitionMandatoryWithSeparator.push(o)}visitRepetition(o){this.dslMethods.repetition.push(o)}visitAlternation(o){this.dslMethods.alternation.push(o)}};function Ki(o,l){!0===isNaN(o.startOffset)?(o.startOffset=l.startOffset,o.endOffset=l.endOffset):o.endOffset<l.endOffset&&(o.endOffset=l.endOffset)}function Wi(o,l){!0===isNaN(o.startOffset)?(o.startOffset=l.startOffset,o.startColumn=l.startColumn,o.startLine=l.startLine,o.endOffset=l.endOffset,o.endColumn=l.endColumn,o.endLine=l.endLine):o.endOffset<l.endOffset&&(o.endOffset=l.endOffset,o.endColumn=l.endColumn,o.endLine=l.endLine)}var co;function $i(o,l){Object.defineProperty(o,"name",{enumerable:!1,configurable:!0,writable:!1,value:l})}function gE(o,l){let p=M(o),m=p.length;for(let g=0;g<m;g++){let m=o[p[g]],y=m.length;for(let o=0;o<y;o++){let p=m[o];void 0===p.tokenTypeIdx&&this[p.name](p.children,l)}}}function pu(o,l){let r=function(){};$i(r,o+"BaseSemantics");let p={visit:function(o,l){if(O(o)&&(o=o[0]),!pe(o))return this[o.name](o.children,l)},validateVisitor:function(){let o=function(o,l){return function(o,l){let p=fe(l,l=>!1===he(o[l])),m=d(p,l=>({msg:`Missing visitor method: <${l}> on ${o.constructor.name} CST Visitor.`,type:co.MISSING_METHOD,methodName:l}));return ze(m)}(o,l)}(this,l);if(!C(o)){let l=d(o,o=>o.msg);throw Error(`Errors Detected in CST Visitor <${this.constructor.name}>:\n\t${l.join("\n\n").replace(/\n/g,"\n\t")}`)}}};return(r.prototype=p).constructor=r,r._RULE_NAMES=l,r}!function(o){o[o.REDUNDANT_METHOD=0]="REDUNDANT_METHOD",o[o.MISSING_METHOD=1]="MISSING_METHOD"}(co||(co={}));var ho={description:"This Object indicates the Parser is during Recording Phase"};Object.freeze(ho);var mo=!0,go=Math.pow(2,8)-1,yo=h({name:"RECORDING_PHASE_TOKEN",pattern:Xs.NA});ut([yo]);var vo=$t(yo,"This IToken indicates the Parser is in Recording Phase\n\tSee: https://chevrotain.io/docs/guide/internals.html#grammar-recording for details",-1,-1,-1,-1,-1,-1);Object.freeze(vo);var bo={name:"This CSTNode indicates the Parser is in Recording Phase\n\tSee: https://chevrotain.io/docs/guide/internals.html#grammar-recording for details",children:{}};function cn(o,l,p,m=!1){Go(p);let g=Xe(this.recordingProdStack),y=he(l)?l:l.DEF,_=new o({definition:[],idx:p});return m&&(_.separator=l.SEP),E(l,"MAX_LOOKAHEAD")&&(_.maxLookahead=l.MAX_LOOKAHEAD),this.recordingProdStack.push(_),y.call(this),g.definition.push(_),this.recordingProdStack.pop(),ho}function IE(o,l){Go(l);let p=Xe(this.recordingProdStack),m=!1===O(o),g=!1===m?o:o.DEF,y=new Cn({definition:[],idx:l,ignoreAmbiguities:m&&!0===o.IGNORE_AMBIGUITIES});E(o,"MAX_LOOKAHEAD")&&(y.maxLookahead=o.MAX_LOOKAHEAD);let _=Wr(g,o=>he(o.GATE));return y.hasPredicates=_,p.definition.push(y),x(g,o=>{let l=new yn({definition:[]});y.definition.push(l),E(o,"IGNORE_AMBIGUITIES")?l.ignoreAmbiguities=o.IGNORE_AMBIGUITIES:E(o,"GATE")&&(l.ignoreAmbiguities=!0),this.recordingProdStack.push(l),o.ALT.call(this),this.recordingProdStack.pop()}),ho}function gu(o){return 0===o?"":`${o}`}function Go(o){if(o<0||o>go){let l=new Error(`Invalid DSL Method idx value: <${o}>\n\tIdx value must be a none negative value smaller than ${go+1}`);throw l.KNOWN_RECORDER_ERROR=!0,l}}var Eo=$t(li,"",NaN,NaN,NaN,NaN,NaN,NaN);Object.freeze(Eo);var Co,xo=Object.freeze({recoveryEnabled:!1,maxLookahead:3,dynamicTokensEnabled:!1,outputCst:!0,errorMessageProvider:hi,nodeLocationTracking:"none",traceInitPerf:!1,skipValidations:!1}),To=Object.freeze({recoveryValueFunc:()=>{},resyncEnabled:!0});!function(o){o[o.INVALID_RULE_NAME=0]="INVALID_RULE_NAME",o[o.DUPLICATE_RULE_NAME=1]="DUPLICATE_RULE_NAME",o[o.INVALID_RULE_OVERRIDE=2]="INVALID_RULE_OVERRIDE",o[o.DUPLICATE_PRODUCTIONS=3]="DUPLICATE_PRODUCTIONS",o[o.UNRESOLVED_SUBRULE_REF=4]="UNRESOLVED_SUBRULE_REF",o[o.LEFT_RECURSION=5]="LEFT_RECURSION",o[o.NONE_LAST_EMPTY_ALT=6]="NONE_LAST_EMPTY_ALT",o[o.AMBIGUOUS_ALTS=7]="AMBIGUOUS_ALTS",o[o.CONFLICT_TOKENS_RULES_NAMESPACE=8]="CONFLICT_TOKENS_RULES_NAMESPACE",o[o.INVALID_TOKEN_NAME=9]="INVALID_TOKEN_NAME",o[o.NO_NON_EMPTY_LOOKAHEAD=10]="NO_NON_EMPTY_LOOKAHEAD",o[o.AMBIGUOUS_PREFIX_ALTS=11]="AMBIGUOUS_PREFIX_ALTS",o[o.TOO_MANY_ALTS=12]="TOO_MANY_ALTS",o[o.CUSTOM_LOOKAHEAD_VALIDATION=13]="CUSTOM_LOOKAHEAD_VALIDATION"}(Co||(Co={}));var wo=class o{static performSelfAnalysis(o){throw Error("The **static** `performSelfAnalysis` method has been deprecated.\t\nUse the **instance** method with the same name instead.")}performSelfAnalysis(){this.TRACE_INIT("performSelfAnalysis",()=>{let l;this.selfAnalysisDone=!0;let p=this.className;this.TRACE_INIT("toFastProps",()=>{jr(this)}),this.TRACE_INIT("Grammar Recording",()=>{try{this.enableRecording(),x(this.definedRulesNames,o=>{let l,p=this[o].originalGrammarAction;this.TRACE_INIT(`${o} Rule`,()=>{l=this.topLevelRuleRecord(o,p)}),this.gastProductionsCache[o]=l})}finally{this.disableRecording()}});let m=[];if(this.TRACE_INIT("Grammar Resolving",()=>{m=nu({rules:P(this.gastProductionsCache)}),this.definitionErrors=this.definitionErrors.concat(m)}),this.TRACE_INIT("Grammar Validations",()=>{if(C(m)&&!1===this.skipValidations){let o=function(o){return Qc((o=Na(o,{errMsgProvider:mi})).rules,o.tokenTypes,o.errMsgProvider,o.grammarName)}({rules:P(this.gastProductionsCache),tokenTypes:P(this.tokensMap),errMsgProvider:mi,grammarName:p}),l=function(o){let l=o.lookaheadStrategy.validate({rules:o.rules,tokenTypes:o.tokenTypes,grammarName:o.grammarName});return d(l,o=>Object.assign({type:Co.CUSTOM_LOOKAHEAD_VALIDATION},o))}({lookaheadStrategy:this.lookaheadStrategy,rules:P(this.gastProductionsCache),tokenTypes:P(this.tokensMap),grammarName:p});this.definitionErrors=this.definitionErrors.concat(o,l)}}),C(this.definitionErrors)&&(this.recoveryEnabled&&this.TRACE_INIT("computeAllProdsFollows",()=>{let o=function(o){let l={};return x(o,o=>{let p=new Rn(o).startWalking();_t(l,p)}),l}(P(this.gastProductionsCache));this.resyncFollows=o}),this.TRACE_INIT("ComputeLookaheadFunctions",()=>{var o,l;null===(l=(o=this.lookaheadStrategy).initialize)||void 0===l||l.call(o,{rules:P(this.gastProductionsCache)}),this.preComputeLookaheadFunctions(P(this.gastProductionsCache))})),!o.DEFER_DEFINITION_ERRORS_HANDLING&&!C(this.definitionErrors))throw l=d(this.definitionErrors,o=>o.message),new Error(`Parser Definition Errors detected:\n ${l.join("\n-------------------------------\n")}`)})}constructor(o,l){this.definitionErrors=[],this.selfAnalysisDone=!1;let p=this;if(p.initErrorHandler(l),p.initLexerAdapter(),p.initLooksAhead(l),p.initRecognizerEngine(o,l),p.initRecoverable(l),p.initTreeBuilder(l),p.initContentAssist(),p.initGastRecorder(l),p.initPerformanceTracer(l),E(l,"ignoredIssues"))throw new Error("The <ignoredIssues> IParserConfig property has been deprecated.\n\tPlease use the <IGNORE_AMBIGUITIES> flag on the relevant DSL method instead.\n\tSee: https://chevrotain.io/docs/guide/resolving_grammar_errors.html#IGNORING_AMBIGUITIES\n\tFor further details.");this.skipValidations=E(l,"skipValidations")?l.skipValidations:xo.skipValidations}};wo.DEFER_DEFINITION_ERRORS_HANDLING=!1,function(o,l){l.forEach(l=>{let p=l.prototype;Object.getOwnPropertyNames(p).forEach(m=>{if("constructor"===m)return;let g=Object.getOwnPropertyDescriptor(p,m);g&&(g.get||g.set)?Object.defineProperty(o.prototype,m,g):o.prototype[m]=l.prototype[m]})})}(wo,[class{initRecoverable(o){this.firstAfterRepMap={},this.resyncFollows={},this.recoveryEnabled=E(o,"recoveryEnabled")?o.recoveryEnabled:xo.recoveryEnabled,this.recoveryEnabled&&(this.attemptInRepetitionRecovery=mE)}getTokenToInsert(o){let l=$t(o,"",NaN,NaN,NaN,NaN,NaN,NaN);return l.isInsertedInRecovery=!0,l}canTokenTypeBeInsertedInRecovery(o){return!0}canTokenTypeBeDeletedInRecovery(o){return!0}tryInRepetitionRecovery(o,l,p,m){let g=this.findReSyncTokenType(),y=this.exportLexerState(),_=[],b=!1,S=this.LA(1),A=this.LA(1),f=()=>{let o=this.LA(0),l=this.errorMessageProvider.buildMismatchTokenMessage({expected:m,actual:S,previous:o,ruleName:this.getCurrRuleFullName()}),p=new Gi(l,S,this.LA(0));p.resyncedTokens=st(_),this.SAVE_ERROR(p)};for(;!b;){if(this.tokenMatcher(A,m))return void f();if(p.call(this))return f(),void o.apply(this,l);this.tokenMatcher(A,g)?b=!0:(A=this.SKIP_TOKEN(),this.addToResyncTokens(A,_))}this.importLexerState(y)}shouldInRepetitionRecoveryBeTried(o,l,p){return!(!1===p||this.tokenMatcher(this.LA(1),o)||this.isBackTracking()||this.canPerformInRuleRecovery(o,this.getFollowsForInRuleRecovery(o,l)))}getFollowsForInRuleRecovery(o,l){let p=this.getCurrentGrammarPath(o,l);return this.getNextPossibleTokenTypes(p)}tryInRuleRecovery(o,l){if(this.canRecoverWithSingleTokenInsertion(o,l))return this.getTokenToInsert(o);if(this.canRecoverWithSingleTokenDeletion(o)){let o=this.SKIP_TOKEN();return this.consumeToken(),o}throw new ao("sad sad panda")}canPerformInRuleRecovery(o,l){return this.canRecoverWithSingleTokenInsertion(o,l)||this.canRecoverWithSingleTokenDeletion(o)}canRecoverWithSingleTokenInsertion(o,l){if(!this.canTokenTypeBeInsertedInRecovery(o)||C(l))return!1;let p=this.LA(1);return void 0!==Ja(l,o=>this.tokenMatcher(p,o))}canRecoverWithSingleTokenDeletion(o){return!!this.canTokenTypeBeDeletedInRecovery(o)&&this.tokenMatcher(this.LA(2),o)}isInCurrentRuleReSyncSet(o){let l=this.getCurrFollowKey(),p=this.getFollowSetFromFollowKey(l);return K(p,o)}findReSyncTokenType(){let o=this.flattenFollowSet(),l=this.LA(1),p=2;for(;;){let m=Ja(o,o=>_i(l,o));if(void 0!==m)return m;l=this.LA(p),p++}}getCurrFollowKey(){if(1===this.RULE_STACK.length)return Xi;let o=this.getLastExplicitRuleShortName(),l=this.getLastExplicitRuleOccurrenceIndex(),p=this.getPreviousExplicitRuleShortName();return{ruleName:this.shortRuleNameToFullName(o),idxInCallingRule:l,inRule:this.shortRuleNameToFullName(p)}}buildFullFollowKeyStack(){let o=this.RULE_STACK,l=this.RULE_OCCURRENCE_STACK;return d(o,(p,m)=>0===m?Xi:{ruleName:this.shortRuleNameToFullName(p),idxInCallingRule:l[m],inRule:this.shortRuleNameToFullName(o[m-1])})}flattenFollowSet(){let o=d(this.buildFullFollowKeyStack(),o=>this.getFollowSetFromFollowKey(o));return re(o)}getFollowSetFromFollowKey(o){if(o===Xi)return[li];let l=o.ruleName+o.idxInCallingRule+Pn+o.inRule;return this.resyncFollows[l]}addToResyncTokens(o,l){return this.tokenMatcher(o,li)||l.push(o),l}reSyncTo(o){let l=[],p=this.LA(1);for(;!1===this.tokenMatcher(p,o);)p=this.SKIP_TOKEN(),this.addToResyncTokens(p,l);return st(l)}attemptInRepetitionRecovery(o,l,p,m,g,y,_){}getCurrentGrammarPath(o,l){return{ruleStack:this.getHumanReadableRuleStack(),occurrenceStack:F(this.RULE_OCCURRENCE_STACK),lastTok:o,lastTokOccurrence:l}}getHumanReadableRuleStack(){return d(this.RULE_STACK,o=>this.shortRuleNameToFullName(o))}},class{initLooksAhead(o){this.dynamicTokensEnabled=E(o,"dynamicTokensEnabled")?o.dynamicTokensEnabled:xo.dynamicTokensEnabled,this.maxLookahead=E(o,"maxLookahead")?o.maxLookahead:xo.maxLookahead,this.lookaheadStrategy=E(o,"lookaheadStrategy")?o.lookaheadStrategy:new so({maxLookahead:this.maxLookahead}),this.lookAheadFuncsCache=new Map}preComputeLookaheadFunctions(o){x(o,o=>{this.TRACE_INIT(`${o.name} Rule Lookahead`,()=>{let{alternation:l,repetition:p,option:m,repetitionMandatory:g,repetitionMandatoryWithSeparator:y,repetitionWithSeparator:_}=function(o){uo.reset(),o.accept(uo);let l=uo.dslMethods;return uo.reset(),l}(o);x(l,l=>{let p=0===l.idx?"":l.idx;this.TRACE_INIT(`${Re(l)}${p}`,()=>{let p=this.lookaheadStrategy.buildLookaheadForAlternation({prodOccurrence:l.idx,rule:o,maxLookahead:l.maxLookahead||this.maxLookahead,hasPredicates:l.hasPredicates,dynamicTokensEnabled:this.dynamicTokensEnabled}),m=_o(this.fullRuleNameToShort[o.name],256,l.idx);this.setLaFuncCache(m,p)})}),x(p,l=>{this.computeLookaheadFunc(o,l.idx,768,"Repetition",l.maxLookahead,Re(l))}),x(m,l=>{this.computeLookaheadFunc(o,l.idx,512,"Option",l.maxLookahead,Re(l))}),x(g,l=>{this.computeLookaheadFunc(o,l.idx,1024,"RepetitionMandatory",l.maxLookahead,Re(l))}),x(y,l=>{this.computeLookaheadFunc(o,l.idx,1536,"RepetitionMandatoryWithSeparator",l.maxLookahead,Re(l))}),x(_,l=>{this.computeLookaheadFunc(o,l.idx,1280,"RepetitionWithSeparator",l.maxLookahead,Re(l))})})})}computeLookaheadFunc(o,l,p,m,g,y){this.TRACE_INIT(`${y}${0===l?"":l}`,()=>{let y=this.lookaheadStrategy.buildLookaheadForOptional({prodOccurrence:l,rule:o,maxLookahead:g||this.maxLookahead,dynamicTokensEnabled:this.dynamicTokensEnabled,prodType:m}),_=_o(this.fullRuleNameToShort[o.name],p,l);this.setLaFuncCache(_,y)})}getKeyForAutomaticLookahead(o,l){return _o(this.getLastExplicitRuleShortName(),o,l)}getLaFuncFromCache(o){return this.lookAheadFuncsCache.get(o)}setLaFuncCache(o,l){this.lookAheadFuncsCache.set(o,l)}},class{initTreeBuilder(o){if(this.CST_STACK=[],this.outputCst=o.outputCst,this.nodeLocationTracking=E(o,"nodeLocationTracking")?o.nodeLocationTracking:xo.nodeLocationTracking,this.outputCst)if(/full/i.test(this.nodeLocationTracking))this.recoveryEnabled?(this.setNodeLocationFromToken=Wi,this.setNodeLocationFromNode=Wi,this.cstPostRule=V,this.setInitialNodeLocation=this.setInitialNodeLocationFullRecovery):(this.setNodeLocationFromToken=V,this.setNodeLocationFromNode=V,this.cstPostRule=this.cstPostRuleFull,this.setInitialNodeLocation=this.setInitialNodeLocationFullRegular);else if(/onlyOffset/i.test(this.nodeLocationTracking))this.recoveryEnabled?(this.setNodeLocationFromToken=Ki,this.setNodeLocationFromNode=Ki,this.cstPostRule=V,this.setInitialNodeLocation=this.setInitialNodeLocationOnlyOffsetRecovery):(this.setNodeLocationFromToken=V,this.setNodeLocationFromNode=V,this.cstPostRule=this.cstPostRuleOnlyOffset,this.setInitialNodeLocation=this.setInitialNodeLocationOnlyOffsetRegular);else{if(!/none/i.test(this.nodeLocationTracking))throw Error(`Invalid <nodeLocationTracking> config option: "${o.nodeLocationTracking}"`);this.setNodeLocationFromToken=V,this.setNodeLocationFromNode=V,this.cstPostRule=V,this.setInitialNodeLocation=V}else this.cstInvocationStateUpdate=V,this.cstFinallyStateUpdate=V,this.cstPostTerminal=V,this.cstPostNonTerminal=V,this.cstPostRule=V}setInitialNodeLocationOnlyOffsetRecovery(o){o.location={startOffset:NaN,endOffset:NaN}}setInitialNodeLocationOnlyOffsetRegular(o){o.location={startOffset:this.LA(1).startOffset,endOffset:NaN}}setInitialNodeLocationFullRecovery(o){o.location={startOffset:NaN,startLine:NaN,startColumn:NaN,endOffset:NaN,endLine:NaN,endColumn:NaN}}setInitialNodeLocationFullRegular(o){let l=this.LA(1);o.location={startOffset:l.startOffset,startLine:l.startLine,startColumn:l.startColumn,endOffset:NaN,endLine:NaN,endColumn:NaN}}cstInvocationStateUpdate(o){let l={name:o,children:Object.create(null)};this.setInitialNodeLocation(l),this.CST_STACK.push(l)}cstFinallyStateUpdate(){this.CST_STACK.pop()}cstPostRuleFull(o){let l=this.LA(0),p=o.location;p.startOffset<=l.startOffset?(p.endOffset=l.endOffset,p.endLine=l.endLine,p.endColumn=l.endColumn):(p.startOffset=NaN,p.startLine=NaN,p.startColumn=NaN)}cstPostRuleOnlyOffset(o){let l=this.LA(0),p=o.location;p.startOffset<=l.startOffset?p.endOffset=l.endOffset:p.startOffset=NaN}cstPostTerminal(o,l){let p=this.CST_STACK[this.CST_STACK.length-1];(function(o,l,p){void 0===o.children[p]?o.children[p]=[l]:o.children[p].push(l)})(p,l,o),this.setNodeLocationFromToken(p.location,l)}cstPostNonTerminal(o,l){let p=this.CST_STACK[this.CST_STACK.length-1];(function(o,l,p){void 0===o.children[l]?o.children[l]=[p]:o.children[l].push(p)})(p,l,o),this.setNodeLocationFromNode(p.location,o.location)}getBaseCstVisitorConstructor(){if(pe(this.baseCstVisitorConstructor)){let o=pu(this.className,M(this.gastProductionsCache));return this.baseCstVisitorConstructor=o,o}return this.baseCstVisitorConstructor}getBaseCstVisitorConstructorWithDefaults(){if(pe(this.baseCstVisitorWithDefaultsConstructor)){let o=function(o,l,p){let n=function(){};$i(n,o+"BaseSemanticsWithDefaults");let m=Object.create(p.prototype);return x(l,o=>{m[o]=gE}),(n.prototype=m).constructor=n,n}(this.className,M(this.gastProductionsCache),this.getBaseCstVisitorConstructor());return this.baseCstVisitorWithDefaultsConstructor=o,o}return this.baseCstVisitorWithDefaultsConstructor}getLastExplicitRuleShortName(){let o=this.RULE_STACK;return o[o.length-1]}getPreviousExplicitRuleShortName(){let o=this.RULE_STACK;return o[o.length-2]}getLastExplicitRuleOccurrenceIndex(){let o=this.RULE_OCCURRENCE_STACK;return o[o.length-1]}},class{initLexerAdapter(){this.tokVector=[],this.tokVectorLength=0,this.currIdx=-1}set input(o){if(!0!==this.selfAnalysisDone)throw Error("Missing <performSelfAnalysis> invocation at the end of the Parser's constructor.");this.reset(),this.tokVector=o,this.tokVectorLength=o.length}get input(){return this.tokVector}SKIP_TOKEN(){return this.currIdx<=this.tokVector.length-2?(this.consumeToken(),this.LA(1)):Eo}LA(o){let l=this.currIdx+o;return l<0||this.tokVectorLength<=l?Eo:this.tokVector[l]}consumeToken(){this.currIdx++}exportLexerState(){return this.currIdx}importLexerState(o){this.currIdx=o}resetLexerState(){this.currIdx=-1}moveToTerminatedState(){this.currIdx=this.tokVector.length-1}getLexerPosition(){return this.exportLexerState()}},class{initRecognizerEngine(o,l){if(this.className=this.constructor.name,this.shortRuleNameToFull={},this.fullRuleNameToShort={},this.ruleShortNameIdx=256,this.tokenMatcher=Or,this.subruleIdx=0,this.definedRulesNames=[],this.tokensMap={},this.isBackTrackingStack=[],this.RULE_STACK=[],this.RULE_OCCURRENCE_STACK=[],this.gastProductionsCache={},E(l,"serializedGrammar"))throw Error("The Parser's configuration can no longer contain a <serializedGrammar> property.\n\tSee: https://chevrotain.io/docs/changes/BREAKING_CHANGES.html#_6-0-0\n\tFor Further details.");if(O(o)){if(C(o))throw Error("A Token Vocabulary cannot be empty.\n\tNote that the first argument for the parser constructor\n\tis no longer a Token vector (since v4.0).");if("number"==typeof o[0].startOffset)throw Error("The Parser constructor no longer accepts a token vector as the first argument.\n\tSee: https://chevrotain.io/docs/changes/BREAKING_CHANGES.html#_4-0-0\n\tFor Further details.")}if(O(o))this.tokensMap=te(o,(o,l)=>(o[l.name]=l,o),{});else if(E(o,"modes")&&ue(re(P(o.modes)),vc)){let l=re(P(o.modes)),p=Tr(l);this.tokensMap=te(p,(o,l)=>(o[l.name]=l,o),{})}else{if(!$(o))throw new Error("<tokensDictionary> argument must be An Array of Token constructors, A dictionary of Token constructors or an IMultiModeLexerDefinition");this.tokensMap=F(o)}this.tokensMap.EOF=li;let p=E(o,"modes")?re(P(o.modes)):P(o),m=ue(p,o=>C(o.categoryMatches));this.tokenMatcher=m?Or:ct,ut(P(this.tokensMap))}defineRule(o,l,p){if(this.selfAnalysisDone)throw Error(`Grammar rule <${o}> may not be defined after the 'performSelfAnalysis' method has been called'\nMake sure that all grammar rule definitions are done before 'performSelfAnalysis' is called.`);let m,g=E(p,"resyncEnabled")?p.resyncEnabled:To.resyncEnabled,y=E(p,"recoveryValueFunc")?p.recoveryValueFunc:To.recoveryValueFunc,_=this.ruleShortNameIdx<<12;return this.ruleShortNameIdx++,this.shortRuleNameToFull[_]=o,this.fullRuleNameToShort[o]=_,m=!0===this.outputCst?function(...p){try{this.ruleInvocationStateUpdate(_,o,this.subruleIdx),l.apply(this,p);let m=this.CST_STACK[this.CST_STACK.length-1];return this.cstPostRule(m),m}catch(o){return this.invokeRuleCatch(o,g,y)}finally{this.ruleFinallyStateUpdate()}}:function(...p){try{return this.ruleInvocationStateUpdate(_,o,this.subruleIdx),l.apply(this,p)}catch(o){return this.invokeRuleCatch(o,g,y)}finally{this.ruleFinallyStateUpdate()}},Object.assign(m,{ruleName:o,originalGrammarAction:l})}invokeRuleCatch(o,l,p){let m=1===this.RULE_STACK.length,g=l&&!this.isBackTracking()&&this.recoveryEnabled;if(vt(o)){let l=o;if(g){let m=this.findReSyncTokenType();if(this.isInCurrentRuleReSyncSet(m)){if(l.resyncedTokens=this.reSyncTo(m),this.outputCst){let o=this.CST_STACK[this.CST_STACK.length-1];return o.recoveredNode=!0,o}return p(o)}if(this.outputCst){let o=this.CST_STACK[this.CST_STACK.length-1];o.recoveredNode=!0,l.partialCstResult=o}throw l}if(m)return this.moveToTerminatedState(),p(o);throw l}throw o}optionInternal(o,l){let p=this.getKeyForAutomaticLookahead(512,l);return this.optionInternalLogic(o,l,p)}optionInternalLogic(o,l,p){let m,g=this.getLaFuncFromCache(p);if("function"!=typeof o){m=o.DEF;let l=o.GATE;if(void 0!==l){let o=g;g=()=>l.call(this)&&o.call(this)}}else m=o;if(!0===g.call(this))return m.call(this)}atLeastOneInternal(o,l){let p=this.getKeyForAutomaticLookahead(1024,o);return this.atLeastOneInternalLogic(o,l,p)}atLeastOneInternalLogic(o,l,p){let m,g=this.getLaFuncFromCache(p);if("function"!=typeof l){m=l.DEF;let o=l.GATE;if(void 0!==o){let l=g;g=()=>o.call(this)&&l.call(this)}}else m=l;if(!0!==g.call(this))throw this.raiseEarlyExitException(o,gi.REPETITION_MANDATORY,l.ERR_MSG);{let o=this.doSingleRepetition(m);for(;!0===g.call(this)&&!0===o;)o=this.doSingleRepetition(m)}this.attemptInRepetitionRecovery(this.atLeastOneInternal,[o,l],g,1024,o,Pi)}atLeastOneSepFirstInternal(o,l){let p=this.getKeyForAutomaticLookahead(1536,o);this.atLeastOneSepFirstInternalLogic(o,l,p)}atLeastOneSepFirstInternalLogic(o,l,p){let m=l.DEF,g=l.SEP;if(!0!==this.getLaFuncFromCache(p).call(this))throw this.raiseEarlyExitException(o,gi.REPETITION_MANDATORY_WITH_SEPARATOR,l.ERR_MSG);{m.call(this);let s=()=>this.tokenMatcher(this.LA(1),g);for(;!0===this.tokenMatcher(this.LA(1),g);)this.CONSUME(g),m.call(this);this.attemptInRepetitionRecovery(this.repetitionSepSecondInternal,[o,g,s,m,Di],s,1536,o,Di)}}manyInternal(o,l){let p=this.getKeyForAutomaticLookahead(768,o);return this.manyInternalLogic(o,l,p)}manyInternalLogic(o,l,p){let m,g=this.getLaFuncFromCache(p);if("function"!=typeof l){m=l.DEF;let o=l.GATE;if(void 0!==o){let l=g;g=()=>o.call(this)&&l.call(this)}}else m=l;let y=!0;for(;!0===g.call(this)&&!0===y;)y=this.doSingleRepetition(m);this.attemptInRepetitionRecovery(this.manyInternal,[o,l],g,768,o,Ti,y)}manySepFirstInternal(o,l){let p=this.getKeyForAutomaticLookahead(1280,o);this.manySepFirstInternalLogic(o,l,p)}manySepFirstInternalLogic(o,l,p){let m=l.DEF,g=l.SEP;if(!0===this.getLaFuncFromCache(p).call(this)){m.call(this);let s=()=>this.tokenMatcher(this.LA(1),g);for(;!0===this.tokenMatcher(this.LA(1),g);)this.CONSUME(g),m.call(this);this.attemptInRepetitionRecovery(this.repetitionSepSecondInternal,[o,g,s,m,wi],s,1280,o,wi)}}repetitionSepSecondInternal(o,l,p,m,g){for(;p();)this.CONSUME(l),m.call(this);this.attemptInRepetitionRecovery(this.repetitionSepSecondInternal,[o,l,p,m,g],p,1536,o,g)}doSingleRepetition(o){let l=this.getLexerPosition();return o.call(this),this.getLexerPosition()>l}orInternal(o,l){let p=this.getKeyForAutomaticLookahead(256,l),m=O(o)?o:o.DEF,g=this.getLaFuncFromCache(p).call(this,m);if(void 0!==g)return m[g].ALT.call(this);this.raiseNoAltException(l,o.ERR_MSG)}ruleFinallyStateUpdate(){if(this.RULE_STACK.pop(),this.RULE_OCCURRENCE_STACK.pop(),this.cstFinallyStateUpdate(),0===this.RULE_STACK.length&&!1===this.isAtEndOfInput()){let o=this.LA(1),l=this.errorMessageProvider.buildNotAllInputParsedMessage({firstRedundant:o,ruleName:this.getCurrRuleFullName()});this.SAVE_ERROR(new Yi(l,o))}}subruleInternal(o,l,p){let m;try{let g=void 0!==p?p.ARGS:void 0;return this.subruleIdx=l,m=o.apply(this,g),this.cstPostNonTerminal(m,void 0!==p&&void 0!==p.LABEL?p.LABEL:o.ruleName),m}catch(l){throw this.subruleInternalError(l,p,o.ruleName)}}subruleInternalError(o,l,p){throw vt(o)&&void 0!==o.partialCstResult&&(this.cstPostNonTerminal(o.partialCstResult,void 0!==l&&void 0!==l.LABEL?l.LABEL:p),delete o.partialCstResult),o}consumeInternal(o,l,p){let m;try{let l=this.LA(1);!0===this.tokenMatcher(l,o)?(this.consumeToken(),m=l):this.consumeInternalError(o,l,p)}catch(p){m=this.consumeInternalRecovery(o,l,p)}return this.cstPostTerminal(void 0!==p&&void 0!==p.LABEL?p.LABEL:o.name,m),m}consumeInternalError(o,l,p){let m,g=this.LA(0);throw m=void 0!==p&&p.ERR_MSG?p.ERR_MSG:this.errorMessageProvider.buildMismatchTokenMessage({expected:o,actual:l,previous:g,ruleName:this.getCurrRuleFullName()}),this.SAVE_ERROR(new Gi(m,l,g))}consumeInternalRecovery(o,l,p){if(!this.recoveryEnabled||"MismatchedTokenException"!==p.name||this.isBackTracking())throw p;{let m=this.getFollowsForInRuleRecovery(o,l);try{return this.tryInRuleRecovery(o,m)}catch(o){throw o.name===Qi?p:o}}}saveRecogState(){let o=this.errors,l=F(this.RULE_STACK);return{errors:o,lexerState:this.exportLexerState(),RULE_STACK:l,CST_STACK:this.CST_STACK}}reloadRecogState(o){this.errors=o.errors,this.importLexerState(o.lexerState),this.RULE_STACK=o.RULE_STACK}ruleInvocationStateUpdate(o,l,p){this.RULE_OCCURRENCE_STACK.push(p),this.RULE_STACK.push(o),this.cstInvocationStateUpdate(l)}isBackTracking(){return 0!==this.isBackTrackingStack.length}getCurrRuleFullName(){let o=this.getLastExplicitRuleShortName();return this.shortRuleNameToFull[o]}shortRuleNameToFullName(o){return this.shortRuleNameToFull[o]}isAtEndOfInput(){return this.tokenMatcher(this.LA(1),li)}reset(){this.resetLexerState(),this.subruleIdx=0,this.isBackTrackingStack=[],this.errors=[],this.RULE_STACK=[],this.CST_STACK=[],this.RULE_OCCURRENCE_STACK=[]}},class{ACTION(o){return o.call(this)}consume(o,l,p){return this.consumeInternal(l,o,p)}subrule(o,l,p){return this.subruleInternal(l,o,p)}option(o,l){return this.optionInternal(l,o)}or(o,l){return this.orInternal(l,o)}many(o,l){return this.manyInternal(o,l)}atLeastOne(o,l){return this.atLeastOneInternal(o,l)}CONSUME(o,l){return this.consumeInternal(o,0,l)}CONSUME1(o,l){return this.consumeInternal(o,1,l)}CONSUME2(o,l){return this.consumeInternal(o,2,l)}CONSUME3(o,l){return this.consumeInternal(o,3,l)}CONSUME4(o,l){return this.consumeInternal(o,4,l)}CONSUME5(o,l){return this.consumeInternal(o,5,l)}CONSUME6(o,l){return this.consumeInternal(o,6,l)}CONSUME7(o,l){return this.consumeInternal(o,7,l)}CONSUME8(o,l){return this.consumeInternal(o,8,l)}CONSUME9(o,l){return this.consumeInternal(o,9,l)}SUBRULE(o,l){return this.subruleInternal(o,0,l)}SUBRULE1(o,l){return this.subruleInternal(o,1,l)}SUBRULE2(o,l){return this.subruleInternal(o,2,l)}SUBRULE3(o,l){return this.subruleInternal(o,3,l)}SUBRULE4(o,l){return this.subruleInternal(o,4,l)}SUBRULE5(o,l){return this.subruleInternal(o,5,l)}SUBRULE6(o,l){return this.subruleInternal(o,6,l)}SUBRULE7(o,l){return this.subruleInternal(o,7,l)}SUBRULE8(o,l){return this.subruleInternal(o,8,l)}SUBRULE9(o,l){return this.subruleInternal(o,9,l)}OPTION(o){return this.optionInternal(o,0)}OPTION1(o){return this.optionInternal(o,1)}OPTION2(o){return this.optionInternal(o,2)}OPTION3(o){return this.optionInternal(o,3)}OPTION4(o){return this.optionInternal(o,4)}OPTION5(o){return this.optionInternal(o,5)}OPTION6(o){return this.optionInternal(o,6)}OPTION7(o){return this.optionInternal(o,7)}OPTION8(o){return this.optionInternal(o,8)}OPTION9(o){return this.optionInternal(o,9)}OR(o){return this.orInternal(o,0)}OR1(o){return this.orInternal(o,1)}OR2(o){return this.orInternal(o,2)}OR3(o){return this.orInternal(o,3)}OR4(o){return this.orInternal(o,4)}OR5(o){return this.orInternal(o,5)}OR6(o){return this.orInternal(o,6)}OR7(o){return this.orInternal(o,7)}OR8(o){return this.orInternal(o,8)}OR9(o){return this.orInternal(o,9)}MANY(o){this.manyInternal(0,o)}MANY1(o){this.manyInternal(1,o)}MANY2(o){this.manyInternal(2,o)}MANY3(o){this.manyInternal(3,o)}MANY4(o){this.manyInternal(4,o)}MANY5(o){this.manyInternal(5,o)}MANY6(o){this.manyInternal(6,o)}MANY7(o){this.manyInternal(7,o)}MANY8(o){this.manyInternal(8,o)}MANY9(o){this.manyInternal(9,o)}MANY_SEP(o){this.manySepFirstInternal(0,o)}MANY_SEP1(o){this.manySepFirstInternal(1,o)}MANY_SEP2(o){this.manySepFirstInternal(2,o)}MANY_SEP3(o){this.manySepFirstInternal(3,o)}MANY_SEP4(o){this.manySepFirstInternal(4,o)}MANY_SEP5(o){this.manySepFirstInternal(5,o)}MANY_SEP6(o){this.manySepFirstInternal(6,o)}MANY_SEP7(o){this.manySepFirstInternal(7,o)}MANY_SEP8(o){this.manySepFirstInternal(8,o)}MANY_SEP9(o){this.manySepFirstInternal(9,o)}AT_LEAST_ONE(o){this.atLeastOneInternal(0,o)}AT_LEAST_ONE1(o){return this.atLeastOneInternal(1,o)}AT_LEAST_ONE2(o){this.atLeastOneInternal(2,o)}AT_LEAST_ONE3(o){this.atLeastOneInternal(3,o)}AT_LEAST_ONE4(o){this.atLeastOneInternal(4,o)}AT_LEAST_ONE5(o){this.atLeastOneInternal(5,o)}AT_LEAST_ONE6(o){this.atLeastOneInternal(6,o)}AT_LEAST_ONE7(o){this.atLeastOneInternal(7,o)}AT_LEAST_ONE8(o){this.atLeastOneInternal(8,o)}AT_LEAST_ONE9(o){this.atLeastOneInternal(9,o)}AT_LEAST_ONE_SEP(o){this.atLeastOneSepFirstInternal(0,o)}AT_LEAST_ONE_SEP1(o){this.atLeastOneSepFirstInternal(1,o)}AT_LEAST_ONE_SEP2(o){this.atLeastOneSepFirstInternal(2,o)}AT_LEAST_ONE_SEP3(o){this.atLeastOneSepFirstInternal(3,o)}AT_LEAST_ONE_SEP4(o){this.atLeastOneSepFirstInternal(4,o)}AT_LEAST_ONE_SEP5(o){this.atLeastOneSepFirstInternal(5,o)}AT_LEAST_ONE_SEP6(o){this.atLeastOneSepFirstInternal(6,o)}AT_LEAST_ONE_SEP7(o){this.atLeastOneSepFirstInternal(7,o)}AT_LEAST_ONE_SEP8(o){this.atLeastOneSepFirstInternal(8,o)}AT_LEAST_ONE_SEP9(o){this.atLeastOneSepFirstInternal(9,o)}RULE(o,l,p=To){if(K(this.definedRulesNames,o)){let l={message:mi.buildDuplicateRuleNameError({topLevelRule:o,grammarName:this.className}),type:Co.DUPLICATE_RULE_NAME,ruleName:o};this.definitionErrors.push(l)}this.definedRulesNames.push(o);let m=this.defineRule(o,l,p);return this[o]=m,m}OVERRIDE_RULE(o,l,p=To){let m=function(o,l,p){let m,g=[];return K(l,o)||(m=`Invalid rule override, rule: ->${o}<- cannot be overridden in the grammar: ->${p}<-as it is not defined in any of the super grammars `,g.push({message:m,type:Co.INVALID_RULE_OVERRIDE,ruleName:o})),g}(o,this.definedRulesNames,this.className);this.definitionErrors=this.definitionErrors.concat(m);let g=this.defineRule(o,l,p);return this[o]=g,g}BACKTRACK(o,l){return function(){this.isBackTrackingStack.push(1);let p=this.saveRecogState();try{return o.apply(this,l),!0}catch(o){if(vt(o))return!1;throw o}finally{this.reloadRecogState(p),this.isBackTrackingStack.pop()}}}getGAstProductions(){return this.gastProductionsCache}getSerializedGastProductions(){return function(o){return d(o,Ar)}(P(this.gastProductionsCache))}},class{initErrorHandler(o){this._errors=[],this.errorMessageProvider=E(o,"errorMessageProvider")?o.errorMessageProvider:xo.errorMessageProvider}SAVE_ERROR(o){if(vt(o))return o.context={ruleStack:this.getHumanReadableRuleStack(),ruleOccurrenceStack:F(this.RULE_OCCURRENCE_STACK)},this._errors.push(o),o;throw Error("Trying to save an Error which is not a RecognitionException")}get errors(){return F(this._errors)}set errors(o){this._errors=o}raiseEarlyExitException(o,l,p){let m=this.getCurrRuleFullName(),g=tn(o,this.getGAstProductions()[m],l,this.maxLookahead)[0],y=[];for(let o=1;o<=this.maxLookahead;o++)y.push(this.LA(o));let _=this.errorMessageProvider.buildEarlyExitMessage({expectedIterationPaths:g,actual:y,previous:this.LA(0),customUserDescription:p,ruleName:m});throw this.SAVE_ERROR(new Ji(_,this.LA(1),this.LA(0)))}raiseNoAltException(o,l){let p=this.getCurrRuleFullName(),m=en(o,this.getGAstProductions()[p],this.maxLookahead),g=[];for(let o=1;o<=this.maxLookahead;o++)g.push(this.LA(o));let y=this.LA(0),_=this.errorMessageProvider.buildNoViableAltMessage({expectedPathsPerAlt:m,actual:g,previous:y,customUserDescription:l,ruleName:this.getCurrRuleFullName()});throw this.SAVE_ERROR(new zi(_,this.LA(1),y))}},class{initContentAssist(){}computeContentAssist(o,l){let p=this.gastProductionsCache[o];if(pe(p))throw Error(`Rule ->${o}<- does not exist in this grammar.`);return Io([p],l,this.tokenMatcher,this.maxLookahead)}getNextPossibleTokenTypes(o){let l=se(o.ruleStack),p=this.getGAstProductions()[l];return new Si(p,o).startWalking()}},class{initGastRecorder(o){this.recordingProdStack=[],this.RECORDING_PHASE=!1}enableRecording(){this.RECORDING_PHASE=!0,this.TRACE_INIT("Enable Recording",()=>{for(let o=0;o<10;o++){let l=o>0?o:"";this[`CONSUME${l}`]=function(l,p){return this.consumeInternalRecord(l,o,p)},this[`SUBRULE${l}`]=function(l,p){return this.subruleInternalRecord(l,o,p)},this[`OPTION${l}`]=function(l){return this.optionInternalRecord(l,o)},this[`OR${l}`]=function(l){return this.orInternalRecord(l,o)},this[`MANY${l}`]=function(l){this.manyInternalRecord(o,l)},this[`MANY_SEP${l}`]=function(l){this.manySepFirstInternalRecord(o,l)},this[`AT_LEAST_ONE${l}`]=function(l){this.atLeastOneInternalRecord(o,l)},this[`AT_LEAST_ONE_SEP${l}`]=function(l){this.atLeastOneSepFirstInternalRecord(o,l)}}this.consume=function(o,l,p){return this.consumeInternalRecord(l,o,p)},this.subrule=function(o,l,p){return this.subruleInternalRecord(l,o,p)},this.option=function(o,l){return this.optionInternalRecord(l,o)},this.or=function(o,l){return this.orInternalRecord(l,o)},this.many=function(o,l){this.manyInternalRecord(o,l)},this.atLeastOne=function(o,l){this.atLeastOneInternalRecord(o,l)},this.ACTION=this.ACTION_RECORD,this.BACKTRACK=this.BACKTRACK_RECORD,this.LA=this.LA_RECORD})}disableRecording(){this.RECORDING_PHASE=!1,this.TRACE_INIT("Deleting Recording methods",()=>{let o=this;for(let l=0;l<10;l++){let p=l>0?l:"";delete o[`CONSUME${p}`],delete o[`SUBRULE${p}`],delete o[`OPTION${p}`],delete o[`OR${p}`],delete o[`MANY${p}`],delete o[`MANY_SEP${p}`],delete o[`AT_LEAST_ONE${p}`],delete o[`AT_LEAST_ONE_SEP${p}`]}delete o.consume,delete o.subrule,delete o.option,delete o.or,delete o.many,delete o.atLeastOne,delete o.ACTION,delete o.BACKTRACK,delete o.LA})}ACTION_RECORD(o){}BACKTRACK_RECORD(o,l){return()=>!0}LA_RECORD(o){return Eo}topLevelRuleRecord(o,l){try{let p=new gn({definition:[],name:o});return p.name=o,this.recordingProdStack.push(p),l.call(this),this.recordingProdStack.pop(),p}catch(o){if(!0!==o.KNOWN_RECORDER_ERROR)try{o.message=o.message+'\n\t This error was thrown during the "grammar recording phase" For more info see:\n\thttps://chevrotain.io/docs/guide/internals.html#grammar-recording'}catch{throw o}throw o}}optionInternalRecord(o,l){return cn.call(this,_n,o,l)}atLeastOneInternalRecord(o,l){cn.call(this,vn,l,o)}atLeastOneSepFirstInternalRecord(o,l){cn.call(this,bn,l,o,mo)}manyInternalRecord(o,l){cn.call(this,En,l,o)}manySepFirstInternalRecord(o,l){cn.call(this,Sn,l,o,mo)}orInternalRecord(o,l){return IE.call(this,o,l)}subruleInternalRecord(o,l,p){if(Go(l),!o||!1===E(o,"ruleName")){let p=new Error(`<SUBRULE${gu(l)}> argument is invalid expecting a Parser method reference but got: <${JSON.stringify(o)}>\n inside top level rule: <${this.recordingProdStack[0].name}>`);throw p.KNOWN_RECORDER_ERROR=!0,p}let m=Xe(this.recordingProdStack),g=o.ruleName,y=new mn({idx:l,nonTerminalName:g,label:null==p?void 0:p.LABEL,referencedRule:void 0});return m.definition.push(y),this.outputCst?bo:ho}consumeInternalRecord(o,l,p){if(Go(l),!Ri(o)){let p=new Error(`<CONSUME${gu(l)}> argument is invalid expecting a TokenType reference but got: <${JSON.stringify(o)}>\n inside top level rule: <${this.recordingProdStack[0].name}>`);throw p.KNOWN_RECORDER_ERROR=!0,p}let m=Xe(this.recordingProdStack),g=new An({idx:l,terminalType:o,label:null==p?void 0:p.LABEL});return m.definition.push(g),vo}},class{initPerformanceTracer(o){if(E(o,"traceInitPerf")){let l=o.traceInitPerf,p="number"==typeof l;this.traceInitMaxIdent=p?l:1/0,this.traceInitPerf=p?l>0:l}else this.traceInitMaxIdent=0,this.traceInitPerf=xo.traceInitPerf;this.traceInitIndent=-1}TRACE_INIT(o,l){if(!0===this.traceInitPerf){this.traceInitIndent++;let p=new Array(this.traceInitIndent+1).join("\t");this.traceInitIndent<this.traceInitMaxIdent&&console.log(`${p}--\x3e <${o}>`);let{time:m,value:g}=Vr(l),y=m>10?console.warn:console.log;return this.traceInitIndent<this.traceInitMaxIdent&&y(`${p}<-- <${o}> time: ${m}ms`),this.traceInitIndent--,g}return l()}}]);var Po=class extends wo{constructor(o,l=xo){let p=F(l);p.outputCst=!0,super(o,p)}},Do=new class{debug=!1;enableDebug(){this.debug=!0}isDebug(){return this.debug}},ko=h({name:"ArrayClose",pattern:/]/,label:"]",pop_mode:!0}),Fo=h({name:"ArrayOpen",pattern:/\[/,label:"[",push_mode:"Array"}),$o=h({name:"Comma",pattern:/,/,label:","}),No=h({name:"ArrayTableClose",pattern:/]]/,label:"]]",push_mode:"Value"}),Lo=h({name:"ArrayTableOpen",pattern:/\[\[/,label:"[["}),Mo=new Map,Qe=(o,l,p)=>{let m=Mo[l.tokenType.name];if(m)return m(o,l,p)},v=(o,l)=>{Mo[o.name]=l},jo=h({name:"Boolean",pattern:Xs.NA});v(jo,Qe);var Bo=/[ \t]/,Uo=/[\x80-\uD7FF]|[\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/,qo=/\r\n|\n/,Ho=/"/,Vo=/\\/,Ko=/[0-9]/,zo=p.default.build("{{digit}}|[A-Fa-f]",{digit:Ko}),Wo=p.default.build('["\\\\bfnrt]|u{{hexDigit}}{4}|U{{hexDigit}}{8}',{hexDigit:zo}),Yo=p.default.build("{{escape}}{{escapeSeqChar}}",{escape:Vo,escapeSeqChar:Wo}),Jo=/'/,Xo=/_/,eu=/-/,ru=/\+/,au=p.default.build("{{digit1_9}}({{digit}}|{{underscore}}{{digit}})+|{{digit}}",{digit1_9:/[1-9]/,digit:Ko,underscore:Xo}),su=p.default.build("({{minus}}|{{plus}})?{{unsignedDecimalInteger}}",{minus:eu,plus:ru,unsignedDecimalInteger:au}),iu=class extends Error{constructor(o){super(o),this.name="SyntaxParseError"}},ou=class extends iu{errors;constructor(o){super("Syntax error\n"+o.map(o=>o.message).join("\n")),this.errors=o}},uu=class extends iu{errors;constructor(o){super("Syntax error\n"+o.map(o=>o.message).join("\n")),this.errors=o}},du=class extends iu{constructor(o){super(o)}},cu=p.default.build("{{digit}}{4}",{digit:Ko}),lu=p.default.build("{{digit}}{2}",{digit:Ko}),hu=p.default.build("{{digit}}{2}",{digit:Ko}),fu=/[Tt ]/,mu=p.default.build("{{digit}}{2}",{digit:Ko}),yu=p.default.build("{{digit}}{2}",{digit:Ko}),_u=p.default.build("{{digit}}{2}",{digit:Ko}),vu=p.default.build("\\.{{digit}}+",{digit:Ko}),bu=p.default.build("[+-]{{timeHour}}:{{timeMinute}}",{timeHour:mu,timeMinute:yu}),Eu=p.default.build("[Zz]|{{timeNumOffset}}",{timeNumOffset:bu}),Su=p.default.build("{{timeHour}}:{{timeMinute}}:{{timeSecond}}{{timeSecFrac}}?",{timeHour:mu,timeMinute:yu,timeSecond:_u,timeSecFrac:vu}),Cu=p.default.build("{{dateFullYear}}-{{dateMonth}}-{{dateMDay}}",{dateFullYear:cu,dateMonth:lu,dateMDay:hu}),Au=p.default.build("{{partialTime}}{{timeOffset}}",{partialTime:Su,timeOffset:Eu}),xu=p.default.build("{{fullDate}}{{timeDelim}}{{fullTime}}",{fullDate:Cu,timeDelim:fu,fullTime:Au}),Tu=p.default.build("{{fullDate}}{{timeDelim}}{{partialTime}}",{fullDate:Cu,timeDelim:fu,partialTime:Su}),Pu=Cu,Ru=Su,Du=h({name:"DateTime",pattern:p.default.build("{{offsetDateTime}}|{{localDateTime}}|{{localDate}}|{{localTime}}",{offsetDateTime:xu,localDateTime:Tu,localDate:Pu,localTime:Ru})}),BE=o=>(o=>{let l=p.default.build("({{dateFullYear}})-({{dateMonth}})-({{dateMDay}})",{dateFullYear:cu,dateMonth:lu,dateMDay:hu}),m=p.default.exec(o,l);if(m){let o=Number(m[1]),l=Number(m[2]),p=Number(m[3]),g=new Date(o,l-1,p);return g.getFullYear()===o&&g.getMonth()+1===l&&g.getDate()===p}return!0})(o)&&(o=>{let l=p.default.build("({{timeHour}}):({{timeMinute}}):({{timeSecond}})",{timeHour:mu,timeMinute:yu,timeSecond:_u}),m=p.default.exec(o,l);if(m){let o=Number(m[1]),l=Number(m[2]),p=Number(m[3]),g=new Date(0,0,0,o,l,p);return g.getHours()===o&&g.getMinutes()===l&&g.getSeconds()===p}return!0})(o);v(Du,o=>{var l;if(!BE(o))throw new iu(`Invalid date time: ${o}`);return 0===(null==(l=o.match(Ru))?void 0:l.index)?o:new Date(o)});var Ou=h({name:"DotSeparator",pattern:/\./,label:"."}),ku=h({name:"ExpressionNewLine",pattern:qo}),Iu=su,Fu=p.default.build("{{digit}}({{digit}}|{{underscore}}{{digit}})*",{digit:Ko,underscore:Xo}),$u=p.default.build("({{minus}}|{{plus}})?{{zeroPrefixableInt}}",{minus:eu,plus:ru,zeroPrefixableInt:Fu}),Nu=p.default.build("[Ee]{{floatExpPart}}",{floatExpPart:$u}),Lu=p.default.build("{{decimalPoint}}{{zeroPrefixableInt}}",{decimalPoint:/\./,zeroPrefixableInt:Fu}),Mu=p.default.build("({{minus}}|{{plus}})?({{inf}}|{{nan}})",{minus:eu,plus:ru,inf:/inf/,nan:/nan/}),ju=h({name:"Float",pattern:p.default.build("{{floatIntPart}}({{exp}}|{{frac}}{{exp}}?)|{{specialFloat}}",{floatIntPart:Iu,exp:Nu,frac:Lu,specialFloat:Mu})});v(ju,o=>{let l=(o=>"inf"===o||"+inf"===o?1/0:"-inf"===o?-1/0:"nan"===o||"+nan"===o||"-nan"===o?NaN:null)(o);if(null!==l)return l;let p=o.replace(/_/g,"");return parseFloat(p)});var Bu=h({name:"InlineTableClose",pattern:/}/,label:"}",pop_mode:!0}),Uu=h({name:"InlineTableOpen",pattern:/{/,label:"{",push_mode:"InlineTable"}),qu=h({name:"InlineTableSep",pattern:/,/,label:",",pop_mode:!0,push_mode:"InlineTable"}),Zu=h({name:"Integer",pattern:Xs.NA});v(Zu,Qe);var Hu=h({name:"KeyValueSeparator",pattern:/=/,label:"=",push_mode:"Value"}),Vu=h({name:"Newline",pattern:qo,pop_mode:!0}),Ku=h({name:"SimpleKey",pattern:Xs.NA});v(Ku,Qe);var zu=h({name:"StdTableClose",pattern:/]/,label:"]",push_mode:"Value"}),Wu=h({name:"StdTableOpen",pattern:/\[/,label:"["}),Yu=h({name:"String",pattern:Xs.NA});v(Yu,Qe);var Ju=h({name:"WhiteSpace",pattern:p.default.build("{{whiteSpaceChar}}+",{whiteSpaceChar:Bo}),group:Xs.SKIPPED}),Xu=p.default.build("^{{whiteSpaceChar}}*{{newline}}(?:{{whiteSpaceChar}}|{{newline}})*",{whiteSpaceChar:Bo,newline:qo}),rA=o=>{let l=p.default.exec(o,Xu);return l?l[0].length:0},Qo=o=>{let l="";for(let p=0;p<o.length;p++){let m=o[p];if("\\"===m){p++;let m=rA(o.slice(p));if(m>0){p+=m-1;continue}switch(o[p]){case"b":l+="\b";break;case"t":l+="\t";break;case"n":l+="\n";break;case"f":l+="\f";break;case"r":l+="\r";break;case'"':l+='"';break;case"\\":l+="\\";break;case"u":{let m=o.slice(p+1,p+5),g=parseInt(m,16);if(g>55295&&g<57344)throw new iu(`Invalid Unicode code point: \\u${m}`);l+=String.fromCodePoint(g),p+=4;break}case"U":{let m=o.slice(p+1,p+9),g=parseInt(m,16);if(g>1114111)throw new iu(`Invalid Unicode code point: \\U${m}`);l+=String.fromCodePoint(g),p+=8;break}case o.match(/^[0-7]{1,3}$/):}}else l+=m}return l},Zo=o=>o.substring(3,o.length-3).replace(/^(\r\n|\n)/,""),Qu=p.default.build("{{quotationMark}}{3}",{quotationMark:Ho}),ed=p.default.build("{{whiteSpaceChar}}|!|[#-\\x5B]|[\\x5D-~]|{{nonAscii}}",{whiteSpaceChar:Bo,nonAscii:Uo}),td=p.default.build("{{multiLineBasicUnescaped}}|{{escaped}}",{multiLineBasicUnescaped:ed,escaped:Yo}),rd=p.default.build("{{whiteSpaceChar}}*",{whiteSpaceChar:Bo}),ad=p.default.build("{{escape}}{{whiteSpace}}{{newline}}({{whiteSpaceChar}}|{{newline}})*",{escape:Vo,whiteSpace:rd,newline:qo,whiteSpaceChar:Bo}),nd=p.default.build("{{multiLineBasicChar}}|{{newline}}|{{multiLineBasicEscapedNewline}}",{multiLineBasicChar:td,newline:qo,multiLineBasicEscapedNewline:ad}),sd=p.default.build("{{quotationMark}}{1,2}",{quotationMark:Ho}),id=p.default.build("{{multiLineBasicContent}}*({{multiLineBasicQuotes}}{{multiLineBasicContent}}+)*{{multiLineBasicQuotes}}?",{multiLineBasicContent:nd,multiLineBasicQuotes:sd}),od=h({name:"MultiLineBasicString",pattern:p.default.build("{{multiLineBasicStringDelimiter}}{{newline}}?{{multiLineBasicBody}}{{multiLineBasicStringDelimiter}}",{multiLineBasicStringDelimiter:Qu,newline:qo,multiLineBasicBody:id}),label:'"""MultiLineBasicString"""',categories:[Yu],line_breaks:!0});v(od,o=>{let l=Zo(o);return Qo(l)});var ud=p.default.build("{{apostrophe}}{3}",{apostrophe:Jo}),dd=p.default.build("\t|[ -&]|[\\x28-~]|{{nonAscii}}",{nonAscii:Uo}),cd=p.default.build("{{multiLineLiteralChar}}|{{newline}}",{multiLineLiteralChar:dd,newline:qo}),ld=p.default.build("{{apostrophe}}{1,2}",{apostrophe:Jo}),hd=p.default.build("{{multiLineLiteralContent}}*({{multiLineLiteralQuotes}}{{multiLineLiteralContent}}+)*{{multiLineLiteralQuotes}}?",{multiLineLiteralContent:cd,multiLineLiteralQuotes:ld}),fd=h({name:"MultiLineLiteralString",pattern:p.default.build("{{multiLineLiteralStringDelimiter}}{{newline}}?{{multiLineLiteralBody}}{{multiLineLiteralStringDelimiter}}",{multiLineLiteralStringDelimiter:ud,newline:qo,multiLineLiteralBody:hd}),label:"'''MultiLineLiteralString'''",categories:[Yu],line_breaks:!0});v(fd,Zo);var pd=h({name:"QuotedKey",pattern:Xs.NA,categories:[Ku]});v(pd,Qe);var md=p.default.build("{{whiteSpaceChar}}|!|[#-\\x5B]|[\\x5D-~]|{{nonAscii}}",{whiteSpaceChar:Bo,nonAscii:Uo}),gd=p.default.build("{{basicUnescaped}}|{{escaped}}",{basicUnescaped:md,escaped:Yo}),yd=h({name:"BasicString",pattern:p.default.build("{{quotationMark}}{{basicChar}}*{{quotationMark}}",{quotationMark:Ho,basicChar:gd}),label:'"BasicString"',categories:[pd,Yu]});v(yd,o=>{let l=o.slice(1,-1);return Qo(l)});var _d=p.default.build("\t|[ -&]|[\\x28-~]|{{nonAscii}}",{nonAscii:Uo}),vd=h({name:"LiteralString",pattern:p.default.build("{{apostrophe}}{{literalChar}}*{{apostrophe}}",{apostrophe:Jo,literalChar:_d}),label:"'LiteralString'",categories:[pd,Yu]});v(vd,o=>o.slice(1,-1));var bd=p.default.build("{{hexPrefix}}{{hexDigit}}({{hexDigit}}|{{underscore}}{{hexDigit}})*",{hexPrefix:/0x/,hexDigit:zo,underscore:Xo}),Ed=p.default.build("{{octPrefix}}{{digit0_7}}({{digit0_7}}|{{underscore}}{{digit0_7}})*",{octPrefix:/0o/,digit0_7:/[0-7]/,underscore:Xo}),Sd=p.default.build("{{binPrefix}}{{digit0_1}}({{digit0_1}}|{{underscore}}{{digit0_1}})*",{binPrefix:/0b/,digit0_1:/[01]/,underscore:Xo}),Cd=h({name:"NonDecimalInteger",pattern:p.default.build("{{hexInteger}}|{{octalInteger}}|{{binaryInteger}}",{hexInteger:bd,octalInteger:Ed,binaryInteger:Sd}),categories:[Zu]});v(Cd,o=>{let l=o.replace(/_/g,"").slice(2),p=(o=>o.startsWith("0x")?16:o.startsWith("0o")?8:o.startsWith("0b")?2:void 0)(o),m=parseInt(l,p);return Number.isSafeInteger(m)?m:((o,l)=>{let p=BigInt(0);for(let m=0;m<o.length;m++){let g=o[m],y=parseInt(g,l);p=p*BigInt(l)+BigInt(y)}return p})(l,p)});var Ad=h({name:"DecimalInteger",pattern:su,categories:[Zu]});v(Ad,o=>{let l=o.replace(/_/g,""),p=parseInt(l);return Number.isSafeInteger(p)?p||0:BigInt(l)});var xd=h({name:"UnquotedKey",pattern:p.default.build("({{alpha}}|{{digit}}|-|_)+",{alpha:/[a-zA-Z]/,digit:Ko}),categories:[Ku]});v(xd,o=>o);var Td=p.default.build("\t|[ -~]|{{nonAscii}}",{nonAscii:Uo}),wd=h({name:"Comment",pattern:p.default.build("{{commentStartChar}}{{nonEol}}*",{commentStartChar:/#/,nonEol:Td}),group:"comment"}),Pd=h({name:"True",pattern:/true/,label:"true",categories:[jo]});v(Pd,()=>!0);var Rd=h({name:"False",pattern:/false/,label:"false",categories:[jo]});v(Rd,()=>!1);var Dd=h({name:"IgnoredNewline",pattern:qo,group:Xs.SKIPPED}),Od=h({name:"InlineTableKeyValSep",pattern:/=/,label:"=",push_mode:"Value",pop_mode:!0,categories:[Hu]}),kd=[Ju,yd,vd,xd,Ou,Ku],Id=[Ju,od,fd,yd,vd,Pd,Rd,Du,ju,Cd,Ad,Fo,Uu,wd],Fd={modes:{Key:[wd,ku,Hu,Lo,No,Wu,zu,...kd],Value:[...Id,Vu,qu,Bu],Array:[...Id,Dd,$o,ko],InlineTable:[...kd,Od,Bu]},defaultMode:"Key"},$d=new Xs(Fd,{ensureOptimizations:!0,skipValidations:!Do.isDebug(),traceInitPerf:Do.isDebug()}),Nd=new class extends Po{toml=this.RULE("toml",()=>{this.MANY(()=>this.CONSUME(ku)),this.MANY1(()=>{this.SUBRULE1(this.expression),this.OPTION2(()=>{this.CONSUME1(Vu),this.MANY3(()=>this.CONSUME2(ku))})})});valueCache;dottedKey=this.RULE("dottedKey",()=>{this.CONSUME(Ku),this.AT_LEAST_ONE(()=>{this.CONSUME(Ou),this.CONSUME1(Ku)})});key=this.RULE("key",()=>{this.OR({MAX_LOOKAHEAD:2,DEF:[{ALT:()=>this.SUBRULE(this.dottedKey)},{ALT:()=>this.CONSUME(Ku)}]})});inlineTableKeyValues=this.RULE("inlineTableKeyValues",()=>{this.MANY_SEP({SEP:qu,DEF:()=>this.SUBRULE(this.keyValue)})});inlineTable=this.RULE("inlineTable",()=>{this.CONSUME(Uu),this.OPTION(()=>this.SUBRULE(this.inlineTableKeyValues)),this.CONSUME(Bu)});array=this.RULE("array",()=>{this.CONSUME(Fo),this.OPTION(()=>this.SUBRULE(this.arrayValues)),this.CONSUME(ko)});value=this.RULE("value",()=>{this.OR(this.valueCache||(this.valueCache=[{ALT:()=>this.CONSUME(Yu)},{ALT:()=>this.CONSUME(jo)},{ALT:()=>this.SUBRULE(this.array)},{ALT:()=>this.SUBRULE(this.inlineTable)},{ALT:()=>this.CONSUME(Du)},{ALT:()=>this.CONSUME(ju)},{ALT:()=>this.CONSUME(Zu)}]))});keyValue=this.RULE("keyValue",()=>{this.SUBRULE(this.key),this.CONSUME(Hu),this.SUBRULE(this.value)});arrayValues=this.RULE("arrayValues",()=>{this.SUBRULE(this.value);let o=!0;this.MANY({GATE:()=>o,DEF:()=>{this.CONSUME($o),this.OPTION(()=>this.SUBRULE1(this.value))||(o=!1)}})});stdTable=this.RULE("stdTable",()=>{this.CONSUME(Wu),this.SUBRULE(this.key),this.CONSUME(zu)});arrayTable=this.RULE("arrayTable",()=>{this.CONSUME(Lo),this.SUBRULE(this.key),this.CONSUME(No)});table=this.RULE("table",()=>{this.OR([{ALT:()=>this.SUBRULE(this.stdTable)},{ALT:()=>this.SUBRULE(this.arrayTable)}])});expression=this.RULE("expression",()=>{this.OR([{ALT:()=>this.SUBRULE(this.keyValue)},{ALT:()=>this.SUBRULE(this.table)}])});constructor(){super(Fd,{traceInitPerf:Do.isDebug(),maxLookahead:1,skipValidations:!Do.isDebug()}),this.performSelfAnalysis()}},wu=o=>o&&(o.constructor===Object||void 0===o.constructor),ri=()=>Object.create(null),ua=(o,l)=>{try{return o()}catch(o){if(o instanceof Ld)throw new du(l)}},Ld=class extends Error{},Md=Nd.getBaseCstVisitorConstructor(),jd=Symbol("explicitlyDeclared"),Bd=Symbol("implicitlyDeclared"),Ud=Symbol("notEditable"),qd=new class extends Md{constructor(){super(),this.validateVisitor()}toml(o){var l;let p=ri(),m=p;return null==(l=o.expression)||l.forEach(o=>m=this.visit(o,{current:m,root:p})),this.cleanInternalProperties(p),p}expression(o,{current:l,root:p}){return o.keyValue?(this.visit(o.keyValue,l),l):o.table?this.visit(o.table,p):void 0}keyValue(o,l){let p=this.visit(o.key),m=this.visit(o.value);ua(()=>this.assignValue(p,m,l),`Cannot assign value to '${p.join(".")}'`)}key(o){return o.dottedKey?this.visit(o.dottedKey):[this.interpret(o,Ku)]}dottedKey(o){return this.interpret(o,Ku)}inlineTableKeyValues(o,l){o.keyValue&&o.keyValue.forEach(o=>this.visit(o,l))}inlineTable(o){let l=ri();return l[Ud]=!0,o.inlineTableKeyValues&&this.visit(o.inlineTableKeyValues,l),l}value(o){return o.array?this.visit(o.array):o.inlineTable?this.visit(o.inlineTable):this.interpret(o,Yu,ju,jo,Du,Zu)}arrayValues(o,l){return o.value.forEach(o=>l.push(this.visit(o))),l}array(o){let l=[];return l[Ud]=!0,o.arrayValues?this.visit(o.arrayValues,l):l}table(o,l){return o.stdTable?this.visit(o.stdTable,l):o.arrayTable?this.visit(o.arrayTable,l):void 0}stdTable(o,l){let p=this.visit(o.key);return ua(()=>this.createTable(p,l),`Cannot create table '${p.join(".")}'`)}arrayTable(o,l){let p=this.visit(o.key);return ua(()=>{let o=this.getOrCreateArray(p,l);if(o[Ud])throw new Ld;let m=ri();return o.push(m),m},`Cannot create array table '${p.join(".")}'`)}cleanInternalProperties(o){for(let l of Object.getOwnPropertySymbols(o))delete o[l];for(let l in o)"object"==typeof o[l]&&this.cleanInternalProperties(o[l]),Array.isArray(o[l])&&o[l].forEach(o=>this.cleanInternalProperties(o))}interpret(o,...l){for(let p of l)if(o[p.name]){let l=o[p.name].map(o=>Mo[p.name](o.image,o,p.name));return 1===l.length?l[0]:l}}assignPrimitiveValue(o,l,p){if(o in p)throw new Ld;return wu(l)&&(l[jd]=!0),p[o]=l,p}tryCreatingObject(o,l,p,m,g){if(l[o]){if(!wu(l[o])||!g&&l[o][jd]||!m&&l[o][Bd]||l[o][Ud])throw new Ld}else l[o]=ri(),p&&(l[o][p]=!0);return l[o]}assignValue(o,l,p){let[m,...g]=o;return g.length>0?(this.tryCreatingObject(m,p,Bd,!0,!1),this.assignValue(g,l,p[m])):this.assignPrimitiveValue(m,l,p)}createTable(o,l){let[p,...m]=o;if(m.length>0){if(Array.isArray(l[p])){if(l[p][Ud])throw new Ld;let o=l[p][l[p].length-1];return this.createTable(m,o)}return this.tryCreatingObject(p,l,null,!0,!0),this.createTable(m,l[p])}return this.tryCreatingObject(p,l,jd,!1,!1)}getOrCreateArray(o,l){let[p,...m]=o;if(m.length>0){if(Array.isArray(l[p])){let o=l[p][l[p].length-1];return this.getOrCreateArray(m,o)}return this.tryCreatingObject(p,l,null,!0,!0),this.getOrCreateArray(m,l[p])}if(l[p]&&!Array.isArray(l[p]))throw new Ld;return l[p]=l[p]||[],l[p]}};l.SyntaxParseError=iu,l.load=o=>{let l=$d.tokenize(o);if(l.errors.length>0)throw new ou(l.errors);Nd.input=l.tokens;let p=Nd.toml();if(Nd.errors.length>0)throw new uu(Nd.errors);return qd.visit(p)}}(dist,dist.exports);var distExports=dist.exports,toml={},parse$1={exports:{}},tomlParser={exports:{}};const ParserEND=1114112;class ParserError extends Error{constructor(o,l,p){super("[ParserError] "+o,l,p),this.name="ParserError",this.code="ParserError",Error.captureStackTrace&&Error.captureStackTrace(this,ParserError)}}class State{constructor(o){this.parser=o,this.buf="",this.returned=null,this.result=null,this.resultTable=null,this.resultArr=null}}class Parser{constructor(){this.pos=0,this.col=0,this.line=0,this.obj={},this.ctx=this.obj,this.stack=[],this._buf="",this.char=null,this.ii=0,this.state=new State(this.parseStart)}parse(o){if(0===o.length||null==o.length)return;let l;for(this._buf=String(o),this.ii=-1,this.char=-1;!1===l||this.nextChar();)l=this.runOne();this._buf=null}nextChar(){return 10===this.char&&(++this.line,this.col=-1),++this.ii,this.char=this._buf.codePointAt(this.ii),++this.pos,++this.col,this.haveBuffer()}haveBuffer(){return this.ii<this._buf.length}runOne(){return this.state.parser.call(this,this.state.returned)}finish(){let o;this.char=ParserEND;do{o=this.state.parser,this.runOne()}while(this.state.parser!==o);return this.ctx=null,this.state=null,this._buf=null,this.obj}next(o){if("function"!=typeof o)throw new ParserError("Tried to set state to non-existent state: "+JSON.stringify(o));this.state.parser=o}goto(o){return this.next(o),this.runOne()}call(o,l){l&&this.next(l),this.stack.push(this.state),this.state=new State(o)}callNow(o,l){return this.call(o,l),this.runOne()}return(o){if(0===this.stack.length)throw this.error(new ParserError("Stack underflow"));void 0===o&&(o=this.state.buf),this.state=this.stack.pop(),this.state.returned=o}returnNow(o){return this.return(o),this.runOne()}consume(){if(this.char===ParserEND)throw this.error(new ParserError("Unexpected end-of-buffer"));this.state.buf+=this._buf[this.ii]}error(o){return o.line=this.line,o.col=this.col,o.pos=this.pos,o}parseStart(){throw new ParserError("Must declare a parseStart method")}}Parser.END=ParserEND,Parser.Error=ParserError;var parser$1=Parser,createDatetime=o=>{const l=new Date(o);if(isNaN(l))throw new TypeError("Invalid Datetime");return l},formatNum=(o,l)=>{for(l=String(l);l.length<o;)l="0"+l;return l};const f$2=formatNum;class FloatingDateTime extends Date{constructor(o){super(o+"Z"),this.isFloating=!0}toISOString(){return`${`${this.getUTCFullYear()}-${f$2(2,this.getUTCMonth()+1)}-${f$2(2,this.getUTCDate())}`}T${`${f$2(2,this.getUTCHours())}:${f$2(2,this.getUTCMinutes())}:${f$2(2,this.getUTCSeconds())}.${f$2(3,this.getUTCMilliseconds())}`}`}}var createDatetimeFloat=o=>{const l=new FloatingDateTime(o);if(isNaN(l))throw new TypeError("Invalid Datetime");return l};const f$1=formatNum,DateTime=commonjsGlobal.Date;let Date$1=class extends DateTime{constructor(o){super(o),this.isDate=!0}toISOString(){return`${this.getUTCFullYear()}-${f$1(2,this.getUTCMonth()+1)}-${f$1(2,this.getUTCDate())}`}};var createDate$1=o=>{const l=new Date$1(o);if(isNaN(l))throw new TypeError("Invalid Datetime");return l};const f=formatNum;class Time extends Date{constructor(o){super(`0000-01-01T${o}Z`),this.isTime=!0}toISOString(){return`${f(2,this.getUTCHours())}:${f(2,this.getUTCMinutes())}:${f(2,this.getUTCSeconds())}.${f(3,this.getUTCMilliseconds())}`}}var createTime$1=o=>{const l=new Time(o);if(isNaN(l))throw new TypeError("Invalid Datetime");return l};tomlParser.exports=makeParserClass(parser$1),tomlParser.exports.makeParserClass=makeParserClass;class TomlError extends Error{constructor(o){super(o),this.name="TomlError",Error.captureStackTrace&&Error.captureStackTrace(this,TomlError),this.fromTOML=!0,this.wrapped=null}}TomlError.wrap=o=>{const l=new TomlError(o.message);return l.code=o.code,l.wrapped=o,l},tomlParser.exports.TomlError=TomlError;const createDateTime=createDatetime,createDateTimeFloat=createDatetimeFloat,createDate=createDate$1,createTime=createTime$1,CTRL_I=9,CTRL_J=10,CTRL_M=13,CTRL_CHAR_BOUNDARY=31,CHAR_SP=32,CHAR_QUOT=34,CHAR_NUM=35,CHAR_APOS=39,CHAR_PLUS=43,CHAR_COMMA=44,CHAR_HYPHEN=45,CHAR_PERIOD=46,CHAR_0=48,CHAR_1=49,CHAR_7=55,CHAR_9=57,CHAR_COLON=58,CHAR_EQUALS=61,CHAR_A=65,CHAR_E=69,CHAR_F=70,CHAR_T=84,CHAR_U=85,CHAR_Z=90,CHAR_LOWBAR=95,CHAR_a=97,CHAR_b=98,CHAR_e=101,CHAR_f=102,CHAR_i=105,CHAR_l=108,CHAR_n=110,CHAR_o=111,CHAR_r=114,CHAR_s=115,CHAR_t=116,CHAR_u=117,CHAR_x=120,CHAR_z=122,CHAR_LCUB=123,CHAR_RCUB=125,CHAR_LSQB=91,CHAR_BSOL=92,CHAR_RSQB=93,CHAR_DEL=127,SURROGATE_FIRST=55296,SURROGATE_LAST=57343,escapes={[CHAR_b]:"\b",[CHAR_t]:"\t",[CHAR_n]:"\n",[CHAR_f]:"\f",[CHAR_r]:"\r",[CHAR_QUOT]:'"',[CHAR_BSOL]:"\\"};function isDigit(o){return o>=CHAR_0&&o<=CHAR_9}function isHexit(o){return o>=CHAR_A&&o<=CHAR_F||o>=CHAR_a&&o<=CHAR_f||o>=CHAR_0&&o<=CHAR_9}function isBit(o){return o===CHAR_1||o===CHAR_0}function isOctit(o){return o>=CHAR_0&&o<=CHAR_7}function isAlphaNumQuoteHyphen(o){return o>=CHAR_A&&o<=CHAR_Z||o>=CHAR_a&&o<=CHAR_z||o>=CHAR_0&&o<=CHAR_9||o===CHAR_APOS||o===CHAR_QUOT||o===CHAR_LOWBAR||o===CHAR_HYPHEN}function isAlphaNumHyphen(o){return o>=CHAR_A&&o<=CHAR_Z||o>=CHAR_a&&o<=CHAR_z||o>=CHAR_0&&o<=CHAR_9||o===CHAR_LOWBAR||o===CHAR_HYPHEN}const _type=Symbol("type"),_declared=Symbol("declared"),hasOwnProperty=Object.prototype.hasOwnProperty,defineProperty=Object.defineProperty,descriptor={configurable:!0,enumerable:!0,writable:!0,value:void 0};function hasKey(o,l){return!!hasOwnProperty.call(o,l)||("__proto__"===l&&defineProperty(o,"__proto__",descriptor),!1)}const INLINE_TABLE=Symbol("inline-table");function InlineTable(){return Object.defineProperties({},{[_type]:{value:INLINE_TABLE}})}function isInlineTable(o){return null!==o&&"object"==typeof o&&o[_type]===INLINE_TABLE}const TABLE=Symbol("table");function Table(){return Object.defineProperties({},{[_type]:{value:TABLE},[_declared]:{value:!1,writable:!0}})}function isTable(o){return null!==o&&"object"==typeof o&&o[_type]===TABLE}const _contentType=Symbol("content-type"),INLINE_LIST=Symbol("inline-list");function InlineList(o){return Object.defineProperties([],{[_type]:{value:INLINE_LIST},[_contentType]:{value:o}})}function isInlineList(o){return null!==o&&"object"==typeof o&&o[_type]===INLINE_LIST}const LIST=Symbol("list");function List(){return Object.defineProperties([],{[_type]:{value:LIST}})}function isList(o){return null!==o&&"object"==typeof o&&o[_type]===LIST}let _custom;try{const utilInspect=eval("require('util').inspect");_custom=utilInspect.custom}catch(o){}const _inspect=_custom||"inspect";class BoxedBigInt{constructor(o){try{this.value=commonjsGlobal.BigInt.asIntN(64,o)}catch(o){this.value=null}Object.defineProperty(this,_type,{value:INTEGER})}isNaN(){return null===this.value}toString(){return String(this.value)}[_inspect](){return`[BigInt: ${this.toString()}]}`}valueOf(){return this.value}}const INTEGER=Symbol("integer");function Integer(o){let l=Number(o);return Object.is(l,-0)&&(l=0),commonjsGlobal.BigInt&&!Number.isSafeInteger(l)?new BoxedBigInt(o):Object.defineProperties(new Number(l),{isNaN:{value:function(){return isNaN(this)}},[_type]:{value:INTEGER},[_inspect]:{value:()=>`[Integer: ${o}]`}})}function isInteger(o){return null!==o&&"object"==typeof o&&o[_type]===INTEGER}const FLOAT=Symbol("float");function Float(o){return Object.defineProperties(new Number(o),{[_type]:{value:FLOAT},[_inspect]:{value:()=>`[Float: ${o}]`}})}function isFloat(o){return null!==o&&"object"==typeof o&&o[_type]===FLOAT}function tomlType$1(o){const l=typeof o;if("object"===l){if(null===o)return"null";if(o instanceof Date)return"datetime";if(_type in o)switch(o[_type]){case INLINE_TABLE:return"inline-table";case INLINE_LIST:return"inline-list";case TABLE:return"table";case LIST:return"list";case FLOAT:return"float";case INTEGER:return"integer"}}return l}function makeParserClass(o){return class extends o{constructor(){super(),this.ctx=this.obj=Table()}atEndOfWord(){return this.char===CHAR_NUM||this.char===CTRL_I||this.char===CHAR_SP||this.atEndOfLine()}atEndOfLine(){return this.char===o.END||this.char===CTRL_J||this.char===CTRL_M}parseStart(){if(this.char===o.END)return null;if(this.char===CHAR_LSQB)return this.call(this.parseTableOrList);if(this.char===CHAR_NUM)return this.call(this.parseComment);if(this.char===CTRL_J||this.char===CHAR_SP||this.char===CTRL_I||this.char===CTRL_M)return null;if(isAlphaNumQuoteHyphen(this.char))return this.callNow(this.parseAssignStatement);throw this.error(new TomlError(`Unknown character "${this.char}"`))}parseWhitespaceToEOL(){if(this.char===CHAR_SP||this.char===CTRL_I||this.char===CTRL_M)return null;if(this.char===CHAR_NUM)return this.goto(this.parseComment);if(this.char===o.END||this.char===CTRL_J)return this.return();throw this.error(new TomlError("Unexpected character, expected only whitespace or comments till end of line"))}parseAssignStatement(){return this.callNow(this.parseAssign,this.recordAssignStatement)}recordAssignStatement(o){let l=this.ctx,p=o.key.pop();for(let p of o.key){if(hasKey(l,p)&&(!isTable(l[p])||l[p][_declared]))throw this.error(new TomlError("Can't redefine existing key"));l=l[p]=l[p]||Table()}if(hasKey(l,p))throw this.error(new TomlError("Can't redefine existing key"));return isInteger(o.value)||isFloat(o.value)?l[p]=o.value.valueOf():l[p]=o.value,this.goto(this.parseWhitespaceToEOL)}parseAssign(){return this.callNow(this.parseKeyword,this.recordAssignKeyword)}recordAssignKeyword(o){return this.state.resultTable?this.state.resultTable.push(o):this.state.resultTable=[o],this.goto(this.parseAssignKeywordPreDot)}parseAssignKeywordPreDot(){return this.char===CHAR_PERIOD?this.next(this.parseAssignKeywordPostDot):this.char!==CHAR_SP&&this.char!==CTRL_I?this.goto(this.parseAssignEqual):void 0}parseAssignKeywordPostDot(){if(this.char!==CHAR_SP&&this.char!==CTRL_I)return this.callNow(this.parseKeyword,this.recordAssignKeyword)}parseAssignEqual(){if(this.char===CHAR_EQUALS)return this.next(this.parseAssignPreValue);throw this.error(new TomlError('Invalid character, expected "="'))}parseAssignPreValue(){return this.char===CHAR_SP||this.char===CTRL_I?null:this.callNow(this.parseValue,this.recordAssignValue)}recordAssignValue(o){return this.returnNow({key:this.state.resultTable,value:o})}parseComment(){do{if(this.char===o.END||this.char===CTRL_J)return this.return()}while(this.nextChar())}parseTableOrList(){if(this.char!==CHAR_LSQB)return this.goto(this.parseTable);this.next(this.parseList)}parseTable(){return this.ctx=this.obj,this.goto(this.parseTableNext)}parseTableNext(){return this.char===CHAR_SP||this.char===CTRL_I?null:this.callNow(this.parseKeyword,this.parseTableMore)}parseTableMore(o){if(this.char===CHAR_SP||this.char===CTRL_I)return null;if(this.char===CHAR_RSQB){if(hasKey(this.ctx,o)&&(!isTable(this.ctx[o])||this.ctx[o][_declared]))throw this.error(new TomlError("Can't redefine existing key"));return this.ctx=this.ctx[o]=this.ctx[o]||Table(),this.ctx[_declared]=!0,this.next(this.parseWhitespaceToEOL)}if(this.char===CHAR_PERIOD){if(hasKey(this.ctx,o))if(isTable(this.ctx[o]))this.ctx=this.ctx[o];else{if(!isList(this.ctx[o]))throw this.error(new TomlError("Can't redefine existing key"));this.ctx=this.ctx[o][this.ctx[o].length-1]}else this.ctx=this.ctx[o]=Table();return this.next(this.parseTableNext)}throw this.error(new TomlError("Unexpected character, expected whitespace, . or ]"))}parseList(){return this.ctx=this.obj,this.goto(this.parseListNext)}parseListNext(){return this.char===CHAR_SP||this.char===CTRL_I?null:this.callNow(this.parseKeyword,this.parseListMore)}parseListMore(o){if(this.char===CHAR_SP||this.char===CTRL_I)return null;if(this.char===CHAR_RSQB){if(hasKey(this.ctx,o)||(this.ctx[o]=List()),isInlineList(this.ctx[o]))throw this.error(new TomlError("Can't extend an inline array"));if(!isList(this.ctx[o]))throw this.error(new TomlError("Can't redefine an existing key"));{const l=Table();this.ctx[o].push(l),this.ctx=l}return this.next(this.parseListEnd)}if(this.char===CHAR_PERIOD){if(hasKey(this.ctx,o)){if(isInlineList(this.ctx[o]))throw this.error(new TomlError("Can't extend an inline array"));if(isInlineTable(this.ctx[o]))throw this.error(new TomlError("Can't extend an inline table"));if(isList(this.ctx[o]))this.ctx=this.ctx[o][this.ctx[o].length-1];else{if(!isTable(this.ctx[o]))throw this.error(new TomlError("Can't redefine an existing key"));this.ctx=this.ctx[o]}}else this.ctx=this.ctx[o]=Table();return this.next(this.parseListNext)}throw this.error(new TomlError("Unexpected character, expected whitespace, . or ]"))}parseListEnd(o){if(this.char===CHAR_RSQB)return this.next(this.parseWhitespaceToEOL);throw this.error(new TomlError("Unexpected character, expected whitespace, . or ]"))}parseValue(){if(this.char===o.END)throw this.error(new TomlError("Key without value"));if(this.char===CHAR_QUOT)return this.next(this.parseDoubleString);if(this.char===CHAR_APOS)return this.next(this.parseSingleString);if(this.char===CHAR_HYPHEN||this.char===CHAR_PLUS)return this.goto(this.parseNumberSign);if(this.char===CHAR_i)return this.next(this.parseInf);if(this.char===CHAR_n)return this.next(this.parseNan);if(isDigit(this.char))return this.goto(this.parseNumberOrDateTime);if(this.char===CHAR_t||this.char===CHAR_f)return this.goto(this.parseBoolean);if(this.char===CHAR_LSQB)return this.call(this.parseInlineList,this.recordValue);if(this.char===CHAR_LCUB)return this.call(this.parseInlineTable,this.recordValue);throw this.error(new TomlError("Unexpected character, expecting string, number, datetime, boolean, inline array or inline table"))}recordValue(o){return this.returnNow(o)}parseInf(){if(this.char===CHAR_n)return this.next(this.parseInf2);throw this.error(new TomlError('Unexpected character, expected "inf", "+inf" or "-inf"'))}parseInf2(){if(this.char===CHAR_f)return"-"===this.state.buf?this.return(-1/0):this.return(1/0);throw this.error(new TomlError('Unexpected character, expected "inf", "+inf" or "-inf"'))}parseNan(){if(this.char===CHAR_a)return this.next(this.parseNan2);throw this.error(new TomlError('Unexpected character, expected "nan"'))}parseNan2(){if(this.char===CHAR_n)return this.return(NaN);throw this.error(new TomlError('Unexpected character, expected "nan"'))}parseKeyword(){return this.char===CHAR_QUOT?this.next(this.parseBasicString):this.char===CHAR_APOS?this.next(this.parseLiteralString):this.goto(this.parseBareKey)}parseBareKey(){do{if(this.char===o.END)throw this.error(new TomlError("Key ended without value"));if(!isAlphaNumHyphen(this.char)){if(0===this.state.buf.length)throw this.error(new TomlError("Empty bare keys are not allowed"));return this.returnNow()}this.consume()}while(this.nextChar())}parseSingleString(){return this.char===CHAR_APOS?this.next(this.parseLiteralMultiStringMaybe):this.goto(this.parseLiteralString)}parseLiteralString(){do{if(this.char===CHAR_APOS)return this.return();if(this.atEndOfLine())throw this.error(new TomlError("Unterminated string"));if(this.char===CHAR_DEL||this.char<=CTRL_CHAR_BOUNDARY&&this.char!==CTRL_I)throw this.errorControlCharInString();this.consume()}while(this.nextChar())}parseLiteralMultiStringMaybe(){return this.char===CHAR_APOS?this.next(this.parseLiteralMultiString):this.returnNow()}parseLiteralMultiString(){return this.char===CTRL_M?null:this.char===CTRL_J?this.next(this.parseLiteralMultiStringContent):this.goto(this.parseLiteralMultiStringContent)}parseLiteralMultiStringContent(){do{if(this.char===CHAR_APOS)return this.next(this.parseLiteralMultiEnd);if(this.char===o.END)throw this.error(new TomlError("Unterminated multi-line string"));if(this.char===CHAR_DEL||this.char<=CTRL_CHAR_BOUNDARY&&this.char!==CTRL_I&&this.char!==CTRL_J&&this.char!==CTRL_M)throw this.errorControlCharInString();this.consume()}while(this.nextChar())}parseLiteralMultiEnd(){return this.char===CHAR_APOS?this.next(this.parseLiteralMultiEnd2):(this.state.buf+="'",this.goto(this.parseLiteralMultiStringContent))}parseLiteralMultiEnd2(){return this.char===CHAR_APOS?this.return():(this.state.buf+="''",this.goto(this.parseLiteralMultiStringContent))}parseDoubleString(){return this.char===CHAR_QUOT?this.next(this.parseMultiStringMaybe):this.goto(this.parseBasicString)}parseBasicString(){do{if(this.char===CHAR_BSOL)return this.call(this.parseEscape,this.recordEscapeReplacement);if(this.char===CHAR_QUOT)return this.return();if(this.atEndOfLine())throw this.error(new TomlError("Unterminated string"));if(this.char===CHAR_DEL||this.char<=CTRL_CHAR_BOUNDARY&&this.char!==CTRL_I)throw this.errorControlCharInString();this.consume()}while(this.nextChar())}recordEscapeReplacement(o){return this.state.buf+=o,this.goto(this.parseBasicString)}parseMultiStringMaybe(){return this.char===CHAR_QUOT?this.next(this.parseMultiString):this.returnNow()}parseMultiString(){return this.char===CTRL_M?null:this.char===CTRL_J?this.next(this.parseMultiStringContent):this.goto(this.parseMultiStringContent)}parseMultiStringContent(){do{if(this.char===CHAR_BSOL)return this.call(this.parseMultiEscape,this.recordMultiEscapeReplacement);if(this.char===CHAR_QUOT)return this.next(this.parseMultiEnd);if(this.char===o.END)throw this.error(new TomlError("Unterminated multi-line string"));if(this.char===CHAR_DEL||this.char<=CTRL_CHAR_BOUNDARY&&this.char!==CTRL_I&&this.char!==CTRL_J&&this.char!==CTRL_M)throw this.errorControlCharInString();this.consume()}while(this.nextChar())}errorControlCharInString(){let o="\\u00";return this.char<16&&(o+="0"),o+=this.char.toString(16),this.error(new TomlError(`Control characters (codes < 0x1f and 0x7f) are not allowed in strings, use ${o} instead`))}recordMultiEscapeReplacement(o){return this.state.buf+=o,this.goto(this.parseMultiStringContent)}parseMultiEnd(){return this.char===CHAR_QUOT?this.next(this.parseMultiEnd2):(this.state.buf+='"',this.goto(this.parseMultiStringContent))}parseMultiEnd2(){return this.char===CHAR_QUOT?this.return():(this.state.buf+='""',this.goto(this.parseMultiStringContent))}parseMultiEscape(){return this.char===CTRL_M||this.char===CTRL_J?this.next(this.parseMultiTrim):this.char===CHAR_SP||this.char===CTRL_I?this.next(this.parsePreMultiTrim):this.goto(this.parseEscape)}parsePreMultiTrim(){if(this.char===CHAR_SP||this.char===CTRL_I)return null;if(this.char===CTRL_M||this.char===CTRL_J)return this.next(this.parseMultiTrim);throw this.error(new TomlError("Can't escape whitespace"))}parseMultiTrim(){return this.char===CTRL_J||this.char===CHAR_SP||this.char===CTRL_I||this.char===CTRL_M?null:this.returnNow()}parseEscape(){if(this.char in escapes)return this.return(escapes[this.char]);if(this.char===CHAR_u)return this.call(this.parseSmallUnicode,this.parseUnicodeReturn);if(this.char===CHAR_U)return this.call(this.parseLargeUnicode,this.parseUnicodeReturn);throw this.error(new TomlError("Unknown escape character: "+this.char))}parseUnicodeReturn(o){try{const l=parseInt(o,16);if(l>=SURROGATE_FIRST&&l<=SURROGATE_LAST)throw this.error(new TomlError("Invalid unicode, character in range 0xD800 - 0xDFFF is reserved"));return this.returnNow(String.fromCodePoint(l))}catch(o){throw this.error(TomlError.wrap(o))}}parseSmallUnicode(){if(!isHexit(this.char))throw this.error(new TomlError("Invalid character in unicode sequence, expected hex"));if(this.consume(),this.state.buf.length>=4)return this.return()}parseLargeUnicode(){if(!isHexit(this.char))throw this.error(new TomlError("Invalid character in unicode sequence, expected hex"));if(this.consume(),this.state.buf.length>=8)return this.return()}parseNumberSign(){return this.consume(),this.next(this.parseMaybeSignedInfOrNan)}parseMaybeSignedInfOrNan(){return this.char===CHAR_i?this.next(this.parseInf):this.char===CHAR_n?this.next(this.parseNan):this.callNow(this.parseNoUnder,this.parseNumberIntegerStart)}parseNumberIntegerStart(){return this.char===CHAR_0?(this.consume(),this.next(this.parseNumberIntegerExponentOrDecimal)):this.goto(this.parseNumberInteger)}parseNumberIntegerExponentOrDecimal(){return this.char===CHAR_PERIOD?(this.consume(),this.call(this.parseNoUnder,this.parseNumberFloat)):this.char===CHAR_E||this.char===CHAR_e?(this.consume(),this.next(this.parseNumberExponentSign)):this.returnNow(Integer(this.state.buf))}parseNumberInteger(){if(!isDigit(this.char)){if(this.char===CHAR_LOWBAR)return this.call(this.parseNoUnder);if(this.char===CHAR_E||this.char===CHAR_e)return this.consume(),this.next(this.parseNumberExponentSign);if(this.char===CHAR_PERIOD)return this.consume(),this.call(this.parseNoUnder,this.parseNumberFloat);{const o=Integer(this.state.buf);if(o.isNaN())throw this.error(new TomlError("Invalid number"));return this.returnNow(o)}}this.consume()}parseNoUnder(){if(this.char===CHAR_LOWBAR||this.char===CHAR_PERIOD||this.char===CHAR_E||this.char===CHAR_e)throw this.error(new TomlError("Unexpected character, expected digit"));if(this.atEndOfWord())throw this.error(new TomlError("Incomplete number"));return this.returnNow()}parseNoUnderHexOctBinLiteral(){if(this.char===CHAR_LOWBAR||this.char===CHAR_PERIOD)throw this.error(new TomlError("Unexpected character, expected digit"));if(this.atEndOfWord())throw this.error(new TomlError("Incomplete number"));return this.returnNow()}parseNumberFloat(){return this.char===CHAR_LOWBAR?this.call(this.parseNoUnder,this.parseNumberFloat):isDigit(this.char)?void this.consume():this.char===CHAR_E||this.char===CHAR_e?(this.consume(),this.next(this.parseNumberExponentSign)):this.returnNow(Float(this.state.buf))}parseNumberExponentSign(){if(isDigit(this.char))return this.goto(this.parseNumberExponent);if(this.char!==CHAR_HYPHEN&&this.char!==CHAR_PLUS)throw this.error(new TomlError("Unexpected character, expected -, + or digit"));this.consume(),this.call(this.parseNoUnder,this.parseNumberExponent)}parseNumberExponent(){if(!isDigit(this.char))return this.char===CHAR_LOWBAR?this.call(this.parseNoUnder):this.returnNow(Float(this.state.buf));this.consume()}parseNumberOrDateTime(){return this.char===CHAR_0?(this.consume(),this.next(this.parseNumberBaseOrDateTime)):this.goto(this.parseNumberOrDateTimeOnly)}parseNumberOrDateTimeOnly(){return this.char===CHAR_LOWBAR?this.call(this.parseNoUnder,this.parseNumberInteger):isDigit(this.char)?(this.consume(),void(this.state.buf.length>4&&this.next(this.parseNumberInteger))):this.char===CHAR_E||this.char===CHAR_e?(this.consume(),this.next(this.parseNumberExponentSign)):this.char===CHAR_PERIOD?(this.consume(),this.call(this.parseNoUnder,this.parseNumberFloat)):this.char===CHAR_HYPHEN?this.goto(this.parseDateTime):this.char===CHAR_COLON?this.goto(this.parseOnlyTimeHour):this.returnNow(Integer(this.state.buf))}parseDateTimeOnly(){if(this.state.buf.length<4){if(isDigit(this.char))return this.consume();if(this.char===CHAR_COLON)return this.goto(this.parseOnlyTimeHour);throw this.error(new TomlError("Expected digit while parsing year part of a date"))}if(this.char===CHAR_HYPHEN)return this.goto(this.parseDateTime);throw this.error(new TomlError("Expected hyphen (-) while parsing year part of date"))}parseNumberBaseOrDateTime(){return this.char===CHAR_b?(this.consume(),this.call(this.parseNoUnderHexOctBinLiteral,this.parseIntegerBin)):this.char===CHAR_o?(this.consume(),this.call(this.parseNoUnderHexOctBinLiteral,this.parseIntegerOct)):this.char===CHAR_x?(this.consume(),this.call(this.parseNoUnderHexOctBinLiteral,this.parseIntegerHex)):this.char===CHAR_PERIOD?this.goto(this.parseNumberInteger):isDigit(this.char)?this.goto(this.parseDateTimeOnly):this.returnNow(Integer(this.state.buf))}parseIntegerHex(){if(!isHexit(this.char)){if(this.char===CHAR_LOWBAR)return this.call(this.parseNoUnderHexOctBinLiteral);{const o=Integer(this.state.buf);if(o.isNaN())throw this.error(new TomlError("Invalid number"));return this.returnNow(o)}}this.consume()}parseIntegerOct(){if(!isOctit(this.char)){if(this.char===CHAR_LOWBAR)return this.call(this.parseNoUnderHexOctBinLiteral);{const o=Integer(this.state.buf);if(o.isNaN())throw this.error(new TomlError("Invalid number"));return this.returnNow(o)}}this.consume()}parseIntegerBin(){if(!isBit(this.char)){if(this.char===CHAR_LOWBAR)return this.call(this.parseNoUnderHexOctBinLiteral);{const o=Integer(this.state.buf);if(o.isNaN())throw this.error(new TomlError("Invalid number"));return this.returnNow(o)}}this.consume()}parseDateTime(){if(this.state.buf.length<4)throw this.error(new TomlError("Years less than 1000 must be zero padded to four characters"));return this.state.result=this.state.buf,this.state.buf="",this.next(this.parseDateMonth)}parseDateMonth(){if(this.char===CHAR_HYPHEN){if(this.state.buf.length<2)throw this.error(new TomlError("Months less than 10 must be zero padded to two characters"));return this.state.result+="-"+this.state.buf,this.state.buf="",this.next(this.parseDateDay)}if(!isDigit(this.char))throw this.error(new TomlError("Incomplete datetime"));this.consume()}parseDateDay(){if(this.char===CHAR_T||this.char===CHAR_SP){if(this.state.buf.length<2)throw this.error(new TomlError("Days less than 10 must be zero padded to two characters"));return this.state.result+="-"+this.state.buf,this.state.buf="",this.next(this.parseStartTimeHour)}if(this.atEndOfWord())return this.returnNow(createDate(this.state.result+"-"+this.state.buf));if(!isDigit(this.char))throw this.error(new TomlError("Incomplete datetime"));this.consume()}parseStartTimeHour(){return this.atEndOfWord()?this.returnNow(createDate(this.state.result)):this.goto(this.parseTimeHour)}parseTimeHour(){if(this.char===CHAR_COLON){if(this.state.buf.length<2)throw this.error(new TomlError("Hours less than 10 must be zero padded to two characters"));return this.state.result+="T"+this.state.buf,this.state.buf="",this.next(this.parseTimeMin)}if(!isDigit(this.char))throw this.error(new TomlError("Incomplete datetime"));this.consume()}parseTimeMin(){if(!(this.state.buf.length<2&&isDigit(this.char))){if(2===this.state.buf.length&&this.char===CHAR_COLON)return this.state.result+=":"+this.state.buf,this.state.buf="",this.next(this.parseTimeSec);throw this.error(new TomlError("Incomplete datetime"))}this.consume()}parseTimeSec(){if(!isDigit(this.char))throw this.error(new TomlError("Incomplete datetime"));if(this.consume(),2===this.state.buf.length)return this.state.result+=":"+this.state.buf,this.state.buf="",this.next(this.parseTimeZoneOrFraction)}parseOnlyTimeHour(){if(this.char===CHAR_COLON){if(this.state.buf.length<2)throw this.error(new TomlError("Hours less than 10 must be zero padded to two characters"));return this.state.result=this.state.buf,this.state.buf="",this.next(this.parseOnlyTimeMin)}throw this.error(new TomlError("Incomplete time"))}parseOnlyTimeMin(){if(!(this.state.buf.length<2&&isDigit(this.char))){if(2===this.state.buf.length&&this.char===CHAR_COLON)return this.state.result+=":"+this.state.buf,this.state.buf="",this.next(this.parseOnlyTimeSec);throw this.error(new TomlError("Incomplete time"))}this.consume()}parseOnlyTimeSec(){if(!isDigit(this.char))throw this.error(new TomlError("Incomplete time"));if(this.consume(),2===this.state.buf.length)return this.next(this.parseOnlyTimeFractionMaybe)}parseOnlyTimeFractionMaybe(){if(this.state.result+=":"+this.state.buf,this.char!==CHAR_PERIOD)return this.return(createTime(this.state.result));this.state.buf="",this.next(this.parseOnlyTimeFraction)}parseOnlyTimeFraction(){if(!isDigit(this.char)){if(this.atEndOfWord()){if(0===this.state.buf.length)throw this.error(new TomlError("Expected digit in milliseconds"));return this.returnNow(createTime(this.state.result+"."+this.state.buf))}throw this.error(new TomlError("Unexpected character in datetime, expected period (.), minus (-), plus (+) or Z"))}this.consume()}parseTimeZoneOrFraction(){if(this.char===CHAR_PERIOD)this.consume(),this.next(this.parseDateTimeFraction);else{if(this.char!==CHAR_HYPHEN&&this.char!==CHAR_PLUS){if(this.char===CHAR_Z)return this.consume(),this.return(createDateTime(this.state.result+this.state.buf));if(this.atEndOfWord())return this.returnNow(createDateTimeFloat(this.state.result+this.state.buf));throw this.error(new TomlError("Unexpected character in datetime, expected period (.), minus (-), plus (+) or Z"))}this.consume(),this.next(this.parseTimeZoneHour)}}parseDateTimeFraction(){if(isDigit(this.char))this.consume();else{if(1===this.state.buf.length)throw this.error(new TomlError("Expected digit in milliseconds"));if(this.char!==CHAR_HYPHEN&&this.char!==CHAR_PLUS){if(this.char===CHAR_Z)return this.consume(),this.return(createDateTime(this.state.result+this.state.buf));if(this.atEndOfWord())return this.returnNow(createDateTimeFloat(this.state.result+this.state.buf));throw this.error(new TomlError("Unexpected character in datetime, expected period (.), minus (-), plus (+) or Z"))}this.consume(),this.next(this.parseTimeZoneHour)}}parseTimeZoneHour(){if(!isDigit(this.char))throw this.error(new TomlError("Unexpected character in datetime, expected digit"));if(this.consume(),/\d\d$/.test(this.state.buf))return this.next(this.parseTimeZoneSep)}parseTimeZoneSep(){if(this.char!==CHAR_COLON)throw this.error(new TomlError("Unexpected character in datetime, expected colon"));this.consume(),this.next(this.parseTimeZoneMin)}parseTimeZoneMin(){if(!isDigit(this.char))throw this.error(new TomlError("Unexpected character in datetime, expected digit"));if(this.consume(),/\d\d$/.test(this.state.buf))return this.return(createDateTime(this.state.result+this.state.buf))}parseBoolean(){return this.char===CHAR_t?(this.consume(),this.next(this.parseTrue_r)):this.char===CHAR_f?(this.consume(),this.next(this.parseFalse_a)):void 0}parseTrue_r(){if(this.char===CHAR_r)return this.consume(),this.next(this.parseTrue_u);throw this.error(new TomlError("Invalid boolean, expected true or false"))}parseTrue_u(){if(this.char===CHAR_u)return this.consume(),this.next(this.parseTrue_e);throw this.error(new TomlError("Invalid boolean, expected true or false"))}parseTrue_e(){if(this.char===CHAR_e)return this.return(!0);throw this.error(new TomlError("Invalid boolean, expected true or false"))}parseFalse_a(){if(this.char===CHAR_a)return this.consume(),this.next(this.parseFalse_l);throw this.error(new TomlError("Invalid boolean, expected true or false"))}parseFalse_l(){if(this.char===CHAR_l)return this.consume(),this.next(this.parseFalse_s);throw this.error(new TomlError("Invalid boolean, expected true or false"))}parseFalse_s(){if(this.char===CHAR_s)return this.consume(),this.next(this.parseFalse_e);throw this.error(new TomlError("Invalid boolean, expected true or false"))}parseFalse_e(){if(this.char===CHAR_e)return this.return(!1);throw this.error(new TomlError("Invalid boolean, expected true or false"))}parseInlineList(){if(this.char===CHAR_SP||this.char===CTRL_I||this.char===CTRL_M||this.char===CTRL_J)return null;if(this.char===o.END)throw this.error(new TomlError("Unterminated inline array"));return this.char===CHAR_NUM?this.call(this.parseComment):this.char===CHAR_RSQB?this.return(this.state.resultArr||InlineList()):this.callNow(this.parseValue,this.recordInlineListValue)}recordInlineListValue(o){if(this.state.resultArr){const l=this.state.resultArr[_contentType],p=tomlType$1(o);if(l!==p)throw this.error(new TomlError(`Inline lists must be a single type, not a mix of ${l} and ${p}`))}else this.state.resultArr=InlineList(tomlType$1(o));return isFloat(o)||isInteger(o)?this.state.resultArr.push(o.valueOf()):this.state.resultArr.push(o),this.goto(this.parseInlineListNext)}parseInlineListNext(){if(this.char===CHAR_SP||this.char===CTRL_I||this.char===CTRL_M||this.char===CTRL_J)return null;if(this.char===CHAR_NUM)return this.call(this.parseComment);if(this.char===CHAR_COMMA)return this.next(this.parseInlineList);if(this.char===CHAR_RSQB)return this.goto(this.parseInlineList);throw this.error(new TomlError("Invalid character, expected whitespace, comma (,) or close bracket (])"))}parseInlineTable(){if(this.char===CHAR_SP||this.char===CTRL_I)return null;if(this.char===o.END||this.char===CHAR_NUM||this.char===CTRL_J||this.char===CTRL_M)throw this.error(new TomlError("Unterminated inline array"));return this.char===CHAR_RCUB?this.return(this.state.resultTable||InlineTable()):(this.state.resultTable||(this.state.resultTable=InlineTable()),this.callNow(this.parseAssign,this.recordInlineTableValue))}recordInlineTableValue(o){let l=this.state.resultTable,p=o.key.pop();for(let p of o.key){if(hasKey(l,p)&&(!isTable(l[p])||l[p][_declared]))throw this.error(new TomlError("Can't redefine existing key"));l=l[p]=l[p]||Table()}if(hasKey(l,p))throw this.error(new TomlError("Can't redefine existing key"));return isInteger(o.value)||isFloat(o.value)?l[p]=o.value.valueOf():l[p]=o.value,this.goto(this.parseInlineTableNext)}parseInlineTableNext(){if(this.char===CHAR_SP||this.char===CTRL_I)return null;if(this.char===o.END||this.char===CHAR_NUM||this.char===CTRL_J||this.char===CTRL_M)throw this.error(new TomlError("Unterminated inline array"));if(this.char===CHAR_COMMA)return this.next(this.parseInlineTable);if(this.char===CHAR_RCUB)return this.goto(this.parseInlineTable);throw this.error(new TomlError("Invalid character, expected whitespace, comma (,) or close bracket (])"))}}}var tomlParserExports=tomlParser.exports,parsePrettyError=prettyError$2;function prettyError$2(o,l){if(null==o.pos||null==o.line)return o;let p=o.message;if(p+=` at row ${o.line+1}, col ${o.col+1}, pos ${o.pos}:\n`,l&&l.split){const m=l.split(/\n/),g=String(Math.min(m.length,o.line+3)).length;let y=" ";for(;y.length<g;)y+=" ";for(let l=Math.max(0,o.line-1);l<Math.min(m.length,o.line+2);++l){let _=String(l+1);if(_.length<g&&(_=" "+_),o.line===l){p+=_+"> "+m[l]+"\n",p+=y+"  ";for(let l=0;l<o.col;++l)p+=" ";p+="^\n"}else p+=_+": "+m[l]+"\n"}}return o.message=p+"\n",o}var parseString_1=parseString;const TOMLParser$2=tomlParserExports,prettyError$1=parsePrettyError;function parseString(o){commonjsGlobal.Buffer&&commonjsGlobal.Buffer.isBuffer(o)&&(o=o.toString("utf8"));const l=new TOMLParser$2;try{return l.parse(o),l.finish()}catch(l){throw prettyError$1(l,o)}}var parseAsync_1=parseAsync;const TOMLParser$1=tomlParserExports,prettyError=parsePrettyError;function parseAsync(o,l){l||(l={});const p=l.blocksize||40960,m=new TOMLParser$1;return new Promise((o,l)=>{setImmediate(parseAsyncNext,0,p,o,l)});function parseAsyncNext(l,p,g,y){if(l>=o.length)try{return g(m.finish())}catch(l){return y(prettyError(l,o))}try{m.parse(o.slice(l,l+p)),setImmediate(parseAsyncNext,l+p,p,g,y)}catch(l){y(prettyError(l,o))}}}var parseStream_1=parseStream;const stream=require$$0$4,TOMLParser=tomlParserExports;function parseStream(o){return o?parseReadable(o):parseTransform()}function parseReadable(o){const l=new TOMLParser;return o.setEncoding("utf8"),new Promise((p,m)=>{let g,y=!1,_=!1;function finish(){if(y=!0,!g)try{p(l.finish())}catch(o){m(o)}}function error(o){_=!0,m(o)}o.once("end",finish),o.once("error",error),function readNext(){let p;g=!0;for(;null!==(p=o.read());)try{l.parse(p)}catch(o){return error(o)}if(g=!1,y)return finish();if(_)return;o.once("readable",readNext)}()})}function parseTransform(){const o=new TOMLParser;return new stream.Transform({objectMode:!0,transform(l,p,m){try{o.parse(l.toString(p))}catch(o){this.emit("error",o)}m()},flush(l){try{this.push(o.finish())}catch(o){this.emit("error",o)}l()}})}parse$1.exports=parseString_1,parse$1.exports.async=parseAsync_1,parse$1.exports.stream=parseStream_1,parse$1.exports.prettyError=parsePrettyError;var parseExports=parse$1.exports,stringify$1={exports:{}};function stringify(o){if(null===o)throw typeError("null");if(void 0===o)throw typeError("undefined");if("object"!=typeof o)throw typeError(typeof o);if("function"==typeof o.toJSON&&(o=o.toJSON()),null==o)return null;const l=tomlType(o);if("table"!==l)throw typeError(l);return stringifyObject("","",o)}function typeError(o){return new Error("Can only stringify objects, not "+o)}function arrayOneTypeError(){return new Error("Array values can't have mixed types")}function getInlineKeys(o){return Object.keys(o).filter(l=>isInline(o[l]))}function getComplexKeys(o){return Object.keys(o).filter(l=>!isInline(o[l]))}function toJSON(o){let l=Array.isArray(o)?[]:Object.prototype.hasOwnProperty.call(o,"__proto__")?{["__proto__"]:void 0}:{};for(let p of Object.keys(o))o[p]&&"function"==typeof o[p].toJSON&&!("toISOString"in o[p])?l[p]=o[p].toJSON():l[p]=o[p];return l}function stringifyObject(o,l,p){var m,g;m=getInlineKeys(p=toJSON(p)),g=getComplexKeys(p);var y=[],_=l||"";m.forEach(o=>{var l=tomlType(p[o]);"undefined"!==l&&"null"!==l&&y.push(_+stringifyKey(o)+" = "+stringifyAnyInline(p[o],!0))}),y.length>0&&y.push("");var b=o&&m.length>0?l+"  ":"";return g.forEach(l=>{y.push(stringifyComplex(o,b,l,p[l]))}),y.join("\n")}function isInline(o){switch(tomlType(o)){case"undefined":case"null":case"integer":case"nan":case"float":case"boolean":case"string":case"datetime":return!0;case"array":return 0===o.length||"table"!==tomlType(o[0]);case"table":return 0===Object.keys(o).length;default:return!1}}function tomlType(o){return void 0===o?"undefined":null===o?"null":"bigint"==typeof o||Number.isInteger(o)&&!Object.is(o,-0)?"integer":"number"==typeof o?"float":"boolean"==typeof o?"boolean":"string"==typeof o?"string":"toISOString"in o?isNaN(o)?"undefined":"datetime":Array.isArray(o)?"array":"table"}function stringifyKey(o){var l=String(o);return/^[-A-Za-z0-9_]+$/.test(l)?l:stringifyBasicString(l)}function stringifyBasicString(o){return'"'+escapeString(o).replace(/"/g,'\\"')+'"'}function stringifyLiteralString(o){return"'"+o+"'"}function numpad(o,l){for(;l.length<o;)l="0"+l;return l}function escapeString(o){return o.replace(/\\/g,"\\\\").replace(/[\b]/g,"\\b").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\f/g,"\\f").replace(/\r/g,"\\r").replace(/([\u0000-\u001f\u007f])/,o=>"\\u"+numpad(4,o.codePointAt(0).toString(16)))}function stringifyMultilineString(o){let l=o.split(/\n/).map(o=>escapeString(o).replace(/"(?="")/g,'\\"')).join("\n");return'"'===l.slice(-1)&&(l+="\\\n"),'"""\n'+l+'"""'}function stringifyAnyInline(o,l){let p=tomlType(o);return"string"===p&&(l&&/\n/.test(o)?p="string-multiline":!/[\b\t\n\f\r']/.test(o)&&/"/.test(o)&&(p="string-literal")),stringifyInline(o,p)}function stringifyInline(o,l){switch(l||(l=tomlType(o)),l){case"string-multiline":return stringifyMultilineString(o);case"string":return stringifyBasicString(o);case"string-literal":return stringifyLiteralString(o);case"integer":return stringifyInteger(o);case"float":return stringifyFloat(o);case"boolean":return stringifyBoolean(o);case"datetime":return stringifyDatetime(o);case"array":return stringifyInlineArray(o.filter(o=>"null"!==tomlType(o)&&"undefined"!==tomlType(o)&&"nan"!==tomlType(o)));case"table":return stringifyInlineTable(o);default:throw typeError(l)}}function stringifyInteger(o){return String(o).replace(/\B(?=(\d{3})+(?!\d))/g,"_")}function stringifyFloat(o){if(o===1/0)return"inf";if(o===-1/0)return"-inf";if(Object.is(o,NaN))return"nan";if(Object.is(o,-0))return"-0.0";var l=String(o).split("."),p=l[0],m=l[1]||0;return stringifyInteger(p)+"."+m}function stringifyBoolean(o){return String(o)}function stringifyDatetime(o){return o.toISOString()}function isNumber(o){return"float"===o||"integer"===o}function arrayType$1(o){var l=tomlType(o[0]);return o.every(o=>tomlType(o)===l)?l:o.every(o=>isNumber(tomlType(o)))?"float":"mixed"}function validateArray(o){const l=arrayType$1(o);if("mixed"===l)throw arrayOneTypeError();return l}function stringifyInlineArray(o){const l=validateArray(o=toJSON(o));var p="[",m=o.map(o=>stringifyInline(o,l));return m.join(", ").length>60||/\n/.test(m)?p+="\n  "+m.join(",\n  ")+"\n":p+=" "+m.join(", ")+(m.length>0?" ":""),p+"]"}function stringifyInlineTable(o){o=toJSON(o);var l=[];return Object.keys(o).forEach(p=>{l.push(stringifyKey(p)+" = "+stringifyAnyInline(o[p],!1))}),"{ "+l.join(", ")+(l.length>0?" ":"")+"}"}function stringifyComplex(o,l,p,m){var g=tomlType(m);if("array"===g)return stringifyArrayOfTables(o,l,p,m);if("table"===g)return stringifyComplexTable(o,l,p,m);throw typeError(g)}function stringifyArrayOfTables(o,l,p,m){validateArray(m=toJSON(m));var g=tomlType(m[0]);if("table"!==g)throw typeError(g);var y=o+stringifyKey(p),_="";return m.forEach(o=>{_.length>0&&(_+="\n"),_+=l+"[["+y+"]]\n",_+=stringifyObject(y+".",l,o)}),_}function stringifyComplexTable(o,l,p,m){var g=o+stringifyKey(p),y="";return getInlineKeys(m).length>0&&(y+=l+"["+g+"]\n"),y+stringifyObject(g+".",l,m)}stringify$1.exports=stringify,stringify$1.exports.value=stringifyInline;var stringifyExports=stringify$1.exports;toml.parse=parseExports,toml.stringify=stringifyExports;const os$1=require$$0$2,path$4=require$$1,CONFIG_FILE$1=path$4.join(os$1.homedir(),".ccapi-config.json"),CLAUDE_ENV_KEYS$2={url:"ANTHROPIC_BASE_URL",key:"ANTHROPIC_API_KEY",token:"ANTHROPIC_AUTH_TOKEN",model:"ANTHROPIC_MODEL",fast:"ANTHROPIC_SMALL_FAST_MODEL",timeout:"API_TIMEOUT_MS",tokens:"CLAUDE_CODE_MAX_OUTPUT_TOKENS",http:"HTTP_PROXY",https:"HTTPS_PROXY"},ERROR_MESSAGES$5={CONFIG_NOT_FOUND:"配置文件未找到，请先使用 ccapi set 设置路径",SETTINGS_NOT_FOUND:"settings文件不存在，请检查路径设置",API_CONFIG_NOT_FOUND:"api配置文件不存在，请检查路径设置(支持JSON,JSON5,YAML,TOML格式)",INVALID_JSON:"JSON文件格式错误",INVALID_YAML:"YAML文件格式错误",INVALID_TOML:"TOML文件格式错误",CONFIG_NAME_NOT_FOUND:"指定的配置名称不存在",SAME_CONFIG:"当前已使用该配置",BACKUP_FAILED:"settings文件备份失败"},SUCCESS_MESSAGES$2={CONFIG_SAVED:"配置路径已保存",CONFIG_SWITCHED:"配置切换成功",RESTART_TERMINAL:"(提示: 重启Claude Code终端后配置生效!)",BACKUP_CREATED:"settings文件已备份"};var constants$1={CONFIG_FILE:CONFIG_FILE$1,CLAUDE_ENV_KEYS:CLAUDE_ENV_KEYS$2,ERROR_MESSAGES:ERROR_MESSAGES$5,SUCCESS_MESSAGES:SUCCESS_MESSAGES$2};const fs$2=lib$1,path$3=require$$1,JSON5=require$$2.default,yaml=jsYaml,{load:tomlLoad}=distExports,TOML=toml,{ERROR_MESSAGES:ERROR_MESSAGES$4}=constants$1,SUPPORTED_FORMATS={".json":"json",".jsonc":"json5",".json5":"json5",".yaml":"yaml",".yml":"yaml",".toml":"toml"};function getConfigFormat(o){const l=path$3.extname(o).toLowerCase();return SUPPORTED_FORMATS[l]||null}async function readConfigFile$6(o){try{if(!await fs$2.pathExists(o))throw new Error(`文件不存在: ${o}`);const l=await fs$2.readFile(o,"utf8"),p=getConfigFormat(o);if(!p)throw new Error(`不支持的配置文件格式: ${path$3.extname(o)}`);let m;switch(p){case"json":m=JSON.parse(l);break;case"json5":m=JSON5.parse(l);break;case"yaml":m=yaml.load(l);break;case"toml":m=tomlLoad(l);break;default:throw new Error(`未实现的配置文件格式: ${p}`)}return m}catch(l){if("JSONError"===l.name||l.message.includes("JSON"))throw new Error(`${ERROR_MESSAGES$4.INVALID_JSON}: ${o} - ${l.message}`);if("YAMLException"===l.name)throw new Error(`${ERROR_MESSAGES$4.INVALID_YAML}: ${o} - ${l.message}`);if("TomlError"===l.name||l.message.includes("TOML"))throw new Error(`${ERROR_MESSAGES$4.INVALID_TOML}: ${o} - ${l.message}`);throw l}}async function writeConfigFile$3(o,l){try{await fs$2.ensureDir(path$3.dirname(o));let p;switch(getConfigFormat(o)){case"json":p=JSON.stringify(l,null,2);break;case"json5":p=JSON5.stringify(l,null,2);break;case"yaml":p=yaml.dump(l,{indent:2,lineWidth:-1,noRefs:!0});break;case"toml":p=TOML.stringify(l);break;default:throw new Error(`不支持的配置文件格式: ${path$3.extname(o)}`)}await fs$2.writeFile(o,p,"utf8")}catch(l){throw new Error(`写入文件失败: ${o} - ${l.message}`)}}function validateApiConfigPath$1(o){if(!o||"string"!=typeof o)return!1;if(!path$3.isAbsolute(o))return!1;const l=path$3.extname(o).toLowerCase();return Object.keys(SUPPORTED_FORMATS).includes(l)}var configReader={readConfigFile:readConfigFile$6,writeConfigFile:writeConfigFile$3,validateApiConfigPath:validateApiConfigPath$1};const fs$1=lib$1,path$2=require$$1,{readConfigFile:readFile,writeConfigFile:writeFile}=configReader,{ERROR_MESSAGES:ERROR_MESSAGES$3}=constants$1;async function readConfigFile$5(o){return await readFile(o)}async function writeConfigFile$2(o,l){return await writeFile(o,l)}async function backupFile$1(o){try{const l=`${o}.backup`;return await fs$1.copy(o,l),l}catch(o){throw new Error(`${ERROR_MESSAGES$3.BACKUP_FAILED}: ${o.message}`)}}async function fileExists$2(o){return await fs$1.pathExists(o)}function validatePath$1(o){if(!o||"string"!=typeof o)return!1;if(!path$2.isAbsolute(o))return!1;return".json"===path$2.extname(o).toLowerCase()}var file={readConfigFile:readConfigFile$5,writeConfigFile:writeConfigFile$2,backupFile:backupFile$1,fileExists:fileExists$2,validatePath:validatePath$1};const{validatePath:validatePath}=file,{validateApiConfigPath:validateApiConfigPath}=configReader;function validateApiConfig$3(o){if(!o)return!1;const l=Object.keys(o);if(0===l.length)return!1;for(const p of l){const l=o[p];if(!l||!l.url||!l.key&&!l.token)return!1}return!0}function validateSettingsConfig$2(o){return!(!o||"object"!=typeof o)}function validateConfigName$1(o,l){return o&&void 0!==o[l]}function validateSetCommand$1(o){const{settings:l,api:p}=o;return l&&!validatePath(l)?{valid:!1,error:"settings路径格式错误，请提供绝对路径的settings.json文件"}:p&&!validateApiConfigPath(p)?{valid:!1,error:"api路径格式错误，请提供绝对路径的配置文件（支持 .json、.json5、.jsonc、.yaml、.yml）"}:{valid:!0}}var validator={validateApiConfig:validateApiConfig$3,validateSettingsConfig:validateSettingsConfig$2,validateConfigName:validateConfigName$1,validateSetCommand:validateSetCommand$1};const{readConfigFile:readConfigFile$4,writeConfigFile:writeConfigFile$1,fileExists:fileExists$1}=file,{CONFIG_FILE:CONFIG_FILE,ERROR_MESSAGES:ERROR_MESSAGES$2}=constants$1;async function readConfig$1(){try{return await fileExists$1(CONFIG_FILE)?await readConfigFile$4(CONFIG_FILE):{}}catch(o){throw new Error(`读取配置失败: ${o.message}`)}}async function writeConfig(o){try{await writeConfigFile$1(CONFIG_FILE,o)}catch(o){throw new Error(`保存配置失败: ${o.message}`)}}async function getSettingsPath$1(){return(await readConfig$1()).settingsPath||null}async function getApiConfigPath$1(){return(await readConfig$1()).apiConfigPath||null}async function setSettingsPath$1(o){const l=await readConfig$1();l.settingsPath=o,await writeConfig(l)}async function setApiConfigPath$1(o){const l=await readConfig$1();l.apiConfigPath=o,await writeConfig(l)}async function validateConfig$4(){const o=await readConfig$1();if(!o.settingsPath)throw new Error("未设置settings.json路径");if(!o.apiConfigPath)throw new Error("未设置api.json路径");if(!await fileExists$1(o.settingsPath))throw new Error(ERROR_MESSAGES$2.SETTINGS_NOT_FOUND);if(!await fileExists$1(o.apiConfigPath))throw new Error(ERROR_MESSAGES$2.API_CONFIG_NOT_FOUND);return o}var config={readConfig:readConfig$1,getSettingsPath:getSettingsPath$1,getApiConfigPath:getApiConfigPath$1,setSettingsPath:setSettingsPath$1,setApiConfigPath:setApiConfigPath$1,validateConfig:validateConfig$4};const chalk$5=source$1,{validateSetCommand:validateSetCommand}=validator,{setSettingsPath:setSettingsPath,setApiConfigPath:setApiConfigPath,getSettingsPath:getSettingsPath,getApiConfigPath:getApiConfigPath}=config,{fileExists:fileExists}=file,{SUCCESS_MESSAGES:SUCCESS_MESSAGES$1}=constants$1;async function setCommand$1(o){try{const{settings:l,api:p}=o;if(!l&&!p){console.log(chalk$5.green("当前配置路径:"));try{const o=await getSettingsPath(),l=await getApiConfigPath();if(o){const l=await fileExists(o),p=l?chalk$5.green("✓"):chalk$5.red("✗");console.log(`  settings.json: ${p} ${chalk$5.cyan(o)}`),l||console.log(`    ${chalk$5.yellow("警告: 当前路径文件不存在")}`)}else console.log(`  settings.json: ${chalk$5.yellow("未设置")}`);if(l){const o=await fileExists(l),p=o?chalk$5.green("✓"):chalk$5.red("✗");console.log(`  api.json: ${p} ${chalk$5.cyan(l)}`),o||console.log(`    ${chalk$5.yellow("警告: 当前路径文件不存在")}`)}else console.log(`  api.json: ${chalk$5.yellow("未设置")}`);console.log(),console.log("使用以下命令设置路径:"),console.log(`  ${chalk$5.cyan("ccapi set --settings <path>")} - 设置 settings.json 路径`),console.log(`  ${chalk$5.cyan("ccapi set --api <path>")} - 设置 api.json 路径`)}catch(o){console.error(chalk$5.red("读取配置失败:"),o.message)}return}const m=validateSetCommand(o);if(!m.valid)return void console.error(chalk$5.red("参数错误:"),m.error);const g=[];l&&(await fileExists(l)||(console.warn(chalk$5.yellow("警告:"),`settings.json文件不存在: ${l}`),console.log("路径已保存，请确保文件存在后再使用其他命令")),await setSettingsPath(l),g.push(`settings.json 路径: ${chalk$5.green(l)}`)),p&&(await fileExists(p)||(console.warn(chalk$5.yellow("警告:"),`api.json文件不存在: ${p}`),console.log("路径已保存，请确保文件存在后再使用其他命令")),await setApiConfigPath(p),g.push(`api.json 路径: ${chalk$5.green(p)}`)),console.log(chalk$5.blue(SUCCESS_MESSAGES$1.CONFIG_SAVED)),g.forEach(o=>console.log(`  ${o}`))}catch(o){console.error(chalk$5.red("设置失败:"),o.message),process.exit(1)}}var set=setCommand$1;const chalk$4=source$1,{validateConfig:validateConfig$3}=config,{readConfigFile:readConfigFile$3}=file,{validateApiConfig:validateApiConfig$2,validateSettingsConfig:validateSettingsConfig$1}=validator,{CLAUDE_ENV_KEYS:CLAUDE_ENV_KEYS$1,ERROR_MESSAGES:ERROR_MESSAGES$1}=constants$1;function getCurrentConfigInfo(o,l){const p=o.env?.[CLAUDE_ENV_KEYS$1.url],m=o.env?.[CLAUDE_ENV_KEYS$1.key],g=o.env?.[CLAUDE_ENV_KEYS$1.token],y=o.env?.[CLAUDE_ENV_KEYS$1.model],_=o.env?.[CLAUDE_ENV_KEYS$1.fast];if(!(m||g)&&!p)return{name:null,urlIndex:-1,keyIndex:-1,tokenIndex:-1,modelIndex:-1,fastIndex:-1};for(const[o,b]of Object.entries(l)){let l=!1;if(m&&(Array.isArray(b.key)?b.key.includes(m)&&(l=!0):b.key===m&&(l=!0)),g&&!l&&(Array.isArray(b.token)?b.token.includes(g)&&(l=!0):b.token===g&&(l=!0)),m||g||!p||(Array.isArray(b.url)?b.url.includes(p)&&(l=!0):b.url===p&&(l=!0)),l){let l=-1,S=-1,A=-1,T=-1,w=-1;return p&&(Array.isArray(b.url)?l=b.url.indexOf(p):b.url===p&&(l=0)),m&&(Array.isArray(b.key)?S=b.key.indexOf(m):b.key===m&&(S=0)),g&&(Array.isArray(b.token)?A=b.token.indexOf(g):b.token===g&&(A=0)),y&&(Array.isArray(b.model)?T=b.model.indexOf(y):b.model===y&&(T=0)),_&&(Array.isArray(b.fast)?w=b.fast.indexOf(_):b.fast===_&&(w=0)),{name:o,urlIndex:l,keyIndex:S,tokenIndex:A,modelIndex:T,fastIndex:w}}}return{name:null,urlIndex:-1,keyIndex:-1,tokenIndex:-1,modelIndex:-1,fastIndex:-1}}function formatFieldDisplay(o,l,p,m=!1){if(Array.isArray(o)){const g=[`${p}:`];return o.forEach((o,p)=>{const y=p===l,_=y?"    * - ":"      - ";let b=o;m&&o&&o.length>15&&(b=o.slice(0,15)+"...");const S=`${_}${p+1}: ${y?chalk$4.green.bold(b):chalk$4.cyan(b)}`;g.push(y?chalk$4.green.bold(S):S)}),g}{let g=o;m&&o&&o.length>15&&(g=o.slice(0,15)+"...");return[`${p}: ${0===l?chalk$4.green.bold(g):chalk$4.cyan(g)}`]}}function formatConfigDisplay(o,l,p){const m=o===p.name,g=m?chalk$4.green("* "):"  ",y=m?chalk$4.green.bold(`[${o}]`):chalk$4.cyan(`[${o}]`);l.model=l.model||"claude-sonnet-4-20250514";let _=[];const b=formatFieldDisplay(l.url,m?p.urlIndex:-1,"URL");_.push(...b);const S=formatFieldDisplay(l.model,m?p.modelIndex:-1,"Model");if(_.push(...S),l.fast){const o=formatFieldDisplay(l.fast,m?p.fastIndex:-1,"Fast");_.push(...o)}if(l.key){const o=formatFieldDisplay(l.key,m?p.keyIndex:-1,"Key",!0);_.push(...o)}if(l.token){const o=formatFieldDisplay(l.token,m?p.tokenIndex:-1,"Token",!0);_.push(...o)}l.http&&_.push(`HTTP: ${chalk$4.cyan(l.http)}`),l.https&&_.push(`HTTPS: ${chalk$4.cyan(l.https)}`),console.log(`${g}${y}`),_.forEach(o=>{console.log(`    ${o}`)})}async function listCommand$1(){try{const o=await validateConfig$3(),l=await readConfigFile$3(o.apiConfigPath);if(!validateApiConfig$2(l))return void console.error(chalk$4.red("错误:"),"api配置文件格式不正确");const p=await readConfigFile$3(o.settingsPath);if(!validateSettingsConfig$1(p))return void console.error(chalk$4.red("错误:"),"settings.json文件格式不正确");const m=getCurrentConfigInfo(p,l);console.log(chalk$4.green.bold("可用的API配置:"));const g=Object.keys(l);if(0===g.length)return void console.log(chalk$4.yellow("暂无可用配置"));g.sort().forEach(o=>{formatConfigDisplay(o,l[o],m),console.log()}),m.name?console.log(chalk$4.green.bold(`当前使用的配置: ${m.name}`)):console.log(chalk$4.yellow("当前未进行任何配置"))}catch(o){o.message.includes("未设置")||o.message.includes("不存在")?(console.error(chalk$4.red("配置错误:"),o.message),console.log("请先使用",chalk$4.cyan("ccapi set"),"命令设置配置文件路径")):console.error(chalk$4.red("列举配置失败:"),o.message),process.exit(1)}}var list=listCommand$1;const chalk$3=source$1,{validateConfig:validateConfig$2}=config,{readConfigFile:readConfigFile$2,writeConfigFile:writeConfigFile,backupFile:backupFile}=file,{validateApiConfig:validateApiConfig$1,validateSettingsConfig:validateSettingsConfig,validateConfigName:validateConfigName}=validator,{CLAUDE_ENV_KEYS:CLAUDE_ENV_KEYS,ERROR_MESSAGES:ERROR_MESSAGES,SUCCESS_MESSAGES:SUCCESS_MESSAGES}=constants$1;function updateSettingsEnv(o,l){o.env||(o.env={});const p=o.env;return p[CLAUDE_ENV_KEYS.url]=l.url,p[CLAUDE_ENV_KEYS.model]=l.model,l.fast?p[CLAUDE_ENV_KEYS.fast]=l.fast:delete p[CLAUDE_ENV_KEYS.fast],l.timeout?p[CLAUDE_ENV_KEYS.timeout]=l.timeout:delete p[CLAUDE_ENV_KEYS.timeout],l.tokens?p[CLAUDE_ENV_KEYS.tokens]=l.tokens:delete p[CLAUDE_ENV_KEYS.tokens],l.key&&l.token?(p[CLAUDE_ENV_KEYS.key]=l.key,p[CLAUDE_ENV_KEYS.token]=l.token):(l.key&&(p[CLAUDE_ENV_KEYS.key]=l.key,delete p[CLAUDE_ENV_KEYS.token]),l.token&&(p[CLAUDE_ENV_KEYS.token]=l.token,delete p[CLAUDE_ENV_KEYS.key])),l.http?p[CLAUDE_ENV_KEYS.http]=l.http:delete p[CLAUDE_ENV_KEYS.http],l.https?p[CLAUDE_ENV_KEYS.https]=l.https:delete p[CLAUDE_ENV_KEYS.https],o}function selectFieldValue(o,l,p){if(Array.isArray(o)){const p=l>0?l-1:0;if(p>=o.length)throw new Error(`索引 ${l} 超出范围，可用范围: 1-${o.length}`);return o[p]}return o||p}async function useCommand$2(o,l={}){try{const p=await validateConfig$2(),m=await readConfigFile$2(p.apiConfigPath);if(!validateApiConfig$1(m))return void console.error(chalk$3.red("错误:"),"api.json文件格式不正确");if(!validateConfigName(m,o))return console.error(chalk$3.red("设置错误:"),`${ERROR_MESSAGES.CONFIG_NAME_NOT_FOUND}: ${o}`),void console.log(chalk$3.green("当前可用的配置:"),Object.keys(m).join(", "));const g=await readConfigFile$2(p.settingsPath);if(!validateSettingsConfig(g))return void console.error(chalk$3.red("错误:"),"settings.json文件格式不正确");const y={...m[o]};y.model=y.model||"claude-sonnet-4-20250514";try{const o=selectFieldValue(y.url,l.url?parseInt(l.url):0,y.url),p=selectFieldValue(y.key,l.key?parseInt(l.key):0,y.key),m=selectFieldValue(y.token,l.token?parseInt(l.token):0,y.token),g=selectFieldValue(y.model,l.model?parseInt(l.model):0,"claude-sonnet-4-20250514"),_=selectFieldValue(y.fast,l.fast?parseInt(l.fast):0,"");y.url=o,y.key=p,y.token=m,y.model=g,y.fast=_}catch(o){return void console.error(chalk$3.red("参数错误:"),o.message)}const _=await backupFile(p.settingsPath);console.log(SUCCESS_MESSAGES.BACKUP_CREATED,`(${_})`),console.log(`正在切换配置: ${o}`);const b=updateSettingsEnv(g,y);if(await writeConfigFile(p.settingsPath,b),console.log(),console.log(chalk$3.green.bold(SUCCESS_MESSAGES.CONFIG_SWITCHED)+chalk$3.yellow.bold(SUCCESS_MESSAGES.RESTART_TERMINAL)),console.log(),console.log(chalk$3.green.bold("当前配置详情:")),console.log(`  名称: ${chalk$3.cyan(o)}`),console.log(`  URL: ${chalk$3.cyan(y.url)}`),console.log(`  Model: ${chalk$3.cyan(y.model)}`),y.fast&&console.log(`  Fast: ${chalk$3.cyan(y.fast)}`),y.key){const o=y.key.length>25?y.key.slice(0,25)+"...":y.key;console.log(`  Key: ${chalk$3.cyan(o)}`)}if(y.token){const o=y.token.length>25?y.token.slice(0,25)+"...":y.token;console.log(`  Token: ${chalk$3.cyan(o)}`)}y.http&&console.log(`  HTTP Proxy: ${chalk$3.cyan(y.http)}`),y.https&&console.log(`  HTTPS Proxy: ${chalk$3.cyan(y.https)}`),console.log()}catch(o){o.message.includes("未设置")||o.message.includes("不存在")?(console.error(chalk$3.red("配置错误:"),o.message),console.log("请先使用",chalk$3.cyan("ccapi set"),"命令设置配置文件路径")):console.error(chalk$3.red("切换配置失败:"),o.message),process.exit(1)}}var use=useCommand$2,test={exports:{}},__create=Object.create,__getProtoOf=Object.getPrototypeOf,__defProp=Object.defineProperty,__getOwnPropNames=Object.getOwnPropertyNames,__hasOwnProp=Object.prototype.hasOwnProperty,__toESM=(o,l,p)=>{p=null!=o?__create(__getProtoOf(o)):{};const m=__defProp(p,"default",{value:o,enumerable:!0});for(let l of __getOwnPropNames(o))__hasOwnProp.call(m,l)||__defProp(m,l,{get:()=>o[l],enumerable:!0});return m},__commonJS=(o,l)=>()=>(l||o((l={exports:{}}).exports,l),l.exports),__export=(o,l)=>{for(var p in l)__defProp(o,p,{get:l[p],enumerable:!0,configurable:!0,set:o=>l[p]=()=>o})},require_uri_all=__commonJS((o,l)=>{!function(p,m){"object"==typeof o&&void 0!==l?m(o):"function"==typeof define&&define.amd?define(["exports"],m):m(p.URI=p.URI||{})}(o,function(o){function merge(){for(var o=arguments.length,l=Array(o),p=0;p<o;p++)l[p]=arguments[p];if(l.length>1){l[0]=l[0].slice(0,-1);for(var m=l.length-1,g=1;g<m;++g)l[g]=l[g].slice(1,-1);return l[m]=l[m].slice(1),l.join("")}return l[0]}function subexp(o){return"(?:"+o+")"}function typeOf(o){return void 0===o?"undefined":null===o?"null":Object.prototype.toString.call(o).split(" ").pop().split("]").shift().toLowerCase()}function toUpperCase(o){return o.toUpperCase()}function buildExps(o){var l="[A-Za-z]",p="[0-9]",m=merge(p,"[A-Fa-f]"),g=subexp(subexp("%[EFef]"+m+"%"+m+m+"%"+m+m)+"|"+subexp("%[89A-Fa-f]"+m+"%"+m+m)+"|"+subexp("%"+m+m)),y="[\\!\\$\\&\\'\\(\\)\\*\\+\\,\\;\\=]",_=merge("[\\:\\/\\?\\#\\[\\]\\@]",y),b=o?"[\\uE000-\\uF8FF]":"[]",S=merge(l,p,"[\\-\\.\\_\\~]",o?"[\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]":"[]");subexp(l+merge(l,p,"[\\+\\-\\.]")+"*"),subexp(subexp(g+"|"+merge(S,y,"[\\:]"))+"*");var A=subexp(subexp("25[0-5]")+"|"+subexp("2[0-4]"+p)+"|"+subexp("1"+p+p)+"|"+subexp("0?[1-9]"+p)+"|0?0?"+p),T=subexp(A+"\\."+A+"\\."+A+"\\."+A),w=subexp(m+"{1,4}"),D=subexp(subexp(w+"\\:"+w)+"|"+T),O=subexp(subexp(w+"\\:")+"{6}"+D),k=subexp("\\:\\:"+subexp(w+"\\:")+"{5}"+D),I=subexp(subexp(w)+"?\\:\\:"+subexp(w+"\\:")+"{4}"+D),N=subexp(subexp(subexp(w+"\\:")+"{0,1}"+w)+"?\\:\\:"+subexp(w+"\\:")+"{3}"+D),L=subexp(subexp(subexp(w+"\\:")+"{0,2}"+w)+"?\\:\\:"+subexp(w+"\\:")+"{2}"+D),j=subexp(subexp(subexp(w+"\\:")+"{0,3}"+w)+"?\\:\\:"+w+"\\:"+D),B=subexp(subexp(subexp(w+"\\:")+"{0,4}"+w)+"?\\:\\:"+D),U=subexp(subexp(subexp(w+"\\:")+"{0,5}"+w)+"?\\:\\:"+w),q=subexp(subexp(subexp(w+"\\:")+"{0,6}"+w)+"?\\:\\:"),Z=subexp([O,k,I,N,L,j,B,U,q].join("|")),H=subexp(subexp(S+"|"+g)+"+");subexp("[vV]"+m+"+\\."+merge(S,y,"[\\:]")+"+"),subexp(subexp(g+"|"+merge(S,y))+"*");var G=subexp(g+"|"+merge(S,y,"[\\:\\@]"));return subexp(subexp(g+"|"+merge(S,y,"[\\@]"))+"+"),subexp(subexp(G+"|"+merge("[\\/\\?]",b))+"*"),{NOT_SCHEME:new RegExp(merge("[^]",l,p,"[\\+\\-\\.]"),"g"),NOT_USERINFO:new RegExp(merge("[^\\%\\:]",S,y),"g"),NOT_HOST:new RegExp(merge("[^\\%\\[\\]\\:]",S,y),"g"),NOT_PATH:new RegExp(merge("[^\\%\\/\\:\\@]",S,y),"g"),NOT_PATH_NOSCHEME:new RegExp(merge("[^\\%\\/\\@]",S,y),"g"),NOT_QUERY:new RegExp(merge("[^\\%]",S,y,"[\\:\\@\\/\\?]",b),"g"),NOT_FRAGMENT:new RegExp(merge("[^\\%]",S,y,"[\\:\\@\\/\\?]"),"g"),ESCAPE:new RegExp(merge("[^]",S,y),"g"),UNRESERVED:new RegExp(S,"g"),OTHER_CHARS:new RegExp(merge("[^\\%]",S,_),"g"),PCT_ENCODED:new RegExp(g,"g"),IPV4ADDRESS:new RegExp("^("+T+")$"),IPV6ADDRESS:new RegExp("^\\[?("+Z+")"+subexp(subexp("\\%25|\\%(?!"+m+"{2})")+"("+H+")")+"?\\]?$")}}var l=buildExps(!1),p=buildExps(!0),slicedToArray=function(o,l){if(Array.isArray(o))return o;if(Symbol.iterator in Object(o))return function(o,l){var p=[],m=!0,g=!1,y=void 0;try{for(var _,b=o[Symbol.iterator]();!(m=(_=b.next()).done)&&(p.push(_.value),!l||p.length!==l);m=!0);}catch(o){g=!0,y=o}finally{try{!m&&b.return&&b.return()}finally{if(g)throw y}}return p}(o,l);throw new TypeError("Invalid attempt to destructure non-iterable instance")},m=2147483647,g=36,y=/^xn--/,_=/[^\0-\x7E]/,b=/[\x2E\u3002\uFF0E\uFF61]/g,S={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},A=Math.floor,T=String.fromCharCode;function error$1(o){throw new RangeError(S[o])}function mapDomain(o,l){var p=o.split("@"),m="";p.length>1&&(m=p[0]+"@",o=p[1]);var g=function(o,l){for(var p=[],m=o.length;m--;)p[m]=l(o[m]);return p}((o=o.replace(b,".")).split("."),l).join(".");return m+g}function ucs2decode(o){for(var l=[],p=0,m=o.length;p<m;){var g=o.charCodeAt(p++);if(g>=55296&&g<=56319&&p<m){var y=o.charCodeAt(p++);56320==(64512&y)?l.push(((1023&g)<<10)+(1023&y)+65536):(l.push(g),p--)}else l.push(g)}return l}var basicToDigit=function(o){return o-48<10?o-22:o-65<26?o-65:o-97<26?o-97:g},digitToBasic=function(o,l){return o+22+75*(o<26)-((0!=l)<<5)},adapt=function(o,l,p){var m=0;for(o=p?A(o/700):o>>1,o+=A(o/l);o>455;m+=g)o=A(o/35);return A(m+36*o/(o+38))},decode=function(o){var l=[],p=o.length,y=0,_=128,b=72,S=o.lastIndexOf("-");S<0&&(S=0);for(var T=0;T<S;++T)o.charCodeAt(T)>=128&&error$1("not-basic"),l.push(o.charCodeAt(T));for(var w=S>0?S+1:0;w<p;){for(var D=y,O=1,k=g;;k+=g){w>=p&&error$1("invalid-input");var I=basicToDigit(o.charCodeAt(w++));(I>=g||I>A((m-y)/O))&&error$1("overflow"),y+=I*O;var N=k<=b?1:k>=b+26?26:k-b;if(I<N)break;var L=g-N;O>A(m/L)&&error$1("overflow"),O*=L}var j=l.length+1;b=adapt(y-D,j,0==D),A(y/j)>m-_&&error$1("overflow"),_+=A(y/j),y%=j,l.splice(y++,0,_)}return String.fromCodePoint.apply(String,l)},encode=function(o){var l=[],p=(o=ucs2decode(o)).length,y=128,_=0,b=72,S=!0,w=!1,D=void 0;try{for(var O,k=o[Symbol.iterator]();!(S=(O=k.next()).done);S=!0){var I=O.value;I<128&&l.push(T(I))}}catch(o){w=!0,D=o}finally{try{!S&&k.return&&k.return()}finally{if(w)throw D}}var N=l.length,L=N;for(N&&l.push("-");L<p;){var j=m,B=!0,U=!1,q=void 0;try{for(var Z,H=o[Symbol.iterator]();!(B=(Z=H.next()).done);B=!0){var G=Z.value;G>=y&&G<j&&(j=G)}}catch(o){U=!0,q=o}finally{try{!B&&H.return&&H.return()}finally{if(U)throw q}}var z=L+1;j-y>A((m-_)/z)&&error$1("overflow"),_+=(j-y)*z,y=j;var W=!0,Q=!1,ae=void 0;try{for(var ie,oe=o[Symbol.iterator]();!(W=(ie=oe.next()).done);W=!0){var ce=ie.value;if(ce<y&&++_>m&&error$1("overflow"),ce==y){for(var le=_,ge=g;;ge+=g){var ye=ge<=b?1:ge>=b+26?26:ge-b;if(le<ye)break;var _e=le-ye,be=g-ye;l.push(T(digitToBasic(ye+_e%be,0))),le=A(_e/be)}l.push(T(digitToBasic(le,0))),b=adapt(_,z,L==N),_=0,++L}}}catch(o){Q=!0,ae=o}finally{try{!W&&oe.return&&oe.return()}finally{if(Q)throw ae}}++_,++y}return l.join("")},punycode_toASCII=function(o){return mapDomain(o,function(o){return _.test(o)?"xn--"+encode(o):o})},punycode_toUnicode=function(o){return mapDomain(o,function(o){return y.test(o)?decode(o.slice(4).toLowerCase()):o})},w={};function pctEncChar(o){var l=o.charCodeAt(0);return l<16?"%0"+l.toString(16).toUpperCase():l<128?"%"+l.toString(16).toUpperCase():l<2048?"%"+(l>>6|192).toString(16).toUpperCase()+"%"+(63&l|128).toString(16).toUpperCase():"%"+(l>>12|224).toString(16).toUpperCase()+"%"+(l>>6&63|128).toString(16).toUpperCase()+"%"+(63&l|128).toString(16).toUpperCase()}function pctDecChars(o){for(var l="",p=0,m=o.length;p<m;){var g=parseInt(o.substr(p+1,2),16);if(g<128)l+=String.fromCharCode(g),p+=3;else if(g>=194&&g<224){if(m-p>=6){var y=parseInt(o.substr(p+4,2),16);l+=String.fromCharCode((31&g)<<6|63&y)}else l+=o.substr(p,6);p+=6}else if(g>=224){if(m-p>=9){var _=parseInt(o.substr(p+4,2),16),b=parseInt(o.substr(p+7,2),16);l+=String.fromCharCode((15&g)<<12|(63&_)<<6|63&b)}else l+=o.substr(p,9);p+=9}else l+=o.substr(p,3),p+=3}return l}function _normalizeComponentEncoding(o,l){function decodeUnreserved2(o){var p=pctDecChars(o);return p.match(l.UNRESERVED)?p:o}return o.scheme&&(o.scheme=String(o.scheme).replace(l.PCT_ENCODED,decodeUnreserved2).toLowerCase().replace(l.NOT_SCHEME,"")),void 0!==o.userinfo&&(o.userinfo=String(o.userinfo).replace(l.PCT_ENCODED,decodeUnreserved2).replace(l.NOT_USERINFO,pctEncChar).replace(l.PCT_ENCODED,toUpperCase)),void 0!==o.host&&(o.host=String(o.host).replace(l.PCT_ENCODED,decodeUnreserved2).toLowerCase().replace(l.NOT_HOST,pctEncChar).replace(l.PCT_ENCODED,toUpperCase)),void 0!==o.path&&(o.path=String(o.path).replace(l.PCT_ENCODED,decodeUnreserved2).replace(o.scheme?l.NOT_PATH:l.NOT_PATH_NOSCHEME,pctEncChar).replace(l.PCT_ENCODED,toUpperCase)),void 0!==o.query&&(o.query=String(o.query).replace(l.PCT_ENCODED,decodeUnreserved2).replace(l.NOT_QUERY,pctEncChar).replace(l.PCT_ENCODED,toUpperCase)),void 0!==o.fragment&&(o.fragment=String(o.fragment).replace(l.PCT_ENCODED,decodeUnreserved2).replace(l.NOT_FRAGMENT,pctEncChar).replace(l.PCT_ENCODED,toUpperCase)),o}function _stripLeadingZeros(o){return o.replace(/^0*(.*)/,"$1")||"0"}function _normalizeIPv4(o,l){var p=o.match(l.IPV4ADDRESS)||[],m=slicedToArray(p,2)[1];return m?m.split(".").map(_stripLeadingZeros).join("."):o}function _normalizeIPv6(o,l){var p=o.match(l.IPV6ADDRESS)||[],m=slicedToArray(p,3),g=m[1],y=m[2];if(g){for(var _=g.toLowerCase().split("::").reverse(),b=slicedToArray(_,2),S=b[0],A=b[1],T=A?A.split(":").map(_stripLeadingZeros):[],w=S.split(":").map(_stripLeadingZeros),D=l.IPV4ADDRESS.test(w[w.length-1]),O=D?7:8,k=w.length-O,I=Array(O),N=0;N<O;++N)I[N]=T[N]||w[k+N]||"";D&&(I[O-1]=_normalizeIPv4(I[O-1],l));var L=I.reduce(function(o,l,p){if(!l||"0"===l){var m=o[o.length-1];m&&m.index+m.length===p?m.length++:o.push({index:p,length:1})}return o},[]).sort(function(o,l){return l.length-o.length})[0],j=void 0;if(L&&L.length>1){var B=I.slice(0,L.index),U=I.slice(L.index+L.length);j=B.join(":")+"::"+U.join(":")}else j=I.join(":");return y&&(j+="%"+y),j}return o}var D=/^(?:([^:\/?#]+):)?(?:\/\/((?:([^\/?#@]*)@)?(\[[^\/?#\]]+\]|[^\/?#:]*)(?:\:(\d*))?))?([^?#]*)(?:\?([^#]*))?(?:#((?:.|\n|\r)*))?/i,O=void 0==="".match(/(){0}/)[1];function parse(o){var m=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},g={},y=!1!==m.iri?p:l;"suffix"===m.reference&&(o=(m.scheme?m.scheme+":":"")+"//"+o);var _=o.match(D);if(_){O?(g.scheme=_[1],g.userinfo=_[3],g.host=_[4],g.port=parseInt(_[5],10),g.path=_[6]||"",g.query=_[7],g.fragment=_[8],isNaN(g.port)&&(g.port=_[5])):(g.scheme=_[1]||void 0,g.userinfo=-1!==o.indexOf("@")?_[3]:void 0,g.host=-1!==o.indexOf("//")?_[4]:void 0,g.port=parseInt(_[5],10),g.path=_[6]||"",g.query=-1!==o.indexOf("?")?_[7]:void 0,g.fragment=-1!==o.indexOf("#")?_[8]:void 0,isNaN(g.port)&&(g.port=o.match(/\/\/(?:.|\n)*\:(?:\/|\?|\#|$)/)?_[4]:void 0)),g.host&&(g.host=_normalizeIPv6(_normalizeIPv4(g.host,y),y)),void 0!==g.scheme||void 0!==g.userinfo||void 0!==g.host||void 0!==g.port||g.path||void 0!==g.query?void 0===g.scheme?g.reference="relative":void 0===g.fragment?g.reference="absolute":g.reference="uri":g.reference="same-document",m.reference&&"suffix"!==m.reference&&m.reference!==g.reference&&(g.error=g.error||"URI is not a "+m.reference+" reference.");var b=w[(m.scheme||g.scheme||"").toLowerCase()];if(m.unicodeSupport||b&&b.unicodeSupport)_normalizeComponentEncoding(g,y);else{if(g.host&&(m.domainHost||b&&b.domainHost))try{g.host=punycode_toASCII(g.host.replace(y.PCT_ENCODED,pctDecChars).toLowerCase())}catch(o){g.error=g.error||"Host's domain name can not be converted to ASCII via punycode: "+o}_normalizeComponentEncoding(g,l)}b&&b.parse&&b.parse(g,m)}else g.error=g.error||"URI can not be parsed.";return g}var k=/^\.\.?\//,I=/^\/\.(\/|$)/,N=/^\/\.\.(\/|$)/,L=/^\/?(?:.|\n)*?(?=\/|$)/;function removeDotSegments(o){for(var l=[];o.length;)if(o.match(k))o=o.replace(k,"");else if(o.match(I))o=o.replace(I,"/");else if(o.match(N))o=o.replace(N,"/"),l.pop();else if("."===o||".."===o)o="";else{var p=o.match(L);if(!p)throw new Error("Unexpected dot segment condition");var m=p[0];o=o.slice(m.length),l.push(m)}return l.join("")}function serialize(o){var m=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},g=m.iri?p:l,y=[],_=w[(m.scheme||o.scheme||"").toLowerCase()];if(_&&_.serialize&&_.serialize(o,m),o.host)if(g.IPV6ADDRESS.test(o.host));else if(m.domainHost||_&&_.domainHost)try{o.host=m.iri?punycode_toUnicode(o.host):punycode_toASCII(o.host.replace(g.PCT_ENCODED,pctDecChars).toLowerCase())}catch(l){o.error=o.error||"Host's domain name can not be converted to "+(m.iri?"Unicode":"ASCII")+" via punycode: "+l}_normalizeComponentEncoding(o,g),"suffix"!==m.reference&&o.scheme&&(y.push(o.scheme),y.push(":"));var b=function(o,m){var g=!1!==m.iri?p:l,y=[];return void 0!==o.userinfo&&(y.push(o.userinfo),y.push("@")),void 0!==o.host&&y.push(_normalizeIPv6(_normalizeIPv4(String(o.host),g),g).replace(g.IPV6ADDRESS,function(o,l,p){return"["+l+(p?"%25"+p:"")+"]"})),"number"!=typeof o.port&&"string"!=typeof o.port||(y.push(":"),y.push(String(o.port))),y.length?y.join(""):void 0}(o,m);if(void 0!==b&&("suffix"!==m.reference&&y.push("//"),y.push(b),o.path&&"/"!==o.path.charAt(0)&&y.push("/")),void 0!==o.path){var S=o.path;m.absolutePath||_&&_.absolutePath||(S=removeDotSegments(S)),void 0===b&&(S=S.replace(/^\/\//,"/%2F")),y.push(S)}return void 0!==o.query&&(y.push("?"),y.push(o.query)),void 0!==o.fragment&&(y.push("#"),y.push(o.fragment)),y.join("")}function resolveComponents(o,l){var p=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},m={};return arguments[3]||(o=parse(serialize(o,p),p),l=parse(serialize(l,p),p)),!(p=p||{}).tolerant&&l.scheme?(m.scheme=l.scheme,m.userinfo=l.userinfo,m.host=l.host,m.port=l.port,m.path=removeDotSegments(l.path||""),m.query=l.query):(void 0!==l.userinfo||void 0!==l.host||void 0!==l.port?(m.userinfo=l.userinfo,m.host=l.host,m.port=l.port,m.path=removeDotSegments(l.path||""),m.query=l.query):(l.path?("/"===l.path.charAt(0)?m.path=removeDotSegments(l.path):(void 0===o.userinfo&&void 0===o.host&&void 0===o.port||o.path?o.path?m.path=o.path.slice(0,o.path.lastIndexOf("/")+1)+l.path:m.path=l.path:m.path="/"+l.path,m.path=removeDotSegments(m.path)),m.query=l.query):(m.path=o.path,void 0!==l.query?m.query=l.query:m.query=o.query),m.userinfo=o.userinfo,m.host=o.host,m.port=o.port),m.scheme=o.scheme),m.fragment=l.fragment,m}function unescapeComponent(o,m){return o&&o.toString().replace(m&&m.iri?p.PCT_ENCODED:l.PCT_ENCODED,pctDecChars)}var j={scheme:"http",domainHost:!0,parse:function(o,l){return o.host||(o.error=o.error||"HTTP URIs must have a host."),o},serialize:function(o,l){var p="https"===String(o.scheme).toLowerCase();return o.port!==(p?443:80)&&""!==o.port||(o.port=void 0),o.path||(o.path="/"),o}},B={scheme:"https",domainHost:j.domainHost,parse:j.parse,serialize:j.serialize};function isSecure(o){return"boolean"==typeof o.secure?o.secure:"wss"===String(o.scheme).toLowerCase()}var U={scheme:"ws",domainHost:!0,parse:function(o,l){var p=o;return p.secure=isSecure(p),p.resourceName=(p.path||"/")+(p.query?"?"+p.query:""),p.path=void 0,p.query=void 0,p},serialize:function(o,l){if(o.port!==(isSecure(o)?443:80)&&""!==o.port||(o.port=void 0),"boolean"==typeof o.secure&&(o.scheme=o.secure?"wss":"ws",o.secure=void 0),o.resourceName){var p=o.resourceName.split("?"),m=slicedToArray(p,2),g=m[0],y=m[1];o.path=g&&"/"!==g?g:void 0,o.query=y,o.resourceName=void 0}return o.fragment=void 0,o}},q={scheme:"wss",domainHost:U.domainHost,parse:U.parse,serialize:U.serialize},Z={},H="[A-Za-z0-9\\-\\.\\_\\~\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]",G="[0-9A-Fa-f]",z=subexp(subexp("%[EFef]"+G+"%"+G+G+"%"+G+G)+"|"+subexp("%[89A-Fa-f]"+G+"%"+G+G)+"|"+subexp("%"+G+G)),W=merge("[\\!\\$\\%\\'\\(\\)\\*\\+\\,\\-\\.0-9\\<\\>A-Z\\x5E-\\x7E]",'[\\"\\\\]'),Q=new RegExp(H,"g"),ae=new RegExp(z,"g"),ie=new RegExp(merge("[^]","[A-Za-z0-9\\!\\$\\%\\'\\*\\+\\-\\^\\_\\`\\{\\|\\}\\~]","[\\.]",'[\\"]',W),"g"),oe=new RegExp(merge("[^]",H,"[\\!\\$\\'\\(\\)\\*\\+\\,\\;\\:\\@]"),"g"),ce=oe;function decodeUnreserved(o){var l=pctDecChars(o);return l.match(Q)?l:o}var le={scheme:"mailto",parse:function(o,l){var p=o,m=p.to=p.path?p.path.split(","):[];if(p.path=void 0,p.query){for(var g=!1,y={},_=p.query.split("&"),b=0,S=_.length;b<S;++b){var A=_[b].split("=");switch(A[0]){case"to":for(var T=A[1].split(","),w=0,D=T.length;w<D;++w)m.push(T[w]);break;case"subject":p.subject=unescapeComponent(A[1],l);break;case"body":p.body=unescapeComponent(A[1],l);break;default:g=!0,y[unescapeComponent(A[0],l)]=unescapeComponent(A[1],l)}}g&&(p.headers=y)}p.query=void 0;for(var O=0,k=m.length;O<k;++O){var I=m[O].split("@");if(I[0]=unescapeComponent(I[0]),l.unicodeSupport)I[1]=unescapeComponent(I[1],l).toLowerCase();else try{I[1]=punycode_toASCII(unescapeComponent(I[1],l).toLowerCase())}catch(o){p.error=p.error||"Email address's domain name can not be converted to ASCII via punycode: "+o}m[O]=I.join("@")}return p},serialize:function(o,l){var p,m=o,g=null!=(p=o.to)?p instanceof Array?p:"number"!=typeof p.length||p.split||p.setInterval||p.call?[p]:Array.prototype.slice.call(p):[];if(g){for(var y=0,_=g.length;y<_;++y){var b=String(g[y]),S=b.lastIndexOf("@"),A=b.slice(0,S).replace(ae,decodeUnreserved).replace(ae,toUpperCase).replace(ie,pctEncChar),T=b.slice(S+1);try{T=l.iri?punycode_toUnicode(T):punycode_toASCII(unescapeComponent(T,l).toLowerCase())}catch(o){m.error=m.error||"Email address's domain name can not be converted to "+(l.iri?"Unicode":"ASCII")+" via punycode: "+o}g[y]=A+"@"+T}m.path=g.join(",")}var w=o.headers=o.headers||{};o.subject&&(w.subject=o.subject),o.body&&(w.body=o.body);var D=[];for(var O in w)w[O]!==Z[O]&&D.push(O.replace(ae,decodeUnreserved).replace(ae,toUpperCase).replace(oe,pctEncChar)+"="+w[O].replace(ae,decodeUnreserved).replace(ae,toUpperCase).replace(ce,pctEncChar));return D.length&&(m.query=D.join("&")),m}},ge=/^([^\:]+)\:(.*)/,ye={scheme:"urn",parse:function(o,l){var p=o.path&&o.path.match(ge),m=o;if(p){var g=l.scheme||m.scheme||"urn",y=p[1].toLowerCase(),_=p[2],b=g+":"+(l.nid||y),S=w[b];m.nid=y,m.nss=_,m.path=void 0,S&&(m=S.parse(m,l))}else m.error=m.error||"URN can not be parsed.";return m},serialize:function(o,l){var p=l.scheme||o.scheme||"urn",m=o.nid,g=p+":"+(l.nid||m),y=w[g];y&&(o=y.serialize(o,l));var _=o,b=o.nss;return _.path=(m||l.nid)+":"+b,_}},_e=/^[0-9A-Fa-f]{8}(?:\-[0-9A-Fa-f]{4}){3}\-[0-9A-Fa-f]{12}$/,be={scheme:"urn:uuid",parse:function(o,l){var p=o;return p.uuid=p.nss,p.nss=void 0,l.tolerant||p.uuid&&p.uuid.match(_e)||(p.error=p.error||"UUID is not valid."),p},serialize:function(o,l){var p=o;return p.nss=(o.uuid||"").toLowerCase(),p}};w[j.scheme]=j,w[B.scheme]=B,w[U.scheme]=U,w[q.scheme]=q,w[le.scheme]=le,w[ye.scheme]=ye,w[be.scheme]=be,o.SCHEMES=w,o.pctEncChar=pctEncChar,o.pctDecChars=pctDecChars,o.parse=parse,o.removeDotSegments=removeDotSegments,o.serialize=serialize,o.resolveComponents=resolveComponents,o.resolve=function(o,l,p){var m=function(o,l){var p=o;if(l)for(var m in l)p[m]=l[m];return p}({scheme:"null"},p);return serialize(resolveComponents(parse(o,m),parse(l,m),m,!0),m)},o.normalize=function(o,l){return"string"==typeof o?o=serialize(parse(o,l),l):"object"===typeOf(o)&&(o=parse(serialize(o,l),l)),o},o.equal=function(o,l,p){return"string"==typeof o?o=serialize(parse(o,p),p):"object"===typeOf(o)&&(o=serialize(o,p)),"string"==typeof l?l=serialize(parse(l,p),p):"object"===typeOf(l)&&(l=serialize(l,p)),o===l},o.escapeComponent=function(o,m){return o&&o.toString().replace(m&&m.iri?p.ESCAPE:l.ESCAPE,pctEncChar)},o.unescapeComponent=unescapeComponent,Object.defineProperty(o,"__esModule",{value:!0})})}),require_fast_deep_equal=__commonJS((o,l)=>{l.exports=function equal(o,l){if(o===l)return!0;if(o&&l&&"object"==typeof o&&"object"==typeof l){if(o.constructor!==l.constructor)return!1;var p,m,g;if(Array.isArray(o)){if((p=o.length)!=l.length)return!1;for(m=p;0!==m--;)if(!equal(o[m],l[m]))return!1;return!0}if(o.constructor===RegExp)return o.source===l.source&&o.flags===l.flags;if(o.valueOf!==Object.prototype.valueOf)return o.valueOf()===l.valueOf();if(o.toString!==Object.prototype.toString)return o.toString()===l.toString();if((p=(g=Object.keys(o)).length)!==Object.keys(l).length)return!1;for(m=p;0!==m--;)if(!Object.prototype.hasOwnProperty.call(l,g[m]))return!1;for(m=p;0!==m--;){var y=g[m];if(!equal(o[y],l[y]))return!1}return!0}return o!=o&&l!=l}}),require_ucs2length=__commonJS((o,l)=>{l.exports=function(o){for(var l,p=0,m=o.length,g=0;g<m;)p++,(l=o.charCodeAt(g++))>=55296&&l<=56319&&g<m&&56320==(64512&(l=o.charCodeAt(g)))&&g++;return p}}),require_util=__commonJS((o,l)=>{function checkDataType(o,l,p,m){var g=m?" !== ":" === ",y=m?" || ":" && ",_=m?"!":"",b=m?"":"!";switch(o){case"null":return l+g+"null";case"array":return _+"Array.isArray("+l+")";case"object":return"("+_+l+y+"typeof "+l+g+'"object"'+y+b+"Array.isArray("+l+"))";case"integer":return"(typeof "+l+g+'"number"'+y+b+"("+l+" % 1)"+y+l+g+l+(p?y+_+"isFinite("+l+")":"")+")";case"number":return"(typeof "+l+g+'"'+o+'"'+(p?y+_+"isFinite("+l+")":"")+")";default:return"typeof "+l+g+'"'+o+'"'}}l.exports={copy:function(o,l){for(var p in l=l||{},o)l[p]=o[p];return l},checkDataType:checkDataType,checkDataTypes:function(o,l,p){if(1===o.length)return checkDataType(o[0],l,p,!0);var m="",g=toHash(o);for(var y in g.array&&g.object&&(m=g.null?"(":"(!"+l+" || ",m+="typeof "+l+' !== "object")',delete g.null,delete g.array,delete g.object),g.number&&delete g.integer,g)m+=(m?" && ":"")+checkDataType(y,l,p,!0);return m},coerceToTypes:function(o,l){if(Array.isArray(l)){for(var m=[],g=0;g<l.length;g++){var y=l[g];(p[y]||"array"===o&&"array"===y)&&(m[m.length]=y)}if(m.length)return m}else{if(p[l])return[l];if("array"===o&&"array"===l)return["array"]}},toHash:toHash,getProperty:getProperty,escapeQuotes:escapeQuotes,equal:require_fast_deep_equal(),ucs2length:require_ucs2length(),varOccurences:function(o,l){l+="[^0-9]";var p=o.match(new RegExp(l,"g"));return p?p.length:0},varReplace:function(o,l,p){return l+="([^0-9])",p=p.replace(/\$/g,"$$$$"),o.replace(new RegExp(l,"g"),p+"$1")},schemaHasRules:function(o,l){if("boolean"==typeof o)return!o;for(var p in o)if(l[p])return!0},schemaHasRulesExcept:function(o,l,p){if("boolean"==typeof o)return!o&&"not"!=p;for(var m in o)if(m!=p&&l[m])return!0},schemaUnknownRules:function(o,l){if("boolean"==typeof o)return;for(var p in o)if(!l[p])return p},toQuotedString:toQuotedString,getPathExpr:function(o,l,p,m){var g=p?"'/' + "+l+(m?"":".replace(/~/g, '~0').replace(/\\//g, '~1')"):m?"'[' + "+l+" + ']'":"'[\\'' + "+l+" + '\\']'";return joinPaths(o,g)},getPath:function(o,l,p){var m=toQuotedString(p?"/"+escapeJsonPointer(l):getProperty(l));return joinPaths(o,m)},getData:function(o,l,p){var m,g,b,S;if(""===o)return"rootData";if("/"==o[0]){if(!y.test(o))throw new Error("Invalid JSON-pointer: "+o);g=o,b="rootData"}else{if(!(S=o.match(_)))throw new Error("Invalid JSON-pointer: "+o);if(m=+S[1],"#"==(g=S[2])){if(m>=l)throw new Error("Cannot access property/index "+m+" levels up, current level is "+l);return p[l-m]}if(m>l)throw new Error("Cannot access data "+m+" levels up, current level is "+l);if(b="data"+(l-m||""),!g)return b}for(var A=b,T=g.split("/"),w=0;w<T.length;w++){var D=T[w];D&&(A+=" && "+(b+=getProperty(unescapeJsonPointer(D))))}return A},unescapeFragment:function(o){return unescapeJsonPointer(decodeURIComponent(o))},unescapeJsonPointer:unescapeJsonPointer,escapeFragment:function(o){return encodeURIComponent(escapeJsonPointer(o))},escapeJsonPointer:escapeJsonPointer};var p=toHash(["string","number","integer","boolean","null"]);function toHash(o){for(var l={},p=0;p<o.length;p++)l[o[p]]=!0;return l}var m=/^[a-z$_][a-z$_0-9]*$/i,g=/'|\\/g;function getProperty(o){return"number"==typeof o?"["+o+"]":m.test(o)?"."+o:"['"+escapeQuotes(o)+"']"}function escapeQuotes(o){return o.replace(g,"\\$&").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/\f/g,"\\f").replace(/\t/g,"\\t")}function toQuotedString(o){return"'"+escapeQuotes(o)+"'"}var y=/^\/(?:[^~]|~0|~1)*$/,_=/^([0-9]+)(#|\/(?:[^~]|~0|~1)*)?$/;function joinPaths(o,l){return'""'==o?l:(o+" + "+l).replace(/([^\\])' \+ '/g,"$1")}function escapeJsonPointer(o){return o.replace(/~/g,"~0").replace(/\//g,"~1")}function unescapeJsonPointer(o){return o.replace(/~1/g,"/").replace(/~0/g,"~")}}),require_schema_obj=__commonJS((o,l)=>{var p=require_util();l.exports=function(o){p.copy(o,this)}}),require_json_schema_traverse=__commonJS((o,l)=>{var p=l.exports=function(o,l,p){"function"==typeof l&&(p=l,l={}),_traverse(l,"function"==typeof(p=l.cb||p)?p:p.pre||function(){},p.post||function(){},o,"",o)};function _traverse(o,l,m,g,y,_,b,S,A,T){if(g&&"object"==typeof g&&!Array.isArray(g)){for(var w in l(g,y,_,b,S,A,T),g){var D=g[w];if(Array.isArray(D)){if(w in p.arrayKeywords)for(var O=0;O<D.length;O++)_traverse(o,l,m,D[O],y+"/"+w+"/"+O,_,y,w,g,O)}else if(w in p.propsKeywords){if(D&&"object"==typeof D)for(var k in D)_traverse(o,l,m,D[k],y+"/"+w+"/"+escapeJsonPtr(k),_,y,w,g,k)}else(w in p.keywords||o.allKeys&&!(w in p.skipKeywords))&&_traverse(o,l,m,D,y+"/"+w,_,y,w,g)}m(g,y,_,b,S,A,T)}}function escapeJsonPtr(o){return o.replace(/~/g,"~0").replace(/\//g,"~1")}p.keywords={additionalItems:!0,items:!0,contains:!0,additionalProperties:!0,propertyNames:!0,not:!0},p.arrayKeywords={items:!0,allOf:!0,anyOf:!0,oneOf:!0},p.propsKeywords={definitions:!0,properties:!0,patternProperties:!0,dependencies:!0},p.skipKeywords={default:!0,enum:!0,const:!0,required:!0,maximum:!0,minimum:!0,exclusiveMaximum:!0,exclusiveMinimum:!0,multipleOf:!0,maxLength:!0,minLength:!0,pattern:!0,format:!0,maxItems:!0,minItems:!0,uniqueItems:!0,maxProperties:!0,minProperties:!0}}),require_resolve=__commonJS((o,l)=>{var p=require_uri_all(),m=require_fast_deep_equal(),g=require_util(),y=require_schema_obj(),_=require_json_schema_traverse();function resolve(o,l,p){var m=this._refs[p];if("string"==typeof m){if(!this._refs[m])return resolve.call(this,o,l,m);m=this._refs[m]}if((m=m||this._schemas[p])instanceof y)return inlineRef(m.schema,this._opts.inlineRefs)?m.schema:m.validate||this._compile(m);var g,_,b,S=resolveSchema.call(this,l,p);return S&&(g=S.schema,l=S.root,b=S.baseId),g instanceof y?_=g.validate||o.call(this,g.schema,l,void 0,b):void 0!==g&&(_=inlineRef(g,this._opts.inlineRefs)?g:o.call(this,g,l,void 0,b)),_}function resolveSchema(o,l){var m=p.parse(l),g=_getFullPath(m),_=getFullPath(this._getId(o.schema));if(0===Object.keys(o.schema).length||g!==_){var b=normalizeId(g),S=this._refs[b];if("string"==typeof S)return resolveRecursive.call(this,o,S,m);if(S instanceof y)S.validate||this._compile(S),o=S;else{if(!((S=this._schemas[b])instanceof y))return;if(S.validate||this._compile(S),b==normalizeId(l))return{schema:S,root:o,baseId:_};o=S}if(!o.schema)return;_=getFullPath(this._getId(o.schema))}return getJsonPointer.call(this,m,_,o.schema,o)}function resolveRecursive(o,l,p){var m=resolveSchema.call(this,o,l);if(m){var g=m.schema,y=m.baseId;o=m.root;var _=this._getId(g);return _&&(y=resolveUrl(y,_)),getJsonPointer.call(this,p,y,g,o)}}l.exports=resolve,resolve.normalizeId=normalizeId,resolve.fullPath=getFullPath,resolve.url=resolveUrl,resolve.ids=function(o){var l=normalizeId(this._getId(o)),y={"":l},b={"":getFullPath(l,!1)},S={},A=this;return _(o,{allKeys:!0},function(o,l,_,T,w,D,O){if(""!==l){var k=A._getId(o),I=y[T],N=b[T]+"/"+w;if(void 0!==O&&(N+="/"+("number"==typeof O?O:g.escapeFragment(O))),"string"==typeof k){k=I=normalizeId(I?p.resolve(I,k):k);var L=A._refs[k];if("string"==typeof L&&(L=A._refs[L]),L&&L.schema){if(!m(o,L.schema))throw new Error('id "'+k+'" resolves to more than one schema')}else if(k!=normalizeId(N))if("#"==k[0]){if(S[k]&&!m(o,S[k]))throw new Error('id "'+k+'" resolves to more than one schema');S[k]=o}else A._refs[k]=N}y[l]=I,b[l]=N}}),S},resolve.inlineRef=inlineRef,resolve.schema=resolveSchema;var b=g.toHash(["properties","patternProperties","enum","dependencies","definitions"]);function getJsonPointer(o,l,p,m){if(o.fragment=o.fragment||"","/"==o.fragment.slice(0,1)){for(var y=o.fragment.split("/"),_=1;_<y.length;_++){var S=y[_];if(S){if(void 0===(p=p[S=g.unescapeFragment(S)]))break;var A;if(!b[S]&&((A=this._getId(p))&&(l=resolveUrl(l,A)),p.$ref)){var T=resolveUrl(l,p.$ref),w=resolveSchema.call(this,m,T);w&&(p=w.schema,m=w.root,l=w.baseId)}}}return void 0!==p&&p!==m.schema?{schema:p,root:m,baseId:l}:void 0}}var S=g.toHash(["type","format","pattern","maxLength","minLength","maxProperties","minProperties","maxItems","minItems","maximum","minimum","uniqueItems","multipleOf","required","enum"]);function inlineRef(o,l){return!1!==l&&(void 0===l||!0===l?checkNoRef(o):l?countKeys(o)<=l:void 0)}function checkNoRef(o){var l;if(Array.isArray(o)){for(var p=0;p<o.length;p++)if("object"==typeof(l=o[p])&&!checkNoRef(l))return!1}else for(var m in o){if("$ref"==m)return!1;if("object"==typeof(l=o[m])&&!checkNoRef(l))return!1}return!0}function countKeys(o){var l,p=0;if(Array.isArray(o)){for(var m=0;m<o.length;m++)if("object"==typeof(l=o[m])&&(p+=countKeys(l)),p==1/0)return 1/0}else for(var g in o){if("$ref"==g)return 1/0;if(S[g])p++;else if("object"==typeof(l=o[g])&&(p+=countKeys(l)+1),p==1/0)return 1/0}return p}function getFullPath(o,l){return!1!==l&&(o=normalizeId(o)),_getFullPath(p.parse(o))}function _getFullPath(o){return p.serialize(o).split("#")[0]+"#"}var A=/#\/?$/;function normalizeId(o){return o?o.replace(A,""):""}function resolveUrl(o,l){return l=normalizeId(l),p.resolve(o,l)}}),require_error_classes=__commonJS((o,l)=>{var p=require_resolve();function MissingRefError(o,l,m){this.message=m||MissingRefError.message(o,l),this.missingRef=p.url(o,l),this.missingSchema=p.normalizeId(p.fullPath(this.missingRef))}function errorSubclass(o){return o.prototype=Object.create(Error.prototype),o.prototype.constructor=o,o}l.exports={Validation:errorSubclass(function(o){this.message="validation failed",this.errors=o,this.ajv=this.validation=!0}),MissingRef:errorSubclass(MissingRefError)},MissingRefError.message=function(o,l){return"can't resolve reference "+l+" from id "+o}}),require_fast_json_stable_stringify=__commonJS((o,l)=>{l.exports=function(o,l){l||(l={}),"function"==typeof l&&(l={cmp:l});var p="boolean"==typeof l.cycles&&l.cycles,m=l.cmp&&function(o){return function(l){return function(p,m){var g={key:p,value:l[p]},y={key:m,value:l[m]};return o(g,y)}}}(l.cmp),g=[];return function stringify(o){if(o&&o.toJSON&&"function"==typeof o.toJSON&&(o=o.toJSON()),void 0!==o){if("number"==typeof o)return isFinite(o)?""+o:"null";if("object"!=typeof o)return JSON.stringify(o);var l,y;if(Array.isArray(o)){for(y="[",l=0;l<o.length;l++)l&&(y+=","),y+=stringify(o[l])||"null";return y+"]"}if(null===o)return"null";if(-1!==g.indexOf(o)){if(p)return JSON.stringify("__cycle__");throw new TypeError("Converting circular structure to JSON")}var _=g.push(o)-1,b=Object.keys(o).sort(m&&m(o));for(y="",l=0;l<b.length;l++){var S=b[l],A=stringify(o[S]);A&&(y&&(y+=","),y+=JSON.stringify(S)+":"+A)}return g.splice(_,1),"{"+y+"}"}}(o)}}),require_validate=__commonJS((o,l)=>{l.exports=function(o,l,p){var m="",g=!0===o.schema.$async,y=o.util.schemaHasRulesExcept(o.schema,o.RULES.all,"$ref"),_=o.self._getId(o.schema);if(o.opts.strictKeywords){var b=o.util.schemaUnknownRules(o.schema,o.RULES.keywords);if(b){var S="unknown keyword: "+b;if("log"!==o.opts.strictKeywords)throw new Error(S);o.logger.warn(S)}}if(o.isTop&&(m+=" var validate = ",g&&(o.async=!0,m+="async "),m+="function(data, dataPath, parentData, parentDataProperty, rootData) { 'use strict'; ",_&&(o.opts.sourceCode||o.opts.processCode)&&(m+=" /*# sourceURL="+_+" */ ")),"boolean"==typeof o.schema||!y&&!o.schema.$ref){l="false schema";var A=o.level,T=o.dataLevel,w=o.schema[l],D=o.schemaPath+o.util.getProperty(l),O=o.errSchemaPath+"/"+l,k=!o.opts.allErrors,I="data"+(T||""),N="valid"+A;if(!1===o.schema){o.isTop?k=!0:m+=" var "+N+" = false; ",(Me=Me||[]).push(m),m="",!1!==o.createErrors?(m+=" { keyword: 'false schema' , dataPath: (dataPath || '') + "+o.errorPath+" , schemaPath: "+o.util.toQuotedString(O)+" , params: {} ",!1!==o.opts.messages&&(m+=" , message: 'boolean schema is false' "),o.opts.verbose&&(m+=" , schema: false , parentSchema: validate.schema"+o.schemaPath+" , data: "+I+" "),m+=" } "):m+=" {} ";var L=m;m=Me.pop(),!o.compositeRule&&k?o.async?m+=" throw new ValidationError(["+L+"]); ":m+=" validate.errors = ["+L+"]; return false; ":m+=" var err = "+L+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; "}else o.isTop?m+=g?" return data; ":" validate.errors = null; return true; ":m+=" var "+N+" = true; ";return o.isTop&&(m+=" }; return validate; "),m}if(o.isTop){var j=o.isTop;A=o.level=0,T=o.dataLevel=0,I="data";if(o.rootId=o.resolve.fullPath(o.self._getId(o.root.schema)),o.baseId=o.baseId||o.rootId,delete o.isTop,o.dataPathArr=[""],void 0!==o.schema.default&&o.opts.useDefaults&&o.opts.strictDefaults){var B="default is ignored in the schema root";if("log"!==o.opts.strictDefaults)throw new Error(B);o.logger.warn(B)}m+=" var vErrors = null; ",m+=" var errors = 0;     ",m+=" if (rootData === undefined) rootData = data; "}else{var{level:A,dataLevel:T}=o;I="data"+(T||"");if(_&&(o.baseId=o.resolve.url(o.baseId,_)),g&&!o.async)throw new Error("async schema in sync schema");m+=" var errs_"+A+" = errors;"}N="valid"+A,k=!o.opts.allErrors;var U="",q="",Z=o.schema.type,H=Array.isArray(Z);if(Z&&o.opts.nullable&&!0===o.schema.nullable&&(H?-1==Z.indexOf("null")&&(Z=Z.concat("null")):"null"!=Z&&(Z=[Z,"null"],H=!0)),H&&1==Z.length&&(Z=Z[0],H=!1),o.schema.$ref&&y){if("fail"==o.opts.extendRefs)throw new Error('$ref: validation keywords used in schema at path "'+o.errSchemaPath+'" (see option extendRefs)');!0!==o.opts.extendRefs&&(y=!1,o.logger.warn('$ref: keywords ignored in schema at path "'+o.errSchemaPath+'"'))}if(o.schema.$comment&&o.opts.$comment&&(m+=" "+o.RULES.all.$comment.code(o,"$comment")),Z){if(o.opts.coerceTypes)var G=o.util.coerceToTypes(o.opts.coerceTypes,Z);var z=o.RULES.types[Z];if(G||H||!0===z||z&&!$shouldUseGroup(z)){D=o.schemaPath+".type",O=o.errSchemaPath+"/type",D=o.schemaPath+".type",O=o.errSchemaPath+"/type";var W=H?"checkDataTypes":"checkDataType";if(m+=" if ("+o.util[W](Z,I,o.opts.strictNumbers,!0)+") { ",G){var Q="dataType"+A,ae="coerced"+A;m+=" var "+Q+" = typeof "+I+"; var "+ae+" = undefined; ","array"==o.opts.coerceTypes&&(m+=" if ("+Q+" == 'object' && Array.isArray("+I+") && "+I+".length == 1) { "+I+" = "+I+"[0]; "+Q+" = typeof "+I+"; if ("+o.util.checkDataType(o.schema.type,I,o.opts.strictNumbers)+") "+ae+" = "+I+"; } "),m+=" if ("+ae+" !== undefined) ; ";var ie=G;if(ie)for(var oe,ce=-1,le=ie.length-1;ce<le;)"string"==(oe=ie[ce+=1])?m+=" else if ("+Q+" == 'number' || "+Q+" == 'boolean') "+ae+" = '' + "+I+"; else if ("+I+" === null) "+ae+" = ''; ":"number"==oe||"integer"==oe?(m+=" else if ("+Q+" == 'boolean' || "+I+" === null || ("+Q+" == 'string' && "+I+" && "+I+" == +"+I+" ","integer"==oe&&(m+=" && !("+I+" % 1)"),m+=")) "+ae+" = +"+I+"; "):"boolean"==oe?m+=" else if ("+I+" === 'false' || "+I+" === 0 || "+I+" === null) "+ae+" = false; else if ("+I+" === 'true' || "+I+" === 1) "+ae+" = true; ":"null"==oe?m+=" else if ("+I+" === '' || "+I+" === 0 || "+I+" === false) "+ae+" = null; ":"array"==o.opts.coerceTypes&&"array"==oe&&(m+=" else if ("+Q+" == 'string' || "+Q+" == 'number' || "+Q+" == 'boolean' || "+I+" == null) "+ae+" = ["+I+"]; ");m+=" else {   ",(Me=Me||[]).push(m),m="",!1!==o.createErrors?(m+=" { keyword: 'type' , dataPath: (dataPath || '') + "+o.errorPath+" , schemaPath: "+o.util.toQuotedString(O)+" , params: { type: '",m+=H?""+Z.join(","):""+Z,m+="' } ",!1!==o.opts.messages&&(m+=" , message: 'should be ",m+=H?""+Z.join(","):""+Z,m+="' "),o.opts.verbose&&(m+=" , schema: validate.schema"+D+" , parentSchema: validate.schema"+o.schemaPath+" , data: "+I+" "),m+=" } "):m+=" {} ";L=m;m=Me.pop(),!o.compositeRule&&k?o.async?m+=" throw new ValidationError(["+L+"]); ":m+=" validate.errors = ["+L+"]; return false; ":m+=" var err = "+L+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",m+=" } if ("+ae+" !== undefined) {  ";var ge=T?"data"+(T-1||""):"parentData";m+=" "+I+" = "+ae+"; ",T||(m+="if ("+ge+" !== undefined)"),m+=" "+ge+"["+(T?o.dataPathArr[T]:"parentDataProperty")+"] = "+ae+"; } "}else{(Me=Me||[]).push(m),m="",!1!==o.createErrors?(m+=" { keyword: 'type' , dataPath: (dataPath || '') + "+o.errorPath+" , schemaPath: "+o.util.toQuotedString(O)+" , params: { type: '",m+=H?""+Z.join(","):""+Z,m+="' } ",!1!==o.opts.messages&&(m+=" , message: 'should be ",m+=H?""+Z.join(","):""+Z,m+="' "),o.opts.verbose&&(m+=" , schema: validate.schema"+D+" , parentSchema: validate.schema"+o.schemaPath+" , data: "+I+" "),m+=" } "):m+=" {} ";L=m;m=Me.pop(),!o.compositeRule&&k?o.async?m+=" throw new ValidationError(["+L+"]); ":m+=" validate.errors = ["+L+"]; return false; ":m+=" var err = "+L+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; "}m+=" } "}}if(o.schema.$ref&&!y)m+=" "+o.RULES.all.$ref.code(o,"$ref")+" ",k&&(m+=" } if (errors === ",m+=j?"0":"errs_"+A,m+=") { ",q+="}");else{var ye=o.RULES;if(ye)for(var _e=-1,be=ye.length-1;_e<be;)if($shouldUseGroup(z=ye[_e+=1])){if(z.type&&(m+=" if ("+o.util.checkDataType(z.type,I,o.opts.strictNumbers)+") { "),o.opts.useDefaults)if("object"==z.type&&o.schema.properties){w=o.schema.properties;var Ee=Object.keys(w);if(Ee)for(var Ce,Ae=-1,xe=Ee.length-1;Ae<xe;){if(void 0!==(Pe=w[Ce=Ee[Ae+=1]]).default){var Te=I+o.util.getProperty(Ce);if(o.compositeRule){if(o.opts.strictDefaults){B="default is ignored for: "+Te;if("log"!==o.opts.strictDefaults)throw new Error(B);o.logger.warn(B)}}else m+=" if ("+Te+" === undefined ","empty"==o.opts.useDefaults&&(m+=" || "+Te+" === null || "+Te+" === '' "),m+=" ) "+Te+" = ","shared"==o.opts.useDefaults?m+=" "+o.useDefault(Pe.default)+" ":m+=" "+JSON.stringify(Pe.default)+" ",m+="; "}}}else if("array"==z.type&&Array.isArray(o.schema.items)){var we=o.schema.items;if(we){ce=-1;for(var Pe,De=we.length-1;ce<De;)if(void 0!==(Pe=we[ce+=1]).default){Te=I+"["+ce+"]";if(o.compositeRule){if(o.opts.strictDefaults){B="default is ignored for: "+Te;if("log"!==o.opts.strictDefaults)throw new Error(B);o.logger.warn(B)}}else m+=" if ("+Te+" === undefined ","empty"==o.opts.useDefaults&&(m+=" || "+Te+" === null || "+Te+" === '' "),m+=" ) "+Te+" = ","shared"==o.opts.useDefaults?m+=" "+o.useDefault(Pe.default)+" ":m+=" "+JSON.stringify(Pe.default)+" ",m+="; "}}}var Oe=z.rules;if(Oe)for(var ke,Fe=-1,Ne=Oe.length-1;Fe<Ne;)if($shouldUseRule(ke=Oe[Fe+=1])){var Le=ke.code(o,ke.keyword,z.type);Le&&(m+=" "+Le+" ",k&&(U+="}"))}if(k&&(m+=" "+U+" ",U=""),z.type&&(m+=" } ",Z&&Z===z.type&&!G)){m+=" else { ";var Me;D=o.schemaPath+".type",O=o.errSchemaPath+"/type";(Me=Me||[]).push(m),m="",!1!==o.createErrors?(m+=" { keyword: 'type' , dataPath: (dataPath || '') + "+o.errorPath+" , schemaPath: "+o.util.toQuotedString(O)+" , params: { type: '",m+=H?""+Z.join(","):""+Z,m+="' } ",!1!==o.opts.messages&&(m+=" , message: 'should be ",m+=H?""+Z.join(","):""+Z,m+="' "),o.opts.verbose&&(m+=" , schema: validate.schema"+D+" , parentSchema: validate.schema"+o.schemaPath+" , data: "+I+" "),m+=" } "):m+=" {} ";L=m;m=Me.pop(),!o.compositeRule&&k?o.async?m+=" throw new ValidationError(["+L+"]); ":m+=" validate.errors = ["+L+"]; return false; ":m+=" var err = "+L+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",m+=" } "}k&&(m+=" if (errors === ",m+=j?"0":"errs_"+A,m+=") { ",q+="}")}}function $shouldUseGroup(o){for(var l=o.rules,p=0;p<l.length;p++)if($shouldUseRule(l[p]))return!0}function $shouldUseRule(l){return void 0!==o.schema[l.keyword]||l.implements&&function(l){for(var p=l.implements,m=0;m<p.length;m++)if(void 0!==o.schema[p[m]])return!0}(l)}return k&&(m+=" "+q+" "),j?(g?(m+=" if (errors === 0) return data;           ",m+=" else throw new ValidationError(vErrors); "):(m+=" validate.errors = vErrors; ",m+=" return errors === 0;       "),m+=" }; return validate;"):m+=" var "+N+" = errors === errs_"+A+";",m}}),require_compile=__commonJS((o,l)=>{var p=require_resolve(),m=require_util(),g=require_error_classes(),y=require_fast_json_stable_stringify(),_=require_validate(),b=m.ucs2length,S=require_fast_deep_equal(),A=g.Validation;function checkCompiling(o,l,p){var m=compIndex.call(this,o,l,p);return m>=0?{index:m,compiling:!0}:(m=this._compilations.length,this._compilations[m]={schema:o,root:l,baseId:p},{index:m,compiling:!1})}function endCompiling(o,l,p){var m=compIndex.call(this,o,l,p);m>=0&&this._compilations.splice(m,1)}function compIndex(o,l,p){for(var m=0;m<this._compilations.length;m++){var g=this._compilations[m];if(g.schema==o&&g.root==l&&g.baseId==p)return m}return-1}function patternCode(o,l){return"var pattern"+o+" = new RegExp("+m.toQuotedString(l[o])+");"}function defaultCode(o){return"var default"+o+" = defaults["+o+"];"}function refValCode(o,l){return void 0===l[o]?"":"var refVal"+o+" = refVal["+o+"];"}function customRuleCode(o){return"var customRule"+o+" = customRules["+o+"];"}function vars(o,l){if(!o.length)return"";for(var p="",m=0;m<o.length;m++)p+=l(m,o);return p}l.exports=function compile(o,l,T,w){var D=this,O=this._opts,k=[void 0],I={},N=[],L={},j=[],B={},U=[];l=l||{schema:o,refVal:k,refs:I};var q=checkCompiling.call(this,o,l,w),Z=this._compilations[q.index];if(q.compiling)return Z.callValidate=function callValidate(){var o=Z.validate,l=o.apply(this,arguments);return callValidate.errors=o.errors,l};var H=this._formats,G=this.RULES;try{var z=localCompile(o,l,T,w);Z.validate=z;var W=Z.callValidate;return W&&(W.schema=z.schema,W.errors=null,W.refs=z.refs,W.refVal=z.refVal,W.root=z.root,W.$async=z.$async,O.sourceCode&&(W.source=z.source)),z}finally{endCompiling.call(this,o,l,w)}function localCompile(o,y,T,w){var L=!y||y&&y.schema==o;if(y.schema!=l.schema)return compile.call(D,o,y,T,w);var B,q=!0===o.$async,Z=_({isTop:!0,schema:o,isRoot:L,baseId:w,root:y,schemaPath:"",errSchemaPath:"#",errorPath:'""',MissingRefError:g.MissingRef,RULES:G,validate:_,util:m,resolve:p,resolveRef:resolveRef,usePattern:usePattern,useDefault:useDefault,useCustomRule:useCustomRule,opts:O,formats:H,logger:D.logger,self:D});Z=vars(k,refValCode)+vars(N,patternCode)+vars(j,defaultCode)+vars(U,customRuleCode)+Z,O.processCode&&(Z=O.processCode(Z,o));try{B=new Function("self","RULES","formats","root","refVal","defaults","customRules","equal","ucs2length","ValidationError",Z)(D,G,H,l,k,j,U,S,b,A),k[0]=B}catch(o){throw D.logger.error("Error compiling schema, function code:",Z),o}return B.schema=o,B.errors=null,B.refs=I,B.refVal=k,B.root=L?B:y,q&&(B.$async=!0),!0===O.sourceCode&&(B.source={code:Z,patterns:N,defaults:j}),B}function resolveRef(o,m,g){m=p.url(o,m);var y,_,b=I[m];if(void 0!==b)return resolvedRef(y=k[b],_="refVal["+b+"]");if(!g&&l.refs){var S=l.refs[m];if(void 0!==S)return resolvedRef(y=l.refVal[S],_=addLocalRef(m,y))}_=addLocalRef(m);var A=p.call(D,localCompile,l,m);if(void 0===A){var w=T&&T[m];w&&(A=p.inlineRef(w,O.inlineRefs)?w:compile.call(D,w,l,T,o))}if(void 0!==A)return function(o,l){var p=I[o];k[p]=l}(m,A),resolvedRef(A,_);!function(o){delete I[o]}(m)}function addLocalRef(o,l){var p=k.length;return k[p]=l,I[o]=p,"refVal"+p}function resolvedRef(o,l){return"object"==typeof o||"boolean"==typeof o?{code:l,schema:o,inline:!0}:{code:l,$async:o&&!!o.$async}}function usePattern(o){var l=L[o];return void 0===l&&(l=L[o]=N.length,N[l]=o),"pattern"+l}function useDefault(o){switch(typeof o){case"boolean":case"number":return""+o;case"string":return m.toQuotedString(o);case"object":if(null===o)return"null";var l=y(o),p=B[l];return void 0===p&&(p=B[l]=j.length,j[p]=o),"default"+p}}function useCustomRule(o,l,p,m){if(!1!==D._opts.validateSchema){var g=o.definition.dependencies;if(g&&!g.every(function(o){return Object.prototype.hasOwnProperty.call(p,o)}))throw new Error("parent schema must have all required keywords: "+g.join(","));var y=o.definition.validateSchema;if(y)if(!y(l)){var _="keyword schema is invalid: "+D.errorsText(y.errors);if("log"!=D._opts.validateSchema)throw new Error(_);D.logger.error(_)}}var b,S=o.definition.compile,A=o.definition.inline,T=o.definition.macro;if(S)b=S.call(D,l,p,m);else if(T)b=T.call(D,l,p,m),!1!==O.validateSchema&&D.validateSchema(b,!0);else if(A)b=A.call(D,m,o.keyword,l,p);else if(!(b=o.definition.validate))return;if(void 0===b)throw new Error('custom keyword "'+o.keyword+'"failed to compile');var w=U.length;return U[w]=b,{code:"customRule"+w,validate:b}}}}),require_cache=__commonJS((o,l)=>{var p=l.exports=function(){this._cache={}};p.prototype.put=function(o,l){this._cache[o]=l},p.prototype.get=function(o){return this._cache[o]},p.prototype.del=function(o){delete this._cache[o]},p.prototype.clear=function(){this._cache={}}}),require_formats=__commonJS((o,l)=>{var p=require_util(),m=/^(\d\d\d\d)-(\d\d)-(\d\d)$/,g=[0,31,28,31,30,31,30,31,31,30,31,30,31],y=/^(\d\d):(\d\d):(\d\d)(\.\d+)?(z|[+-]\d\d(?::?\d\d)?)?$/i,_=/^(?=.{1,253}\.?$)[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[-0-9a-z]{0,61}[0-9a-z])?)*\.?$/i,b=/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)(?:\?(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i,S=/^(?:(?:[^\x00-\x20"'<>%\\^`{|}]|%[0-9a-f]{2})|\{[+#./;?&=,!@|]?(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?(?:,(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?)*\})*$/i,A=/^(?:(?:http[s\u017F]?|ftp):\/\/)(?:(?:[\0-\x08\x0E-\x1F!-\x9F\xA1-\u167F\u1681-\u1FFF\u200B-\u2027\u202A-\u202E\u2030-\u205E\u2060-\u2FFF\u3001-\uD7FF\uE000-\uFEFE\uFF00-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+(?::(?:[\0-\x08\x0E-\x1F!-\x9F\xA1-\u167F\u1681-\u1FFF\u200B-\u2027\u202A-\u202E\u2030-\u205E\u2060-\u2FFF\u3001-\uD7FF\uE000-\uFEFE\uFF00-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])*)?@)?(?:(?!10(?:\.[0-9]{1,3}){3})(?!127(?:\.[0-9]{1,3}){3})(?!169\.254(?:\.[0-9]{1,3}){2})(?!192\.168(?:\.[0-9]{1,3}){2})(?!172\.(?:1[6-9]|2[0-9]|3[01])(?:\.[0-9]{1,3}){2})(?:[1-9][0-9]?|1[0-9][0-9]|2[01][0-9]|22[0-3])(?:\.(?:1?[0-9]{1,2}|2[0-4][0-9]|25[0-5])){2}(?:\.(?:[1-9][0-9]?|1[0-9][0-9]|2[0-4][0-9]|25[0-4]))|(?:(?:(?:[0-9a-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+-)*(?:[0-9a-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+)(?:\.(?:(?:[0-9a-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+-)*(?:[0-9a-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+)*(?:\.(?:(?:[a-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]){2,})))(?::[0-9]{2,5})?(?:\/(?:[\0-\x08\x0E-\x1F!-\x9F\xA1-\u167F\u1681-\u1FFF\u200B-\u2027\u202A-\u202E\u2030-\u205E\u2060-\u2FFF\u3001-\uD7FF\uE000-\uFEFE\uFF00-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])*)?$/i,T=/^(?:urn:uuid:)?[0-9a-f]{8}-(?:[0-9a-f]{4}-){3}[0-9a-f]{12}$/i,w=/^(?:\/(?:[^~/]|~0|~1)*)*$/,D=/^#(?:\/(?:[a-z0-9_\-.!$&'()*+,;:=@]|%[0-9a-f]{2}|~0|~1)*)*$/i,O=/^(?:0|[1-9][0-9]*)(?:#|(?:\/(?:[^~/]|~0|~1)*)*)$/;function formats(o){return o="full"==o?"full":"fast",p.copy(formats[o])}function date(o){var l=o.match(m);if(!l)return!1;var p=+l[1],y=+l[2],_=+l[3];return y>=1&&y<=12&&_>=1&&_<=(2==y&&function(o){return o%4==0&&(o%100!=0||o%400==0)}(p)?29:g[y])}function time(o,l){var p=o.match(y);if(!p)return!1;var m=p[1],g=p[2],_=p[3],b=p[5];return(m<=23&&g<=59&&_<=59||23==m&&59==g&&60==_)&&(!l||b)}l.exports=formats,formats.fast={date:/^\d\d\d\d-[0-1]\d-[0-3]\d$/,time:/^(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)?$/i,"date-time":/^\d\d\d\d-[0-1]\d-[0-3]\d[t\s](?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)$/i,uri:/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/)?[^\s]*$/i,"uri-reference":/^(?:(?:[a-z][a-z0-9+\-.]*:)?\/?\/)?(?:[^\\\s#][^\s#]*)?(?:#[^\\\s]*)?$/i,"uri-template":S,url:A,email:/^[a-z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?)*$/i,hostname:_,ipv4:/^(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)$/,ipv6:/^\s*(?:(?:(?:[0-9a-f]{1,4}:){7}(?:[0-9a-f]{1,4}|:))|(?:(?:[0-9a-f]{1,4}:){6}(?::[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){5}(?:(?:(?::[0-9a-f]{1,4}){1,2})|:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){4}(?:(?:(?::[0-9a-f]{1,4}){1,3})|(?:(?::[0-9a-f]{1,4})?:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){3}(?:(?:(?::[0-9a-f]{1,4}){1,4})|(?:(?::[0-9a-f]{1,4}){0,2}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){2}(?:(?:(?::[0-9a-f]{1,4}){1,5})|(?:(?::[0-9a-f]{1,4}){0,3}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){1}(?:(?:(?::[0-9a-f]{1,4}){1,6})|(?:(?::[0-9a-f]{1,4}){0,4}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?::(?:(?:(?::[0-9a-f]{1,4}){1,7})|(?:(?::[0-9a-f]{1,4}){0,5}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))(?:%.+)?\s*$/i,regex:regex,uuid:T,"json-pointer":w,"json-pointer-uri-fragment":D,"relative-json-pointer":O},formats.full={date:date,time:time,"date-time":function(o){var l=o.split(k);return 2==l.length&&date(l[0])&&time(l[1],!0)},uri:function(o){return I.test(o)&&b.test(o)},"uri-reference":/^(?:[a-z][a-z0-9+\-.]*:)?(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'"()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?(?:\?(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i,"uri-template":S,url:A,email:/^[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?$/i,hostname:_,ipv4:/^(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)$/,ipv6:/^\s*(?:(?:(?:[0-9a-f]{1,4}:){7}(?:[0-9a-f]{1,4}|:))|(?:(?:[0-9a-f]{1,4}:){6}(?::[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){5}(?:(?:(?::[0-9a-f]{1,4}){1,2})|:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){4}(?:(?:(?::[0-9a-f]{1,4}){1,3})|(?:(?::[0-9a-f]{1,4})?:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){3}(?:(?:(?::[0-9a-f]{1,4}){1,4})|(?:(?::[0-9a-f]{1,4}){0,2}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){2}(?:(?:(?::[0-9a-f]{1,4}){1,5})|(?:(?::[0-9a-f]{1,4}){0,3}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){1}(?:(?:(?::[0-9a-f]{1,4}){1,6})|(?:(?::[0-9a-f]{1,4}){0,4}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?::(?:(?:(?::[0-9a-f]{1,4}){1,7})|(?:(?::[0-9a-f]{1,4}){0,5}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))(?:%.+)?\s*$/i,regex:regex,uuid:T,"json-pointer":w,"json-pointer-uri-fragment":D,"relative-json-pointer":O};var k=/t|\s/i;var I=/\/|:/;var N=/[^\\]\\Z/;function regex(o){if(N.test(o))return!1;try{return new RegExp(o),!0}catch(o){return!1}}}),require_ref=__commonJS((o,l)=>{l.exports=function(o,l,p){var m,g,y=" ",_=o.level,b=o.dataLevel,S=o.schema[l],A=o.errSchemaPath+"/"+l,T=!o.opts.allErrors,w="data"+(b||""),D="valid"+_;if("#"==S||"#/"==S)o.isRoot?(m=o.async,g="validate"):(m=!0===o.root.schema.$async,g="root.refVal[0]");else{var O=o.resolveRef(o.baseId,S,o.isRoot);if(void 0===O){var k=o.MissingRefError.message(o.baseId,S);if("fail"==o.opts.missingRefs){o.logger.error(k),(j=j||[]).push(y),y="",!1!==o.createErrors?(y+=" { keyword: '$ref' , dataPath: (dataPath || '') + "+o.errorPath+" , schemaPath: "+o.util.toQuotedString(A)+" , params: { ref: '"+o.util.escapeQuotes(S)+"' } ",!1!==o.opts.messages&&(y+=" , message: 'can\\'t resolve reference "+o.util.escapeQuotes(S)+"' "),o.opts.verbose&&(y+=" , schema: "+o.util.toQuotedString(S)+" , parentSchema: validate.schema"+o.schemaPath+" , data: "+w+" "),y+=" } "):y+=" {} ";var I=y;y=j.pop(),!o.compositeRule&&T?o.async?y+=" throw new ValidationError(["+I+"]); ":y+=" validate.errors = ["+I+"]; return false; ":y+=" var err = "+I+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",T&&(y+=" if (false) { ")}else{if("ignore"!=o.opts.missingRefs)throw new o.MissingRefError(o.baseId,S,k);o.logger.warn(k),T&&(y+=" if (true) { ")}}else if(O.inline){var N=o.util.copy(o);N.level++;var L="valid"+N.level;N.schema=O.schema,N.schemaPath="",N.errSchemaPath=S,y+=" "+o.validate(N).replace(/validate\.schema/g,O.code)+" ",T&&(y+=" if ("+L+") { ")}else m=!0===O.$async||o.async&&!1!==O.$async,g=O.code}if(g){var j;(j=j||[]).push(y),y="",o.opts.passContext?y+=" "+g+".call(this, ":y+=" "+g+"( ",y+=" "+w+", (dataPath || '')",'""'!=o.errorPath&&(y+=" + "+o.errorPath);var B=y+=" , "+(b?"data"+(b-1||""):"parentData")+" , "+(b?o.dataPathArr[b]:"parentDataProperty")+", rootData)  ";if(y=j.pop(),m){if(!o.async)throw new Error("async schema referenced by sync schema");T&&(y+=" var "+D+"; "),y+=" try { await "+B+"; ",T&&(y+=" "+D+" = true; "),y+=" } catch (e) { if (!(e instanceof ValidationError)) throw e; if (vErrors === null) vErrors = e.errors; else vErrors = vErrors.concat(e.errors); errors = vErrors.length; ",T&&(y+=" "+D+" = false; "),y+=" } ",T&&(y+=" if ("+D+") { ")}else y+=" if (!"+B+") { if (vErrors === null) vErrors = "+g+".errors; else vErrors = vErrors.concat("+g+".errors); errors = vErrors.length; } ",T&&(y+=" else { ")}return y}}),require_allOf=__commonJS((o,l)=>{l.exports=function(o,l,p){var m=" ",g=o.schema[l],y=o.schemaPath+o.util.getProperty(l),_=o.errSchemaPath+"/"+l,b=!o.opts.allErrors,S=o.util.copy(o),A="";S.level++;var T="valid"+S.level,w=S.baseId,D=!0,O=g;if(O)for(var k,I=-1,N=O.length-1;I<N;)k=O[I+=1],(o.opts.strictKeywords?"object"==typeof k&&Object.keys(k).length>0||!1===k:o.util.schemaHasRules(k,o.RULES.all))&&(D=!1,S.schema=k,S.schemaPath=y+"["+I+"]",S.errSchemaPath=_+"/"+I,m+="  "+o.validate(S)+" ",S.baseId=w,b&&(m+=" if ("+T+") { ",A+="}"));return b&&(m+=D?" if (true) { ":" "+A.slice(0,-1)+" "),m}}),require_anyOf=__commonJS((o,l)=>{l.exports=function(o,l,p){var m=" ",g=o.level,y=o.dataLevel,_=o.schema[l],b=o.schemaPath+o.util.getProperty(l),S=o.errSchemaPath+"/"+l,A=!o.opts.allErrors,T="data"+(y||""),w="valid"+g,D="errs__"+g,O=o.util.copy(o),k="";O.level++;var I="valid"+O.level;if(_.every(function(l){return o.opts.strictKeywords?"object"==typeof l&&Object.keys(l).length>0||!1===l:o.util.schemaHasRules(l,o.RULES.all)})){var N=O.baseId;m+=" var "+D+" = errors; var "+w+" = false;  ";var L=o.compositeRule;o.compositeRule=O.compositeRule=!0;var j=_;if(j)for(var B,U=-1,q=j.length-1;U<q;)B=j[U+=1],O.schema=B,O.schemaPath=b+"["+U+"]",O.errSchemaPath=S+"/"+U,m+="  "+o.validate(O)+" ",O.baseId=N,m+=" "+w+" = "+w+" || "+I+"; if (!"+w+") { ",k+="}";o.compositeRule=O.compositeRule=L,m+=" "+k+" if (!"+w+") {   var err =   ",!1!==o.createErrors?(m+=" { keyword: 'anyOf' , dataPath: (dataPath || '') + "+o.errorPath+" , schemaPath: "+o.util.toQuotedString(S)+" , params: {} ",!1!==o.opts.messages&&(m+=" , message: 'should match some schema in anyOf' "),o.opts.verbose&&(m+=" , schema: validate.schema"+b+" , parentSchema: validate.schema"+o.schemaPath+" , data: "+T+" "),m+=" } "):m+=" {} ",m+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",!o.compositeRule&&A&&(o.async?m+=" throw new ValidationError(vErrors); ":m+=" validate.errors = vErrors; return false; "),m+=" } else {  errors = "+D+"; if (vErrors !== null) { if ("+D+") vErrors.length = "+D+"; else vErrors = null; } ",o.opts.allErrors&&(m+=" } ")}else A&&(m+=" if (true) { ");return m}}),require_comment=__commonJS((o,l)=>{l.exports=function(o,l,p){var m=" ",g=o.schema[l],y=o.errSchemaPath+"/"+l;o.opts.allErrors;var _=o.util.toQuotedString(g);return!0===o.opts.$comment?m+=" console.log("+_+");":"function"==typeof o.opts.$comment&&(m+=" self._opts.$comment("+_+", "+o.util.toQuotedString(y)+", validate.root.schema);"),m}}),require_const=__commonJS((o,l)=>{l.exports=function(o,l,p){var m=" ",g=o.level,y=o.dataLevel,_=o.schema[l],b=o.schemaPath+o.util.getProperty(l),S=o.errSchemaPath+"/"+l,A=!o.opts.allErrors,T="data"+(y||""),w="valid"+g,D=o.opts.$data&&_&&_.$data;D&&(m+=" var schema"+g+" = "+o.util.getData(_.$data,y,o.dataPathArr)+"; "),D||(m+=" var schema"+g+" = validate.schema"+b+";"),m+="var "+w+" = equal("+T+", schema"+g+"); if (!"+w+") {   ";var O=O||[];O.push(m),m="",!1!==o.createErrors?(m+=" { keyword: 'const' , dataPath: (dataPath || '') + "+o.errorPath+" , schemaPath: "+o.util.toQuotedString(S)+" , params: { allowedValue: schema"+g+" } ",!1!==o.opts.messages&&(m+=" , message: 'should be equal to constant' "),o.opts.verbose&&(m+=" , schema: validate.schema"+b+" , parentSchema: validate.schema"+o.schemaPath+" , data: "+T+" "),m+=" } "):m+=" {} ";var k=m;return m=O.pop(),!o.compositeRule&&A?o.async?m+=" throw new ValidationError(["+k+"]); ":m+=" validate.errors = ["+k+"]; return false; ":m+=" var err = "+k+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",m+=" }",A&&(m+=" else { "),m}}),require_contains=__commonJS((o,l)=>{l.exports=function(o,l,p){var m=" ",g=o.level,y=o.dataLevel,_=o.schema[l],b=o.schemaPath+o.util.getProperty(l),S=o.errSchemaPath+"/"+l,A=!o.opts.allErrors,T="data"+(y||""),w="valid"+g,D="errs__"+g,O=o.util.copy(o);O.level++;var k="valid"+O.level,I="i"+g,N=O.dataLevel=o.dataLevel+1,L="data"+N,j=o.baseId,B=o.opts.strictKeywords?"object"==typeof _&&Object.keys(_).length>0||!1===_:o.util.schemaHasRules(_,o.RULES.all);if(m+="var "+D+" = errors;var "+w+";",B){var U=o.compositeRule;o.compositeRule=O.compositeRule=!0,O.schema=_,O.schemaPath=b,O.errSchemaPath=S,m+=" var "+k+" = false; for (var "+I+" = 0; "+I+" < "+T+".length; "+I+"++) { ",O.errorPath=o.util.getPathExpr(o.errorPath,I,o.opts.jsonPointers,!0);var q=T+"["+I+"]";O.dataPathArr[N]=I;var Z=o.validate(O);O.baseId=j,o.util.varOccurences(Z,L)<2?m+=" "+o.util.varReplace(Z,L,q)+" ":m+=" var "+L+" = "+q+"; "+Z+" ",m+=" if ("+k+") break; }  ",o.compositeRule=O.compositeRule=U,m+="  if (!"+k+") {"}else m+=" if ("+T+".length == 0) {";var H=H||[];H.push(m),m="",!1!==o.createErrors?(m+=" { keyword: 'contains' , dataPath: (dataPath || '') + "+o.errorPath+" , schemaPath: "+o.util.toQuotedString(S)+" , params: {} ",!1!==o.opts.messages&&(m+=" , message: 'should contain a valid item' "),o.opts.verbose&&(m+=" , schema: validate.schema"+b+" , parentSchema: validate.schema"+o.schemaPath+" , data: "+T+" "),m+=" } "):m+=" {} ";var G=m;return m=H.pop(),!o.compositeRule&&A?o.async?m+=" throw new ValidationError(["+G+"]); ":m+=" validate.errors = ["+G+"]; return false; ":m+=" var err = "+G+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",m+=" } else { ",B&&(m+="  errors = "+D+"; if (vErrors !== null) { if ("+D+") vErrors.length = "+D+"; else vErrors = null; } "),o.opts.allErrors&&(m+=" } "),m}}),require_dependencies=__commonJS((o,l)=>{l.exports=function(o,l,p){var m=" ",g=o.level,y=o.dataLevel,_=o.schema[l],b=o.schemaPath+o.util.getProperty(l),S=o.errSchemaPath+"/"+l,A=!o.opts.allErrors,T="data"+(y||""),w="errs__"+g,D=o.util.copy(o),O="";D.level++;var k="valid"+D.level,I={},N={},L=o.opts.ownProperties;for(q in _)if("__proto__"!=q){var j=_[q],B=Array.isArray(j)?N:I;B[q]=j}m+="var "+w+" = errors;";var U=o.errorPath;for(var q in m+="var missing"+g+";",N)if((B=N[q]).length){if(m+=" if ( "+T+o.util.getProperty(q)+" !== undefined ",L&&(m+=" && Object.prototype.hasOwnProperty.call("+T+", '"+o.util.escapeQuotes(q)+"') "),A){m+=" && ( ";var Z=B;if(Z)for(var H=-1,G=Z.length-1;H<G;){oe=Z[H+=1],H&&(m+=" || "),m+=" ( ( "+(ye=T+(ge=o.util.getProperty(oe)))+" === undefined ",L&&(m+=" || ! Object.prototype.hasOwnProperty.call("+T+", '"+o.util.escapeQuotes(oe)+"') "),m+=") && (missing"+g+" = "+o.util.toQuotedString(o.opts.jsonPointers?oe:ge)+") ) "}m+=")) {  ";var z="missing"+g,W="' + "+z+" + '";o.opts._errorDataPathProperty&&(o.errorPath=o.opts.jsonPointers?o.util.getPathExpr(U,z,!0):U+" + "+z);var Q=Q||[];Q.push(m),m="",!1!==o.createErrors?(m+=" { keyword: 'dependencies' , dataPath: (dataPath || '') + "+o.errorPath+" , schemaPath: "+o.util.toQuotedString(S)+" , params: { property: '"+o.util.escapeQuotes(q)+"', missingProperty: '"+W+"', depsCount: "+B.length+", deps: '"+o.util.escapeQuotes(1==B.length?B[0]:B.join(", "))+"' } ",!1!==o.opts.messages&&(m+=" , message: 'should have ",1==B.length?m+="property "+o.util.escapeQuotes(B[0]):m+="properties "+o.util.escapeQuotes(B.join(", ")),m+=" when property "+o.util.escapeQuotes(q)+" is present' "),o.opts.verbose&&(m+=" , schema: validate.schema"+b+" , parentSchema: validate.schema"+o.schemaPath+" , data: "+T+" "),m+=" } "):m+=" {} ";var ae=m;m=Q.pop(),!o.compositeRule&&A?o.async?m+=" throw new ValidationError(["+ae+"]); ":m+=" validate.errors = ["+ae+"]; return false; ":m+=" var err = "+ae+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; "}else{m+=" ) { ";var ie=B;if(ie)for(var oe,ce=-1,le=ie.length-1;ce<le;){oe=ie[ce+=1];var ge=o.util.getProperty(oe),ye=(W=o.util.escapeQuotes(oe),T+ge);o.opts._errorDataPathProperty&&(o.errorPath=o.util.getPath(U,oe,o.opts.jsonPointers)),m+=" if ( "+ye+" === undefined ",L&&(m+=" || ! Object.prototype.hasOwnProperty.call("+T+", '"+o.util.escapeQuotes(oe)+"') "),m+=") {  var err =   ",!1!==o.createErrors?(m+=" { keyword: 'dependencies' , dataPath: (dataPath || '') + "+o.errorPath+" , schemaPath: "+o.util.toQuotedString(S)+" , params: { property: '"+o.util.escapeQuotes(q)+"', missingProperty: '"+W+"', depsCount: "+B.length+", deps: '"+o.util.escapeQuotes(1==B.length?B[0]:B.join(", "))+"' } ",!1!==o.opts.messages&&(m+=" , message: 'should have ",1==B.length?m+="property "+o.util.escapeQuotes(B[0]):m+="properties "+o.util.escapeQuotes(B.join(", ")),m+=" when property "+o.util.escapeQuotes(q)+" is present' "),o.opts.verbose&&(m+=" , schema: validate.schema"+b+" , parentSchema: validate.schema"+o.schemaPath+" , data: "+T+" "),m+=" } "):m+=" {} ",m+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } "}}m+=" }   ",A&&(O+="}",m+=" else { ")}o.errorPath=U;var _e=D.baseId;for(var q in I){j=I[q];(o.opts.strictKeywords?"object"==typeof j&&Object.keys(j).length>0||!1===j:o.util.schemaHasRules(j,o.RULES.all))&&(m+=" "+k+" = true; if ( "+T+o.util.getProperty(q)+" !== undefined ",L&&(m+=" && Object.prototype.hasOwnProperty.call("+T+", '"+o.util.escapeQuotes(q)+"') "),m+=") { ",D.schema=j,D.schemaPath=b+o.util.getProperty(q),D.errSchemaPath=S+"/"+o.util.escapeFragment(q),m+="  "+o.validate(D)+" ",D.baseId=_e,m+=" }  ",A&&(m+=" if ("+k+") { ",O+="}"))}return A&&(m+="   "+O+" if ("+w+" == errors) {"),m}}),require_enum=__commonJS((o,l)=>{l.exports=function(o,l,p){var m=" ",g=o.level,y=o.dataLevel,_=o.schema[l],b=o.schemaPath+o.util.getProperty(l),S=o.errSchemaPath+"/"+l,A=!o.opts.allErrors,T="data"+(y||""),w="valid"+g,D=o.opts.$data&&_&&_.$data;D&&(m+=" var schema"+g+" = "+o.util.getData(_.$data,y,o.dataPathArr)+"; ");var O="i"+g,k="schema"+g;D||(m+=" var "+k+" = validate.schema"+b+";"),m+="var "+w+";",D&&(m+=" if (schema"+g+" === undefined) "+w+" = true; else if (!Array.isArray(schema"+g+")) "+w+" = false; else {"),m+=w+" = false;for (var "+O+"=0; "+O+"<"+k+".length; "+O+"++) if (equal("+T+", "+k+"["+O+"])) { "+w+" = true; break; }",D&&(m+="  }  "),m+=" if (!"+w+") {   ";var I=I||[];I.push(m),m="",!1!==o.createErrors?(m+=" { keyword: 'enum' , dataPath: (dataPath || '') + "+o.errorPath+" , schemaPath: "+o.util.toQuotedString(S)+" , params: { allowedValues: schema"+g+" } ",!1!==o.opts.messages&&(m+=" , message: 'should be equal to one of the allowed values' "),o.opts.verbose&&(m+=" , schema: validate.schema"+b+" , parentSchema: validate.schema"+o.schemaPath+" , data: "+T+" "),m+=" } "):m+=" {} ";var N=m;return m=I.pop(),!o.compositeRule&&A?o.async?m+=" throw new ValidationError(["+N+"]); ":m+=" validate.errors = ["+N+"]; return false; ":m+=" var err = "+N+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",m+=" }",A&&(m+=" else { "),m}}),require_format=__commonJS((o,l)=>{l.exports=function(o,l,p){var m=" ",g=o.level,y=o.dataLevel,_=o.schema[l],b=o.schemaPath+o.util.getProperty(l),S=o.errSchemaPath+"/"+l,A=!o.opts.allErrors,T="data"+(y||"");if(!1===o.opts.format)return A&&(m+=" if (true) { "),m;var w,D=o.opts.$data&&_&&_.$data;D?(m+=" var schema"+g+" = "+o.util.getData(_.$data,y,o.dataPathArr)+"; ",w="schema"+g):w=_;var O=o.opts.unknownFormats,k=Array.isArray(O);if(D){m+=" var "+(I="format"+g)+" = formats["+w+"]; var "+(N="isObject"+g)+" = typeof "+I+" == 'object' && !("+I+" instanceof RegExp) && "+I+".validate; var "+(L="formatType"+g)+" = "+N+" && "+I+".type || 'string'; if ("+N+") { ",o.async&&(m+=" var async"+g+" = "+I+".async; "),m+=" "+I+" = "+I+".validate; } if (  ",D&&(m+=" ("+w+" !== undefined && typeof "+w+" != 'string') || "),m+=" (","ignore"!=O&&(m+=" ("+w+" && !"+I+" ",k&&(m+=" && self._opts.unknownFormats.indexOf("+w+") == -1 "),m+=") || "),m+=" ("+I+" && "+L+" == '"+p+"' && !(typeof "+I+" == 'function' ? ",o.async?m+=" (async"+g+" ? await "+I+"("+T+") : "+I+"("+T+")) ":m+=" "+I+"("+T+") ",m+=" : "+I+".test("+T+"))))) {"}else{var I;if(!(I=o.formats[_])){if("ignore"==O)return o.logger.warn('unknown format "'+_+'" ignored in schema at path "'+o.errSchemaPath+'"'),A&&(m+=" if (true) { "),m;if(k&&O.indexOf(_)>=0)return A&&(m+=" if (true) { "),m;throw new Error('unknown format "'+_+'" is used in schema at path "'+o.errSchemaPath+'"')}var N,L=(N="object"==typeof I&&!(I instanceof RegExp)&&I.validate)&&I.type||"string";if(N){var j=!0===I.async;I=I.validate}if(L!=p)return A&&(m+=" if (true) { "),m;if(j){if(!o.async)throw new Error("async format in sync schema");m+=" if (!(await "+(B="formats"+o.util.getProperty(_)+".validate")+"("+T+"))) { "}else{m+=" if (! ";var B="formats"+o.util.getProperty(_);N&&(B+=".validate"),m+="function"==typeof I?" "+B+"("+T+") ":" "+B+".test("+T+") ",m+=") { "}}var U=U||[];U.push(m),m="",!1!==o.createErrors?(m+=" { keyword: 'format' , dataPath: (dataPath || '') + "+o.errorPath+" , schemaPath: "+o.util.toQuotedString(S)+" , params: { format:  ",m+=D?""+w:""+o.util.toQuotedString(_),m+="  } ",!1!==o.opts.messages&&(m+=" , message: 'should match format \"",m+=D?"' + "+w+" + '":""+o.util.escapeQuotes(_),m+="\"' "),o.opts.verbose&&(m+=" , schema:  ",m+=D?"validate.schema"+b:""+o.util.toQuotedString(_),m+="         , parentSchema: validate.schema"+o.schemaPath+" , data: "+T+" "),m+=" } "):m+=" {} ";var q=m;return m=U.pop(),!o.compositeRule&&A?o.async?m+=" throw new ValidationError(["+q+"]); ":m+=" validate.errors = ["+q+"]; return false; ":m+=" var err = "+q+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",m+=" } ",A&&(m+=" else { "),m}}),require_if=__commonJS((o,l)=>{l.exports=function(o,l,p){var m=" ",g=o.level,y=o.dataLevel,_=o.schema[l],b=o.schemaPath+o.util.getProperty(l),S=o.errSchemaPath+"/"+l,A=!o.opts.allErrors,T="data"+(y||""),w="valid"+g,D="errs__"+g,O=o.util.copy(o);O.level++;var k="valid"+O.level,I=o.schema.then,N=o.schema.else,L=void 0!==I&&(o.opts.strictKeywords?"object"==typeof I&&Object.keys(I).length>0||!1===I:o.util.schemaHasRules(I,o.RULES.all)),j=void 0!==N&&(o.opts.strictKeywords?"object"==typeof N&&Object.keys(N).length>0||!1===N:o.util.schemaHasRules(N,o.RULES.all)),B=O.baseId;if(L||j){var U;O.createErrors=!1,O.schema=_,O.schemaPath=b,O.errSchemaPath=S,m+=" var "+D+" = errors; var "+w+" = true;  ";var q=o.compositeRule;o.compositeRule=O.compositeRule=!0,m+="  "+o.validate(O)+" ",O.baseId=B,O.createErrors=!0,m+="  errors = "+D+"; if (vErrors !== null) { if ("+D+") vErrors.length = "+D+"; else vErrors = null; }  ",o.compositeRule=O.compositeRule=q,L?(m+=" if ("+k+") {  ",O.schema=o.schema.then,O.schemaPath=o.schemaPath+".then",O.errSchemaPath=o.errSchemaPath+"/then",m+="  "+o.validate(O)+" ",O.baseId=B,m+=" "+w+" = "+k+"; ",L&&j?m+=" var "+(U="ifClause"+g)+" = 'then'; ":U="'then'",m+=" } ",j&&(m+=" else { ")):m+=" if (!"+k+") { ",j&&(O.schema=o.schema.else,O.schemaPath=o.schemaPath+".else",O.errSchemaPath=o.errSchemaPath+"/else",m+="  "+o.validate(O)+" ",O.baseId=B,m+=" "+w+" = "+k+"; ",L&&j?m+=" var "+(U="ifClause"+g)+" = 'else'; ":U="'else'",m+=" } "),m+=" if (!"+w+") {   var err =   ",!1!==o.createErrors?(m+=" { keyword: 'if' , dataPath: (dataPath || '') + "+o.errorPath+" , schemaPath: "+o.util.toQuotedString(S)+" , params: { failingKeyword: "+U+" } ",!1!==o.opts.messages&&(m+=" , message: 'should match \"' + "+U+" + '\" schema' "),o.opts.verbose&&(m+=" , schema: validate.schema"+b+" , parentSchema: validate.schema"+o.schemaPath+" , data: "+T+" "),m+=" } "):m+=" {} ",m+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",!o.compositeRule&&A&&(o.async?m+=" throw new ValidationError(vErrors); ":m+=" validate.errors = vErrors; return false; "),m+=" }   ",A&&(m+=" else { ")}else A&&(m+=" if (true) { ");return m}}),require_items=__commonJS((o,l)=>{l.exports=function(o,l,p){var m=" ",g=o.level,y=o.dataLevel,_=o.schema[l],b=o.schemaPath+o.util.getProperty(l),S=o.errSchemaPath+"/"+l,A=!o.opts.allErrors,T="data"+(y||""),w="valid"+g,D="errs__"+g,O=o.util.copy(o),k="";O.level++;var I="valid"+O.level,N="i"+g,L=O.dataLevel=o.dataLevel+1,j="data"+L,B=o.baseId;if(m+="var "+D+" = errors;var "+w+";",Array.isArray(_)){var U=o.schema.additionalItems;if(!1===U){m+=" "+w+" = "+T+".length <= "+_.length+"; ";var q=S;S=o.errSchemaPath+"/additionalItems",m+="  if (!"+w+") {   ";var Z=Z||[];Z.push(m),m="",!1!==o.createErrors?(m+=" { keyword: 'additionalItems' , dataPath: (dataPath || '') + "+o.errorPath+" , schemaPath: "+o.util.toQuotedString(S)+" , params: { limit: "+_.length+" } ",!1!==o.opts.messages&&(m+=" , message: 'should NOT have more than "+_.length+" items' "),o.opts.verbose&&(m+=" , schema: false , parentSchema: validate.schema"+o.schemaPath+" , data: "+T+" "),m+=" } "):m+=" {} ";var H=m;m=Z.pop(),!o.compositeRule&&A?o.async?m+=" throw new ValidationError(["+H+"]); ":m+=" validate.errors = ["+H+"]; return false; ":m+=" var err = "+H+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",m+=" } ",S=q,A&&(k+="}",m+=" else { ")}var G=_;if(G)for(var z,W=-1,Q=G.length-1;W<Q;)if(z=G[W+=1],o.opts.strictKeywords?"object"==typeof z&&Object.keys(z).length>0||!1===z:o.util.schemaHasRules(z,o.RULES.all)){m+=" "+I+" = true; if ("+T+".length > "+W+") { ";var ae=T+"["+W+"]";O.schema=z,O.schemaPath=b+"["+W+"]",O.errSchemaPath=S+"/"+W,O.errorPath=o.util.getPathExpr(o.errorPath,W,o.opts.jsonPointers,!0),O.dataPathArr[L]=W;var ie=o.validate(O);O.baseId=B,o.util.varOccurences(ie,j)<2?m+=" "+o.util.varReplace(ie,j,ae)+" ":m+=" var "+j+" = "+ae+"; "+ie+" ",m+=" }  ",A&&(m+=" if ("+I+") { ",k+="}")}if("object"==typeof U&&(o.opts.strictKeywords?"object"==typeof U&&Object.keys(U).length>0||!1===U:o.util.schemaHasRules(U,o.RULES.all))){O.schema=U,O.schemaPath=o.schemaPath+".additionalItems",O.errSchemaPath=o.errSchemaPath+"/additionalItems",m+=" "+I+" = true; if ("+T+".length > "+_.length+") {  for (var "+N+" = "+_.length+"; "+N+" < "+T+".length; "+N+"++) { ",O.errorPath=o.util.getPathExpr(o.errorPath,N,o.opts.jsonPointers,!0);ae=T+"["+N+"]";O.dataPathArr[L]=N;ie=o.validate(O);O.baseId=B,o.util.varOccurences(ie,j)<2?m+=" "+o.util.varReplace(ie,j,ae)+" ":m+=" var "+j+" = "+ae+"; "+ie+" ",A&&(m+=" if (!"+I+") break; "),m+=" } }  ",A&&(m+=" if ("+I+") { ",k+="}")}}else if(o.opts.strictKeywords?"object"==typeof _&&Object.keys(_).length>0||!1===_:o.util.schemaHasRules(_,o.RULES.all)){O.schema=_,O.schemaPath=b,O.errSchemaPath=S,m+="  for (var "+N+" = 0; "+N+" < "+T+".length; "+N+"++) { ",O.errorPath=o.util.getPathExpr(o.errorPath,N,o.opts.jsonPointers,!0);ae=T+"["+N+"]";O.dataPathArr[L]=N;ie=o.validate(O);O.baseId=B,o.util.varOccurences(ie,j)<2?m+=" "+o.util.varReplace(ie,j,ae)+" ":m+=" var "+j+" = "+ae+"; "+ie+" ",A&&(m+=" if (!"+I+") break; "),m+=" }"}return A&&(m+=" "+k+" if ("+D+" == errors) {"),m}}),require__limit=__commonJS((o,l)=>{l.exports=function(o,l,p){var m,g=" ",y=o.level,_=o.dataLevel,b=o.schema[l],S=o.schemaPath+o.util.getProperty(l),A=o.errSchemaPath+"/"+l,T=!o.opts.allErrors,w="data"+(_||""),D=o.opts.$data&&b&&b.$data;D?(g+=" var schema"+y+" = "+o.util.getData(b.$data,_,o.dataPathArr)+"; ",m="schema"+y):m=b;var O="maximum"==l,k=O?"exclusiveMaximum":"exclusiveMinimum",I=o.schema[k],N=o.opts.$data&&I&&I.$data,L=O?"<":">",j=O?">":"<",B=void 0;if(!D&&"number"!=typeof b&&void 0!==b)throw new Error(l+" must be number");if(!N&&void 0!==I&&"number"!=typeof I&&"boolean"!=typeof I)throw new Error(k+" must be number or boolean");if(N){var U=o.util.getData(I.$data,_,o.dataPathArr),q="exclusive"+y,Z="exclType"+y,H="exclIsNumber"+y,G="' + "+(Q="op"+y)+" + '";g+=" var schemaExcl"+y+" = "+U+"; ",g+=" var "+q+"; var "+Z+" = typeof "+(U="schemaExcl"+y)+"; if ("+Z+" != 'boolean' && "+Z+" != 'undefined' && "+Z+" != 'number') { ";var z;B=k;(z=z||[]).push(g),g="",!1!==o.createErrors?(g+=" { keyword: '"+(B||"_exclusiveLimit")+"' , dataPath: (dataPath || '') + "+o.errorPath+" , schemaPath: "+o.util.toQuotedString(A)+" , params: {} ",!1!==o.opts.messages&&(g+=" , message: '"+k+" should be boolean' "),o.opts.verbose&&(g+=" , schema: validate.schema"+S+" , parentSchema: validate.schema"+o.schemaPath+" , data: "+w+" "),g+=" } "):g+=" {} ";var W=g;g=z.pop(),!o.compositeRule&&T?o.async?g+=" throw new ValidationError(["+W+"]); ":g+=" validate.errors = ["+W+"]; return false; ":g+=" var err = "+W+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",g+=" } else if ( ",D&&(g+=" ("+m+" !== undefined && typeof "+m+" != 'number') || "),g+=" "+Z+" == 'number' ? ( ("+q+" = "+m+" === undefined || "+U+" "+L+"= "+m+") ? "+w+" "+j+"= "+U+" : "+w+" "+j+" "+m+" ) : ( ("+q+" = "+U+" === true) ? "+w+" "+j+"= "+m+" : "+w+" "+j+" "+m+" ) || "+w+" !== "+w+") { var op"+y+" = "+q+" ? '"+L+"' : '"+L+"='; ",void 0===b&&(B=k,A=o.errSchemaPath+"/"+k,m=U,D=N)}else{G=L;if((H="number"==typeof I)&&D){var Q="'"+G+"'";g+=" if ( ",D&&(g+=" ("+m+" !== undefined && typeof "+m+" != 'number') || "),g+=" ( "+m+" === undefined || "+I+" "+L+"= "+m+" ? "+w+" "+j+"= "+I+" : "+w+" "+j+" "+m+" ) || "+w+" !== "+w+") { "}else{H&&void 0===b?(q=!0,B=k,A=o.errSchemaPath+"/"+k,m=I,j+="="):(H&&(m=Math[O?"min":"max"](I,b)),I===(!H||m)?(q=!0,B=k,A=o.errSchemaPath+"/"+k,j+="="):(q=!1,G+="="));Q="'"+G+"'";g+=" if ( ",D&&(g+=" ("+m+" !== undefined && typeof "+m+" != 'number') || "),g+=" "+w+" "+j+" "+m+" || "+w+" !== "+w+") { "}}B=B||l,(z=z||[]).push(g),g="",!1!==o.createErrors?(g+=" { keyword: '"+(B||"_limit")+"' , dataPath: (dataPath || '') + "+o.errorPath+" , schemaPath: "+o.util.toQuotedString(A)+" , params: { comparison: "+Q+", limit: "+m+", exclusive: "+q+" } ",!1!==o.opts.messages&&(g+=" , message: 'should be "+G+" ",g+=D?"' + "+m:m+"'"),o.opts.verbose&&(g+=" , schema:  ",g+=D?"validate.schema"+S:""+b,g+="         , parentSchema: validate.schema"+o.schemaPath+" , data: "+w+" "),g+=" } "):g+=" {} ";W=g;return g=z.pop(),!o.compositeRule&&T?o.async?g+=" throw new ValidationError(["+W+"]); ":g+=" validate.errors = ["+W+"]; return false; ":g+=" var err = "+W+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",g+=" } ",T&&(g+=" else { "),g}}),require__limitItems=__commonJS((o,l)=>{l.exports=function(o,l,p){var m,g=" ",y=o.level,_=o.dataLevel,b=o.schema[l],S=o.schemaPath+o.util.getProperty(l),A=o.errSchemaPath+"/"+l,T=!o.opts.allErrors,w="data"+(_||""),D=o.opts.$data&&b&&b.$data;if(D?(g+=" var schema"+y+" = "+o.util.getData(b.$data,_,o.dataPathArr)+"; ",m="schema"+y):m=b,!D&&"number"!=typeof b)throw new Error(l+" must be number");g+="if ( ",D&&(g+=" ("+m+" !== undefined && typeof "+m+" != 'number') || "),g+=" "+w+".length "+("maxItems"==l?">":"<")+" "+m+") { ";var O=l,k=k||[];k.push(g),g="",!1!==o.createErrors?(g+=" { keyword: '"+(O||"_limitItems")+"' , dataPath: (dataPath || '') + "+o.errorPath+" , schemaPath: "+o.util.toQuotedString(A)+" , params: { limit: "+m+" } ",!1!==o.opts.messages&&(g+=" , message: 'should NOT have ",g+="maxItems"==l?"more":"fewer",g+=" than ",g+=D?"' + "+m+" + '":""+b,g+=" items' "),o.opts.verbose&&(g+=" , schema:  ",g+=D?"validate.schema"+S:""+b,g+="         , parentSchema: validate.schema"+o.schemaPath+" , data: "+w+" "),g+=" } "):g+=" {} ";var I=g;return g=k.pop(),!o.compositeRule&&T?o.async?g+=" throw new ValidationError(["+I+"]); ":g+=" validate.errors = ["+I+"]; return false; ":g+=" var err = "+I+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",g+="} ",T&&(g+=" else { "),g}}),require__limitLength=__commonJS((o,l)=>{l.exports=function(o,l,p){var m,g=" ",y=o.level,_=o.dataLevel,b=o.schema[l],S=o.schemaPath+o.util.getProperty(l),A=o.errSchemaPath+"/"+l,T=!o.opts.allErrors,w="data"+(_||""),D=o.opts.$data&&b&&b.$data;if(D?(g+=" var schema"+y+" = "+o.util.getData(b.$data,_,o.dataPathArr)+"; ",m="schema"+y):m=b,!D&&"number"!=typeof b)throw new Error(l+" must be number");var O="maxLength"==l?">":"<";g+="if ( ",D&&(g+=" ("+m+" !== undefined && typeof "+m+" != 'number') || "),!1===o.opts.unicode?g+=" "+w+".length ":g+=" ucs2length("+w+") ",g+=" "+O+" "+m+") { ";var k=l,I=I||[];I.push(g),g="",!1!==o.createErrors?(g+=" { keyword: '"+(k||"_limitLength")+"' , dataPath: (dataPath || '') + "+o.errorPath+" , schemaPath: "+o.util.toQuotedString(A)+" , params: { limit: "+m+" } ",!1!==o.opts.messages&&(g+=" , message: 'should NOT be ",g+="maxLength"==l?"longer":"shorter",g+=" than ",g+=D?"' + "+m+" + '":""+b,g+=" characters' "),o.opts.verbose&&(g+=" , schema:  ",g+=D?"validate.schema"+S:""+b,g+="         , parentSchema: validate.schema"+o.schemaPath+" , data: "+w+" "),g+=" } "):g+=" {} ";var N=g;return g=I.pop(),!o.compositeRule&&T?o.async?g+=" throw new ValidationError(["+N+"]); ":g+=" validate.errors = ["+N+"]; return false; ":g+=" var err = "+N+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",g+="} ",T&&(g+=" else { "),g}}),require__limitProperties=__commonJS((o,l)=>{l.exports=function(o,l,p){var m,g=" ",y=o.level,_=o.dataLevel,b=o.schema[l],S=o.schemaPath+o.util.getProperty(l),A=o.errSchemaPath+"/"+l,T=!o.opts.allErrors,w="data"+(_||""),D=o.opts.$data&&b&&b.$data;if(D?(g+=" var schema"+y+" = "+o.util.getData(b.$data,_,o.dataPathArr)+"; ",m="schema"+y):m=b,!D&&"number"!=typeof b)throw new Error(l+" must be number");g+="if ( ",D&&(g+=" ("+m+" !== undefined && typeof "+m+" != 'number') || "),g+=" Object.keys("+w+").length "+("maxProperties"==l?">":"<")+" "+m+") { ";var O=l,k=k||[];k.push(g),g="",!1!==o.createErrors?(g+=" { keyword: '"+(O||"_limitProperties")+"' , dataPath: (dataPath || '') + "+o.errorPath+" , schemaPath: "+o.util.toQuotedString(A)+" , params: { limit: "+m+" } ",!1!==o.opts.messages&&(g+=" , message: 'should NOT have ",g+="maxProperties"==l?"more":"fewer",g+=" than ",g+=D?"' + "+m+" + '":""+b,g+=" properties' "),o.opts.verbose&&(g+=" , schema:  ",g+=D?"validate.schema"+S:""+b,g+="         , parentSchema: validate.schema"+o.schemaPath+" , data: "+w+" "),g+=" } "):g+=" {} ";var I=g;return g=k.pop(),!o.compositeRule&&T?o.async?g+=" throw new ValidationError(["+I+"]); ":g+=" validate.errors = ["+I+"]; return false; ":g+=" var err = "+I+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",g+="} ",T&&(g+=" else { "),g}}),require_multipleOf=__commonJS((o,l)=>{l.exports=function(o,l,p){var m,g=" ",y=o.level,_=o.dataLevel,b=o.schema[l],S=o.schemaPath+o.util.getProperty(l),A=o.errSchemaPath+"/"+l,T=!o.opts.allErrors,w="data"+(_||""),D=o.opts.$data&&b&&b.$data;if(D?(g+=" var schema"+y+" = "+o.util.getData(b.$data,_,o.dataPathArr)+"; ",m="schema"+y):m=b,!D&&"number"!=typeof b)throw new Error(l+" must be number");g+="var division"+y+";if (",D&&(g+=" "+m+" !== undefined && ( typeof "+m+" != 'number' || "),g+=" (division"+y+" = "+w+" / "+m+", ",o.opts.multipleOfPrecision?g+=" Math.abs(Math.round(division"+y+") - division"+y+") > 1e-"+o.opts.multipleOfPrecision+" ":g+=" division"+y+" !== parseInt(division"+y+") ",g+=" ) ",D&&(g+="  )  "),g+=" ) {   ";var O=O||[];O.push(g),g="",!1!==o.createErrors?(g+=" { keyword: 'multipleOf' , dataPath: (dataPath || '') + "+o.errorPath+" , schemaPath: "+o.util.toQuotedString(A)+" , params: { multipleOf: "+m+" } ",!1!==o.opts.messages&&(g+=" , message: 'should be multiple of ",g+=D?"' + "+m:m+"'"),o.opts.verbose&&(g+=" , schema:  ",g+=D?"validate.schema"+S:""+b,g+="         , parentSchema: validate.schema"+o.schemaPath+" , data: "+w+" "),g+=" } "):g+=" {} ";var k=g;return g=O.pop(),!o.compositeRule&&T?o.async?g+=" throw new ValidationError(["+k+"]); ":g+=" validate.errors = ["+k+"]; return false; ":g+=" var err = "+k+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",g+="} ",T&&(g+=" else { "),g}}),require_not=__commonJS((o,l)=>{l.exports=function(o,l,p){var m=" ",g=o.level,y=o.dataLevel,_=o.schema[l],b=o.schemaPath+o.util.getProperty(l),S=o.errSchemaPath+"/"+l,A=!o.opts.allErrors,T="data"+(y||""),w="errs__"+g,D=o.util.copy(o);D.level++;var O="valid"+D.level;if(o.opts.strictKeywords?"object"==typeof _&&Object.keys(_).length>0||!1===_:o.util.schemaHasRules(_,o.RULES.all)){D.schema=_,D.schemaPath=b,D.errSchemaPath=S,m+=" var "+w+" = errors;  ";var k,I=o.compositeRule;o.compositeRule=D.compositeRule=!0,D.createErrors=!1,D.opts.allErrors&&(k=D.opts.allErrors,D.opts.allErrors=!1),m+=" "+o.validate(D)+" ",D.createErrors=!0,k&&(D.opts.allErrors=k),o.compositeRule=D.compositeRule=I,m+=" if ("+O+") {   ";var N=N||[];N.push(m),m="",!1!==o.createErrors?(m+=" { keyword: 'not' , dataPath: (dataPath || '') + "+o.errorPath+" , schemaPath: "+o.util.toQuotedString(S)+" , params: {} ",!1!==o.opts.messages&&(m+=" , message: 'should NOT be valid' "),o.opts.verbose&&(m+=" , schema: validate.schema"+b+" , parentSchema: validate.schema"+o.schemaPath+" , data: "+T+" "),m+=" } "):m+=" {} ";var L=m;m=N.pop(),!o.compositeRule&&A?o.async?m+=" throw new ValidationError(["+L+"]); ":m+=" validate.errors = ["+L+"]; return false; ":m+=" var err = "+L+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",m+=" } else {  errors = "+w+"; if (vErrors !== null) { if ("+w+") vErrors.length = "+w+"; else vErrors = null; } ",o.opts.allErrors&&(m+=" } ")}else m+="  var err =   ",!1!==o.createErrors?(m+=" { keyword: 'not' , dataPath: (dataPath || '') + "+o.errorPath+" , schemaPath: "+o.util.toQuotedString(S)+" , params: {} ",!1!==o.opts.messages&&(m+=" , message: 'should NOT be valid' "),o.opts.verbose&&(m+=" , schema: validate.schema"+b+" , parentSchema: validate.schema"+o.schemaPath+" , data: "+T+" "),m+=" } "):m+=" {} ",m+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",A&&(m+=" if (false) { ");return m}}),require_oneOf=__commonJS((o,l)=>{l.exports=function(o,l,p){var m=" ",g=o.level,y=o.dataLevel,_=o.schema[l],b=o.schemaPath+o.util.getProperty(l),S=o.errSchemaPath+"/"+l,A=!o.opts.allErrors,T="data"+(y||""),w="valid"+g,D="errs__"+g,O=o.util.copy(o),k="";O.level++;var I="valid"+O.level,N=O.baseId,L="prevValid"+g,j="passingSchemas"+g;m+="var "+D+" = errors , "+L+" = false , "+w+" = false , "+j+" = null; ";var B=o.compositeRule;o.compositeRule=O.compositeRule=!0;var U=_;if(U)for(var q,Z=-1,H=U.length-1;Z<H;)q=U[Z+=1],(o.opts.strictKeywords?"object"==typeof q&&Object.keys(q).length>0||!1===q:o.util.schemaHasRules(q,o.RULES.all))?(O.schema=q,O.schemaPath=b+"["+Z+"]",O.errSchemaPath=S+"/"+Z,m+="  "+o.validate(O)+" ",O.baseId=N):m+=" var "+I+" = true; ",Z&&(m+=" if ("+I+" && "+L+") { "+w+" = false; "+j+" = ["+j+", "+Z+"]; } else { ",k+="}"),m+=" if ("+I+") { "+w+" = "+L+" = true; "+j+" = "+Z+"; }";return o.compositeRule=O.compositeRule=B,m+=k+"if (!"+w+") {   var err =   ",!1!==o.createErrors?(m+=" { keyword: 'oneOf' , dataPath: (dataPath || '') + "+o.errorPath+" , schemaPath: "+o.util.toQuotedString(S)+" , params: { passingSchemas: "+j+" } ",!1!==o.opts.messages&&(m+=" , message: 'should match exactly one schema in oneOf' "),o.opts.verbose&&(m+=" , schema: validate.schema"+b+" , parentSchema: validate.schema"+o.schemaPath+" , data: "+T+" "),m+=" } "):m+=" {} ",m+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",!o.compositeRule&&A&&(o.async?m+=" throw new ValidationError(vErrors); ":m+=" validate.errors = vErrors; return false; "),m+="} else {  errors = "+D+"; if (vErrors !== null) { if ("+D+") vErrors.length = "+D+"; else vErrors = null; }",o.opts.allErrors&&(m+=" } "),m}}),require_pattern=__commonJS((o,l)=>{l.exports=function(o,l,p){var m,g=" ",y=o.level,_=o.dataLevel,b=o.schema[l],S=o.schemaPath+o.util.getProperty(l),A=o.errSchemaPath+"/"+l,T=!o.opts.allErrors,w="data"+(_||""),D=o.opts.$data&&b&&b.$data;D?(g+=" var schema"+y+" = "+o.util.getData(b.$data,_,o.dataPathArr)+"; ",m="schema"+y):m=b,g+="if ( ",D&&(g+=" ("+m+" !== undefined && typeof "+m+" != 'string') || "),g+=" !"+(D?"(new RegExp("+m+"))":o.usePattern(b))+".test("+w+") ) {   ";var O=O||[];O.push(g),g="",!1!==o.createErrors?(g+=" { keyword: 'pattern' , dataPath: (dataPath || '') + "+o.errorPath+" , schemaPath: "+o.util.toQuotedString(A)+" , params: { pattern:  ",g+=D?""+m:""+o.util.toQuotedString(b),g+="  } ",!1!==o.opts.messages&&(g+=" , message: 'should match pattern \"",g+=D?"' + "+m+" + '":""+o.util.escapeQuotes(b),g+="\"' "),o.opts.verbose&&(g+=" , schema:  ",g+=D?"validate.schema"+S:""+o.util.toQuotedString(b),g+="         , parentSchema: validate.schema"+o.schemaPath+" , data: "+w+" "),g+=" } "):g+=" {} ";var k=g;return g=O.pop(),!o.compositeRule&&T?o.async?g+=" throw new ValidationError(["+k+"]); ":g+=" validate.errors = ["+k+"]; return false; ":g+=" var err = "+k+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",g+="} ",T&&(g+=" else { "),g}}),require_properties=__commonJS((o,l)=>{l.exports=function(o,l,p){var m=" ",g=o.level,y=o.dataLevel,_=o.schema[l],b=o.schemaPath+o.util.getProperty(l),S=o.errSchemaPath+"/"+l,A=!o.opts.allErrors,T="data"+(y||""),w="errs__"+g,D=o.util.copy(o),O="";D.level++;var k="valid"+D.level,I="key"+g,N="idx"+g,L=D.dataLevel=o.dataLevel+1,j="data"+L,B="dataProperties"+g,U=Object.keys(_||{}).filter(notProto),q=o.schema.patternProperties||{},Z=Object.keys(q).filter(notProto),H=o.schema.additionalProperties,G=U.length||Z.length,z=!1===H,W="object"==typeof H&&Object.keys(H).length,Q=o.opts.removeAdditional,ae=z||W||Q,ie=o.opts.ownProperties,oe=o.baseId,ce=o.schema.required;if(ce&&(!o.opts.$data||!ce.$data)&&ce.length<o.opts.loopRequired)var le=o.util.toHash(ce);function notProto(o){return"__proto__"!==o}if(m+="var "+w+" = errors;var "+k+" = true;",ie&&(m+=" var "+B+" = undefined;"),ae){if(m+=ie?" "+B+" = "+B+" || Object.keys("+T+"); for (var "+N+"=0; "+N+"<"+B+".length; "+N+"++) { var "+I+" = "+B+"["+N+"]; ":" for (var "+I+" in "+T+") { ",G){if(m+=" var isAdditional"+g+" = !(false ",U.length)if(U.length>8)m+=" || validate.schema"+b+".hasOwnProperty("+I+") ";else{var ge=U;if(ge)for(var ye=-1,_e=ge.length-1;ye<_e;)Ne=ge[ye+=1],m+=" || "+I+" == "+o.util.toQuotedString(Ne)+" "}if(Z.length){var be=Z;if(be)for(var Ee=-1,Ce=be.length-1;Ee<Ce;)rt=be[Ee+=1],m+=" || "+o.usePattern(rt)+".test("+I+") "}m+=" ); if (isAdditional"+g+") { "}if("all"==Q)m+=" delete "+T+"["+I+"]; ";else{var Ae=o.errorPath,xe="' + "+I+" + '";if(o.opts._errorDataPathProperty&&(o.errorPath=o.util.getPathExpr(o.errorPath,I,o.opts.jsonPointers)),z)if(Q)m+=" delete "+T+"["+I+"]; ";else{m+=" "+k+" = false; ";var Te=S;S=o.errSchemaPath+"/additionalProperties",(Je=Je||[]).push(m),m="",!1!==o.createErrors?(m+=" { keyword: 'additionalProperties' , dataPath: (dataPath || '') + "+o.errorPath+" , schemaPath: "+o.util.toQuotedString(S)+" , params: { additionalProperty: '"+xe+"' } ",!1!==o.opts.messages&&(m+=" , message: '",o.opts._errorDataPathProperty?m+="is an invalid additional property":m+="should NOT have additional properties",m+="' "),o.opts.verbose&&(m+=" , schema: false , parentSchema: validate.schema"+o.schemaPath+" , data: "+T+" "),m+=" } "):m+=" {} ";var we=m;m=Je.pop(),!o.compositeRule&&A?o.async?m+=" throw new ValidationError(["+we+"]); ":m+=" validate.errors = ["+we+"]; return false; ":m+=" var err = "+we+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",S=Te,A&&(m+=" break; ")}else if(W)if("failing"==Q){m+=" var "+w+" = errors;  ";var Pe=o.compositeRule;o.compositeRule=D.compositeRule=!0,D.schema=H,D.schemaPath=o.schemaPath+".additionalProperties",D.errSchemaPath=o.errSchemaPath+"/additionalProperties",D.errorPath=o.opts._errorDataPathProperty?o.errorPath:o.util.getPathExpr(o.errorPath,I,o.opts.jsonPointers);var De=T+"["+I+"]";D.dataPathArr[L]=I;var Oe=o.validate(D);D.baseId=oe,o.util.varOccurences(Oe,j)<2?m+=" "+o.util.varReplace(Oe,j,De)+" ":m+=" var "+j+" = "+De+"; "+Oe+" ",m+=" if (!"+k+") { errors = "+w+"; if (validate.errors !== null) { if (errors) validate.errors.length = errors; else validate.errors = null; } delete "+T+"["+I+"]; }  ",o.compositeRule=D.compositeRule=Pe}else{D.schema=H,D.schemaPath=o.schemaPath+".additionalProperties",D.errSchemaPath=o.errSchemaPath+"/additionalProperties",D.errorPath=o.opts._errorDataPathProperty?o.errorPath:o.util.getPathExpr(o.errorPath,I,o.opts.jsonPointers);De=T+"["+I+"]";D.dataPathArr[L]=I;Oe=o.validate(D);D.baseId=oe,o.util.varOccurences(Oe,j)<2?m+=" "+o.util.varReplace(Oe,j,De)+" ":m+=" var "+j+" = "+De+"; "+Oe+" ",A&&(m+=" if (!"+k+") break; ")}o.errorPath=Ae}G&&(m+=" } "),m+=" }  ",A&&(m+=" if ("+k+") { ",O+="}")}var ke=o.opts.useDefaults&&!o.compositeRule;if(U.length){var Fe=U;if(Fe)for(var Ne,Le=-1,Me=Fe.length-1;Le<Me;){var Be=_[Ne=Fe[Le+=1]];if(o.opts.strictKeywords?"object"==typeof Be&&Object.keys(Be).length>0||!1===Be:o.util.schemaHasRules(Be,o.RULES.all)){var Ue=o.util.getProperty(Ne),Ze=(De=T+Ue,ke&&void 0!==Be.default);D.schema=Be,D.schemaPath=b+Ue,D.errSchemaPath=S+"/"+o.util.escapeFragment(Ne),D.errorPath=o.util.getPath(o.errorPath,Ne,o.opts.jsonPointers),D.dataPathArr[L]=o.util.toQuotedString(Ne);Oe=o.validate(D);if(D.baseId=oe,o.util.varOccurences(Oe,j)<2){Oe=o.util.varReplace(Oe,j,De);var Ye=De}else{Ye=j;m+=" var "+j+" = "+De+"; "}if(Ze)m+=" "+Oe+" ";else{if(le&&le[Ne]){m+=" if ( "+Ye+" === undefined ",ie&&(m+=" || ! Object.prototype.hasOwnProperty.call("+T+", '"+o.util.escapeQuotes(Ne)+"') "),m+=") { "+k+" = false; ";Ae=o.errorPath,Te=S;var Je,et=o.util.escapeQuotes(Ne);o.opts._errorDataPathProperty&&(o.errorPath=o.util.getPath(Ae,Ne,o.opts.jsonPointers)),S=o.errSchemaPath+"/required",(Je=Je||[]).push(m),m="",!1!==o.createErrors?(m+=" { keyword: 'required' , dataPath: (dataPath || '') + "+o.errorPath+" , schemaPath: "+o.util.toQuotedString(S)+" , params: { missingProperty: '"+et+"' } ",!1!==o.opts.messages&&(m+=" , message: '",o.opts._errorDataPathProperty?m+="is a required property":m+="should have required property \\'"+et+"\\'",m+="' "),o.opts.verbose&&(m+=" , schema: validate.schema"+b+" , parentSchema: validate.schema"+o.schemaPath+" , data: "+T+" "),m+=" } "):m+=" {} ";we=m;m=Je.pop(),!o.compositeRule&&A?o.async?m+=" throw new ValidationError(["+we+"]); ":m+=" validate.errors = ["+we+"]; return false; ":m+=" var err = "+we+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",S=Te,o.errorPath=Ae,m+=" } else { "}else A?(m+=" if ( "+Ye+" === undefined ",ie&&(m+=" || ! Object.prototype.hasOwnProperty.call("+T+", '"+o.util.escapeQuotes(Ne)+"') "),m+=") { "+k+" = true; } else { "):(m+=" if ("+Ye+" !== undefined ",ie&&(m+=" &&   Object.prototype.hasOwnProperty.call("+T+", '"+o.util.escapeQuotes(Ne)+"') "),m+=" ) { ");m+=" "+Oe+" } "}}A&&(m+=" if ("+k+") { ",O+="}")}}if(Z.length){var tt=Z;if(tt)for(var rt,at=-1,nt=tt.length-1;at<nt;){Be=q[rt=tt[at+=1]];if(o.opts.strictKeywords?"object"==typeof Be&&Object.keys(Be).length>0||!1===Be:o.util.schemaHasRules(Be,o.RULES.all)){D.schema=Be,D.schemaPath=o.schemaPath+".patternProperties"+o.util.getProperty(rt),D.errSchemaPath=o.errSchemaPath+"/patternProperties/"+o.util.escapeFragment(rt),m+=ie?" "+B+" = "+B+" || Object.keys("+T+"); for (var "+N+"=0; "+N+"<"+B+".length; "+N+"++) { var "+I+" = "+B+"["+N+"]; ":" for (var "+I+" in "+T+") { ",m+=" if ("+o.usePattern(rt)+".test("+I+")) { ",D.errorPath=o.util.getPathExpr(o.errorPath,I,o.opts.jsonPointers);De=T+"["+I+"]";D.dataPathArr[L]=I;Oe=o.validate(D);D.baseId=oe,o.util.varOccurences(Oe,j)<2?m+=" "+o.util.varReplace(Oe,j,De)+" ":m+=" var "+j+" = "+De+"; "+Oe+" ",A&&(m+=" if (!"+k+") break; "),m+=" } ",A&&(m+=" else "+k+" = true; "),m+=" }  ",A&&(m+=" if ("+k+") { ",O+="}")}}}return A&&(m+=" "+O+" if ("+w+" == errors) {"),m}}),require_propertyNames=__commonJS((o,l)=>{l.exports=function(o,l,p){var m=" ",g=o.level,y=o.dataLevel,_=o.schema[l],b=o.schemaPath+o.util.getProperty(l),S=o.errSchemaPath+"/"+l,A=!o.opts.allErrors,T="data"+(y||""),w="errs__"+g,D=o.util.copy(o);D.level++;var O="valid"+D.level;if(m+="var "+w+" = errors;",o.opts.strictKeywords?"object"==typeof _&&Object.keys(_).length>0||!1===_:o.util.schemaHasRules(_,o.RULES.all)){D.schema=_,D.schemaPath=b,D.errSchemaPath=S;var k="key"+g,I="idx"+g,N="i"+g,L="' + "+k+" + '",j="data"+(D.dataLevel=o.dataLevel+1),B="dataProperties"+g,U=o.opts.ownProperties,q=o.baseId;U&&(m+=" var "+B+" = undefined; "),m+=U?" "+B+" = "+B+" || Object.keys("+T+"); for (var "+I+"=0; "+I+"<"+B+".length; "+I+"++) { var "+k+" = "+B+"["+I+"]; ":" for (var "+k+" in "+T+") { ",m+=" var startErrs"+g+" = errors; ";var Z=k,H=o.compositeRule;o.compositeRule=D.compositeRule=!0;var G=o.validate(D);D.baseId=q,o.util.varOccurences(G,j)<2?m+=" "+o.util.varReplace(G,j,Z)+" ":m+=" var "+j+" = "+Z+"; "+G+" ",o.compositeRule=D.compositeRule=H,m+=" if (!"+O+") { for (var "+N+"=startErrs"+g+"; "+N+"<errors; "+N+"++) { vErrors["+N+"].propertyName = "+k+"; }   var err =   ",!1!==o.createErrors?(m+=" { keyword: 'propertyNames' , dataPath: (dataPath || '') + "+o.errorPath+" , schemaPath: "+o.util.toQuotedString(S)+" , params: { propertyName: '"+L+"' } ",!1!==o.opts.messages&&(m+=" , message: 'property name \\'"+L+"\\' is invalid' "),o.opts.verbose&&(m+=" , schema: validate.schema"+b+" , parentSchema: validate.schema"+o.schemaPath+" , data: "+T+" "),m+=" } "):m+=" {} ",m+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",!o.compositeRule&&A&&(o.async?m+=" throw new ValidationError(vErrors); ":m+=" validate.errors = vErrors; return false; "),A&&(m+=" break; "),m+=" } }"}return A&&(m+="  if ("+w+" == errors) {"),m}}),require_required=__commonJS((o,l)=>{l.exports=function(o,l,p){var m=" ",g=o.level,y=o.dataLevel,_=o.schema[l],b=o.schemaPath+o.util.getProperty(l),S=o.errSchemaPath+"/"+l,A=!o.opts.allErrors,T="data"+(y||""),w="valid"+g,D=o.opts.$data&&_&&_.$data;D&&(m+=" var schema"+g+" = "+o.util.getData(_.$data,y,o.dataPathArr)+"; ");var O="schema"+g;if(!D)if(_.length<o.opts.loopRequired&&o.schema.properties&&Object.keys(o.schema.properties).length){var k=[],I=_;if(I)for(var N,L=-1,j=I.length-1;L<j;){N=I[L+=1];var B=o.schema.properties[N];B&&(o.opts.strictKeywords?"object"==typeof B&&Object.keys(B).length>0||!1===B:o.util.schemaHasRules(B,o.RULES.all))||(k[k.length]=N)}}else k=_;if(D||k.length){var U=o.errorPath,q=D||k.length>=o.opts.loopRequired,Z=o.opts.ownProperties;if(A)if(m+=" var missing"+g+"; ",q){D||(m+=" var "+O+" = validate.schema"+b+"; ");var H="' + "+(ie="schema"+g+"["+(W="i"+g)+"]")+" + '";o.opts._errorDataPathProperty&&(o.errorPath=o.util.getPathExpr(U,ie,o.opts.jsonPointers)),m+=" var "+w+" = true; ",D&&(m+=" if (schema"+g+" === undefined) "+w+" = true; else if (!Array.isArray(schema"+g+")) "+w+" = false; else {"),m+=" for (var "+W+" = 0; "+W+" < "+O+".length; "+W+"++) { "+w+" = "+T+"["+O+"["+W+"]] !== undefined ",Z&&(m+=" &&   Object.prototype.hasOwnProperty.call("+T+", "+O+"["+W+"]) "),m+="; if (!"+w+") break; } ",D&&(m+="  }  "),m+="  if (!"+w+") {   ",(ae=ae||[]).push(m),m="",!1!==o.createErrors?(m+=" { keyword: 'required' , dataPath: (dataPath || '') + "+o.errorPath+" , schemaPath: "+o.util.toQuotedString(S)+" , params: { missingProperty: '"+H+"' } ",!1!==o.opts.messages&&(m+=" , message: '",o.opts._errorDataPathProperty?m+="is a required property":m+="should have required property \\'"+H+"\\'",m+="' "),o.opts.verbose&&(m+=" , schema: validate.schema"+b+" , parentSchema: validate.schema"+o.schemaPath+" , data: "+T+" "),m+=" } "):m+=" {} ";var G=m;m=ae.pop(),!o.compositeRule&&A?o.async?m+=" throw new ValidationError(["+G+"]); ":m+=" validate.errors = ["+G+"]; return false; ":m+=" var err = "+G+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",m+=" } else { "}else{m+=" if ( ";var z=k;if(z)for(var W=-1,Q=z.length-1;W<Q;){ce=z[W+=1],W&&(m+=" || "),m+=" ( ( "+(_e=T+(ye=o.util.getProperty(ce)))+" === undefined ",Z&&(m+=" || ! Object.prototype.hasOwnProperty.call("+T+", '"+o.util.escapeQuotes(ce)+"') "),m+=") && (missing"+g+" = "+o.util.toQuotedString(o.opts.jsonPointers?ce:ye)+") ) "}m+=") {  ";var ae;H="' + "+(ie="missing"+g)+" + '";o.opts._errorDataPathProperty&&(o.errorPath=o.opts.jsonPointers?o.util.getPathExpr(U,ie,!0):U+" + "+ie),(ae=ae||[]).push(m),m="",!1!==o.createErrors?(m+=" { keyword: 'required' , dataPath: (dataPath || '') + "+o.errorPath+" , schemaPath: "+o.util.toQuotedString(S)+" , params: { missingProperty: '"+H+"' } ",!1!==o.opts.messages&&(m+=" , message: '",o.opts._errorDataPathProperty?m+="is a required property":m+="should have required property \\'"+H+"\\'",m+="' "),o.opts.verbose&&(m+=" , schema: validate.schema"+b+" , parentSchema: validate.schema"+o.schemaPath+" , data: "+T+" "),m+=" } "):m+=" {} ";G=m;m=ae.pop(),!o.compositeRule&&A?o.async?m+=" throw new ValidationError(["+G+"]); ":m+=" validate.errors = ["+G+"]; return false; ":m+=" var err = "+G+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",m+=" } else { "}else if(q){D||(m+=" var "+O+" = validate.schema"+b+"; ");var ie;H="' + "+(ie="schema"+g+"["+(W="i"+g)+"]")+" + '";o.opts._errorDataPathProperty&&(o.errorPath=o.util.getPathExpr(U,ie,o.opts.jsonPointers)),D&&(m+=" if ("+O+" && !Array.isArray("+O+")) {  var err =   ",!1!==o.createErrors?(m+=" { keyword: 'required' , dataPath: (dataPath || '') + "+o.errorPath+" , schemaPath: "+o.util.toQuotedString(S)+" , params: { missingProperty: '"+H+"' } ",!1!==o.opts.messages&&(m+=" , message: '",o.opts._errorDataPathProperty?m+="is a required property":m+="should have required property \\'"+H+"\\'",m+="' "),o.opts.verbose&&(m+=" , schema: validate.schema"+b+" , parentSchema: validate.schema"+o.schemaPath+" , data: "+T+" "),m+=" } "):m+=" {} ",m+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } else if ("+O+" !== undefined) { "),m+=" for (var "+W+" = 0; "+W+" < "+O+".length; "+W+"++) { if ("+T+"["+O+"["+W+"]] === undefined ",Z&&(m+=" || ! Object.prototype.hasOwnProperty.call("+T+", "+O+"["+W+"]) "),m+=") {  var err =   ",!1!==o.createErrors?(m+=" { keyword: 'required' , dataPath: (dataPath || '') + "+o.errorPath+" , schemaPath: "+o.util.toQuotedString(S)+" , params: { missingProperty: '"+H+"' } ",!1!==o.opts.messages&&(m+=" , message: '",o.opts._errorDataPathProperty?m+="is a required property":m+="should have required property \\'"+H+"\\'",m+="' "),o.opts.verbose&&(m+=" , schema: validate.schema"+b+" , parentSchema: validate.schema"+o.schemaPath+" , data: "+T+" "),m+=" } "):m+=" {} ",m+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } } ",D&&(m+="  }  ")}else{var oe=k;if(oe)for(var ce,le=-1,ge=oe.length-1;le<ge;){ce=oe[le+=1];var ye=o.util.getProperty(ce),_e=(H=o.util.escapeQuotes(ce),T+ye);o.opts._errorDataPathProperty&&(o.errorPath=o.util.getPath(U,ce,o.opts.jsonPointers)),m+=" if ( "+_e+" === undefined ",Z&&(m+=" || ! Object.prototype.hasOwnProperty.call("+T+", '"+o.util.escapeQuotes(ce)+"') "),m+=") {  var err =   ",!1!==o.createErrors?(m+=" { keyword: 'required' , dataPath: (dataPath || '') + "+o.errorPath+" , schemaPath: "+o.util.toQuotedString(S)+" , params: { missingProperty: '"+H+"' } ",!1!==o.opts.messages&&(m+=" , message: '",o.opts._errorDataPathProperty?m+="is a required property":m+="should have required property \\'"+H+"\\'",m+="' "),o.opts.verbose&&(m+=" , schema: validate.schema"+b+" , parentSchema: validate.schema"+o.schemaPath+" , data: "+T+" "),m+=" } "):m+=" {} ",m+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } "}}o.errorPath=U}else A&&(m+=" if (true) {");return m}}),require_uniqueItems=__commonJS((o,l)=>{l.exports=function(o,l,p){var m,g=" ",y=o.level,_=o.dataLevel,b=o.schema[l],S=o.schemaPath+o.util.getProperty(l),A=o.errSchemaPath+"/"+l,T=!o.opts.allErrors,w="data"+(_||""),D="valid"+y,O=o.opts.$data&&b&&b.$data;if(O?(g+=" var schema"+y+" = "+o.util.getData(b.$data,_,o.dataPathArr)+"; ",m="schema"+y):m=b,(b||O)&&!1!==o.opts.uniqueItems){O&&(g+=" var "+D+"; if ("+m+" === false || "+m+" === undefined) "+D+" = true; else if (typeof "+m+" != 'boolean') "+D+" = false; else { "),g+=" var i = "+w+".length , "+D+" = true , j; if (i > 1) { ";var k=o.schema.items&&o.schema.items.type,I=Array.isArray(k);if(!k||"object"==k||"array"==k||I&&(k.indexOf("object")>=0||k.indexOf("array")>=0))g+=" outer: for (;i--;) { for (j = i; j--;) { if (equal("+w+"[i], "+w+"[j])) { "+D+" = false; break outer; } } } ";else{g+=" var itemIndices = {}, item; for (;i--;) { var item = "+w+"[i]; ";var N="checkDataType"+(I?"s":"");g+=" if ("+o.util[N](k,"item",o.opts.strictNumbers,!0)+") continue; ",I&&(g+=" if (typeof item == 'string') item = '\"' + item; "),g+=" if (typeof itemIndices[item] == 'number') { "+D+" = false; j = itemIndices[item]; break; } itemIndices[item] = i; } "}g+=" } ",O&&(g+="  }  "),g+=" if (!"+D+") {   ";var L=L||[];L.push(g),g="",!1!==o.createErrors?(g+=" { keyword: 'uniqueItems' , dataPath: (dataPath || '') + "+o.errorPath+" , schemaPath: "+o.util.toQuotedString(A)+" , params: { i: i, j: j } ",!1!==o.opts.messages&&(g+=" , message: 'should NOT have duplicate items (items ## ' + j + ' and ' + i + ' are identical)' "),o.opts.verbose&&(g+=" , schema:  ",g+=O?"validate.schema"+S:""+b,g+="         , parentSchema: validate.schema"+o.schemaPath+" , data: "+w+" "),g+=" } "):g+=" {} ";var j=g;g=L.pop(),!o.compositeRule&&T?o.async?g+=" throw new ValidationError(["+j+"]); ":g+=" validate.errors = ["+j+"]; return false; ":g+=" var err = "+j+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",g+=" } ",T&&(g+=" else { ")}else T&&(g+=" if (true) { ");return g}}),require_dotjs=__commonJS((o,l)=>{l.exports={$ref:require_ref(),allOf:require_allOf(),anyOf:require_anyOf(),$comment:require_comment(),const:require_const(),contains:require_contains(),dependencies:require_dependencies(),enum:require_enum(),format:require_format(),if:require_if(),items:require_items(),maximum:require__limit(),minimum:require__limit(),maxItems:require__limitItems(),minItems:require__limitItems(),maxLength:require__limitLength(),minLength:require__limitLength(),maxProperties:require__limitProperties(),minProperties:require__limitProperties(),multipleOf:require_multipleOf(),not:require_not(),oneOf:require_oneOf(),pattern:require_pattern(),properties:require_properties(),propertyNames:require_propertyNames(),required:require_required(),uniqueItems:require_uniqueItems(),validate:require_validate()}}),require_rules=__commonJS((o,l)=>{var p=require_dotjs(),m=require_util().toHash;l.exports=function(){var o=[{type:"number",rules:[{maximum:["exclusiveMaximum"]},{minimum:["exclusiveMinimum"]},"multipleOf","format"]},{type:"string",rules:["maxLength","minLength","pattern","format"]},{type:"array",rules:["maxItems","minItems","items","contains","uniqueItems"]},{type:"object",rules:["maxProperties","minProperties","required","dependencies","propertyNames",{properties:["additionalProperties","patternProperties"]}]},{rules:["$ref","const","enum","not","anyOf","oneOf","allOf","if"]}],l=["type","$comment"];return o.all=m(l),o.types=m(["number","integer","string","array","object","boolean","null"]),o.forEach(function(m){m.rules=m.rules.map(function(m){var g;if("object"==typeof m){var y=Object.keys(m)[0];g=m[y],m=y,g.forEach(function(p){l.push(p),o.all[p]=!0})}return l.push(m),o.all[m]={keyword:m,code:p[m],implements:g}}),o.all.$comment={keyword:"$comment",code:p.$comment},m.type&&(o.types[m.type]=m)}),o.keywords=m(l.concat(["$schema","$id","id","$data","$async","title","description","default","definitions","examples","readOnly","writeOnly","contentMediaType","contentEncoding","additionalItems","then","else"])),o.custom={},o}}),require_data=__commonJS((o,l)=>{var p=["multipleOf","maximum","exclusiveMaximum","minimum","exclusiveMinimum","maxLength","minLength","pattern","additionalItems","maxItems","minItems","uniqueItems","maxProperties","minProperties","required","additionalProperties","enum","format","const"];l.exports=function(o,l){for(var m=0;m<l.length;m++){o=JSON.parse(JSON.stringify(o));var g,y=l[m].split("/"),_=o;for(g=1;g<y.length;g++)_=_[y[g]];for(g=0;g<p.length;g++){var b=p[g],S=_[b];S&&(_[b]={anyOf:[S,{$ref:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#"}]})}}return o}}),require_async=__commonJS((o,l)=>{var p=require_error_classes().MissingRef;l.exports=function compileAsync(o,l,m){var g=this;if("function"!=typeof this._opts.loadSchema)throw new Error("options.loadSchema should be a function");"function"==typeof l&&(m=l,l=void 0);var y=loadMetaSchemaOf(o).then(function(){var p=g._addSchema(o,void 0,l);return p.validate||_compileAsync(p)});m&&y.then(function(o){m(null,o)},m);return y;function loadMetaSchemaOf(o){var l=o.$schema;return l&&!g.getSchema(l)?compileAsync.call(g,{$ref:l},!0):Promise.resolve()}function _compileAsync(o){try{return g._compile(o)}catch(m){if(m instanceof p)return function(p){var m=p.missingSchema;if(added(m))throw new Error("Schema "+m+" is loaded but "+p.missingRef+" cannot be resolved");var y=g._loadingSchemas[m];y||(y=g._loadingSchemas[m]=g._opts.loadSchema(m)).then(removePromise,removePromise);return y.then(function(o){if(!added(m))return loadMetaSchemaOf(o).then(function(){added(m)||g.addSchema(o,m,void 0,l)})}).then(function(){return _compileAsync(o)});function removePromise(){delete g._loadingSchemas[m]}function added(o){return g._refs[o]||g._schemas[o]}}(m);throw m}}}}),require_custom=__commonJS((o,l)=>{l.exports=function(o,l,p){var m,g,y=" ",_=o.level,b=o.dataLevel,S=o.schema[l],A=o.schemaPath+o.util.getProperty(l),T=o.errSchemaPath+"/"+l,w=!o.opts.allErrors,D="data"+(b||""),O="valid"+_,k="errs__"+_,I=o.opts.$data&&S&&S.$data;I?(y+=" var schema"+_+" = "+o.util.getData(S.$data,b,o.dataPathArr)+"; ",g="schema"+_):g=S;var N,L,j,B,U,q=this,Z="definition"+_,H=q.definition,G="";if(I&&H.$data){U="keywordValidate"+_;var z=H.validateSchema;y+=" var "+Z+" = RULES.custom['"+l+"'].definition; var "+U+" = "+Z+".validate;"}else{if(!(B=o.useCustomRule(q,S,o.schema,o)))return;g="validate.schema"+A,U=B.code,N=H.compile,L=H.inline,j=H.macro}var W=U+".errors",Q="i"+_,ae="ruleErr"+_,ie=H.async;if(ie&&!o.async)throw new Error("async keyword in sync schema");if(L||j||(y+=W+" = null;"),y+="var "+k+" = errors;var "+O+";",I&&H.$data&&(G+="}",y+=" if ("+g+" === undefined) { "+O+" = true; } else { ",z&&(G+="}",y+=" "+O+" = "+Z+".validateSchema("+g+"); if ("+O+") { ")),L)H.statements?y+=" "+B.validate+" ":y+=" "+O+" = "+B.validate+"; ";else if(j){var oe=o.util.copy(o);G="";oe.level++;var ce="valid"+oe.level;oe.schema=B.validate,oe.schemaPath="";var le=o.compositeRule;o.compositeRule=oe.compositeRule=!0;var ge=o.validate(oe).replace(/validate\.schema/g,U);o.compositeRule=oe.compositeRule=le,y+=" "+ge}else{(Ee=Ee||[]).push(y),y="",y+="  "+U+".call( ",o.opts.passContext?y+="this":y+="self",N||!1===H.schema?y+=" , "+D+" ":y+=" , "+g+" , "+D+" , validate.schema"+o.schemaPath+" ",y+=" , (dataPath || '')",'""'!=o.errorPath&&(y+=" + "+o.errorPath);var ye=b?"data"+(b-1||""):"parentData",_e=b?o.dataPathArr[b]:"parentDataProperty",be=y+=" , "+ye+" , "+_e+" , rootData )  ";y=Ee.pop(),!1===H.errors?(y+=" "+O+" = ",ie&&(y+="await "),y+=be+"; "):y+=ie?" var "+(W="customErrors"+_)+" = null; try { "+O+" = await "+be+"; } catch (e) { "+O+" = false; if (e instanceof ValidationError) "+W+" = e.errors; else throw e; } ":" "+W+" = null; "+O+" = "+be+"; "}if(H.modifying&&(y+=" if ("+ye+") "+D+" = "+ye+"["+_e+"];"),y+=""+G,H.valid)w&&(y+=" if (true) { ");else{var Ee;y+=" if ( ",void 0===H.valid?(y+=" !",y+=j?""+ce:""+O):y+=" "+!H.valid+" ",y+=") { ",m=q.keyword,(Ee=Ee||[]).push(y),y="",(Ee=Ee||[]).push(y),y="",!1!==o.createErrors?(y+=" { keyword: '"+(m||"custom")+"' , dataPath: (dataPath || '') + "+o.errorPath+" , schemaPath: "+o.util.toQuotedString(T)+" , params: { keyword: '"+q.keyword+"' } ",!1!==o.opts.messages&&(y+=" , message: 'should pass \""+q.keyword+"\" keyword validation' "),o.opts.verbose&&(y+=" , schema: validate.schema"+A+" , parentSchema: validate.schema"+o.schemaPath+" , data: "+D+" "),y+=" } "):y+=" {} ";var Ce=y;y=Ee.pop(),!o.compositeRule&&w?o.async?y+=" throw new ValidationError(["+Ce+"]); ":y+=" validate.errors = ["+Ce+"]; return false; ":y+=" var err = "+Ce+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ";var Ae=y;y=Ee.pop(),L?H.errors?"full"!=H.errors&&(y+="  for (var "+Q+"="+k+"; "+Q+"<errors; "+Q+"++) { var "+ae+" = vErrors["+Q+"]; if ("+ae+".dataPath === undefined) "+ae+".dataPath = (dataPath || '') + "+o.errorPath+"; if ("+ae+".schemaPath === undefined) { "+ae+'.schemaPath = "'+T+'"; } ',o.opts.verbose&&(y+=" "+ae+".schema = "+g+"; "+ae+".data = "+D+"; "),y+=" } "):!1===H.errors?y+=" "+Ae+" ":(y+=" if ("+k+" == errors) { "+Ae+" } else {  for (var "+Q+"="+k+"; "+Q+"<errors; "+Q+"++) { var "+ae+" = vErrors["+Q+"]; if ("+ae+".dataPath === undefined) "+ae+".dataPath = (dataPath || '') + "+o.errorPath+"; if ("+ae+".schemaPath === undefined) { "+ae+'.schemaPath = "'+T+'"; } ',o.opts.verbose&&(y+=" "+ae+".schema = "+g+"; "+ae+".data = "+D+"; "),y+=" } } "):j?(y+="   var err =   ",!1!==o.createErrors?(y+=" { keyword: '"+(m||"custom")+"' , dataPath: (dataPath || '') + "+o.errorPath+" , schemaPath: "+o.util.toQuotedString(T)+" , params: { keyword: '"+q.keyword+"' } ",!1!==o.opts.messages&&(y+=" , message: 'should pass \""+q.keyword+"\" keyword validation' "),o.opts.verbose&&(y+=" , schema: validate.schema"+A+" , parentSchema: validate.schema"+o.schemaPath+" , data: "+D+" "),y+=" } "):y+=" {} ",y+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",!o.compositeRule&&w&&(o.async?y+=" throw new ValidationError(vErrors); ":y+=" validate.errors = vErrors; return false; ")):!1===H.errors?y+=" "+Ae+" ":(y+=" if (Array.isArray("+W+")) { if (vErrors === null) vErrors = "+W+"; else vErrors = vErrors.concat("+W+"); errors = vErrors.length;  for (var "+Q+"="+k+"; "+Q+"<errors; "+Q+"++) { var "+ae+" = vErrors["+Q+"]; if ("+ae+".dataPath === undefined) "+ae+".dataPath = (dataPath || '') + "+o.errorPath+";  "+ae+'.schemaPath = "'+T+'";  ',o.opts.verbose&&(y+=" "+ae+".schema = "+g+"; "+ae+".data = "+D+"; "),y+=" } } else { "+Ae+" } "),y+=" } ",w&&(y+=" else { ")}return y}}),require_json_schema_draft_07=__commonJS((o,l)=>{l.exports={$schema:"http://json-schema.org/draft-07/schema#",$id:"http://json-schema.org/draft-07/schema#",title:"Core schema meta-schema",definitions:{schemaArray:{type:"array",minItems:1,items:{$ref:"#"}},nonNegativeInteger:{type:"integer",minimum:0},nonNegativeIntegerDefault0:{allOf:[{$ref:"#/definitions/nonNegativeInteger"},{default:0}]},simpleTypes:{enum:["array","boolean","integer","null","number","object","string"]},stringArray:{type:"array",items:{type:"string"},uniqueItems:!0,default:[]}},type:["object","boolean"],properties:{$id:{type:"string",format:"uri-reference"},$schema:{type:"string",format:"uri"},$ref:{type:"string",format:"uri-reference"},$comment:{type:"string"},title:{type:"string"},description:{type:"string"},default:!0,readOnly:{type:"boolean",default:!1},examples:{type:"array",items:!0},multipleOf:{type:"number",exclusiveMinimum:0},maximum:{type:"number"},exclusiveMaximum:{type:"number"},minimum:{type:"number"},exclusiveMinimum:{type:"number"},maxLength:{$ref:"#/definitions/nonNegativeInteger"},minLength:{$ref:"#/definitions/nonNegativeIntegerDefault0"},pattern:{type:"string",format:"regex"},additionalItems:{$ref:"#"},items:{anyOf:[{$ref:"#"},{$ref:"#/definitions/schemaArray"}],default:!0},maxItems:{$ref:"#/definitions/nonNegativeInteger"},minItems:{$ref:"#/definitions/nonNegativeIntegerDefault0"},uniqueItems:{type:"boolean",default:!1},contains:{$ref:"#"},maxProperties:{$ref:"#/definitions/nonNegativeInteger"},minProperties:{$ref:"#/definitions/nonNegativeIntegerDefault0"},required:{$ref:"#/definitions/stringArray"},additionalProperties:{$ref:"#"},definitions:{type:"object",additionalProperties:{$ref:"#"},default:{}},properties:{type:"object",additionalProperties:{$ref:"#"},default:{}},patternProperties:{type:"object",additionalProperties:{$ref:"#"},propertyNames:{format:"regex"},default:{}},dependencies:{type:"object",additionalProperties:{anyOf:[{$ref:"#"},{$ref:"#/definitions/stringArray"}]}},propertyNames:{$ref:"#"},const:!0,enum:{type:"array",items:!0,minItems:1,uniqueItems:!0},type:{anyOf:[{$ref:"#/definitions/simpleTypes"},{type:"array",items:{$ref:"#/definitions/simpleTypes"},minItems:1,uniqueItems:!0}]},format:{type:"string"},contentMediaType:{type:"string"},contentEncoding:{type:"string"},if:{$ref:"#"},then:{$ref:"#"},else:{$ref:"#"},allOf:{$ref:"#/definitions/schemaArray"},anyOf:{$ref:"#/definitions/schemaArray"},oneOf:{$ref:"#/definitions/schemaArray"},not:{$ref:"#"}},default:!0}}),require_definition_schema=__commonJS((o,l)=>{var p=require_json_schema_draft_07();l.exports={$id:"https://github.com/ajv-validator/ajv/blob/master/lib/definition_schema.js",definitions:{simpleTypes:p.definitions.simpleTypes},type:"object",dependencies:{schema:["validate"],$data:["validate"],statements:["inline"],valid:{not:{required:["macro"]}}},properties:{type:p.properties.type,schema:{type:"boolean"},statements:{type:"boolean"},dependencies:{type:"array",items:{type:"string"}},metaSchema:{type:"object"},modifying:{type:"boolean"},valid:{type:"boolean"},$data:{type:"boolean"},async:{type:"boolean"},errors:{anyOf:[{type:"boolean"},{const:"full"}]}}}}),require_keyword=__commonJS((o,l)=>{var p=/^[a-z_$][a-z0-9_$-]*$/i,m=require_custom(),g=require_definition_schema();l.exports={add:function(o,l){var g=this.RULES;if(g.keywords[o])throw new Error("Keyword "+o+" is already defined");if(!p.test(o))throw new Error("Keyword "+o+" is not a valid identifier");if(l){this.validateKeyword(l,!0);var y=l.type;if(Array.isArray(y))for(var _=0;_<y.length;_++)_addRule(o,y[_],l);else _addRule(o,y,l);var b=l.metaSchema;b&&(l.$data&&this._opts.$data&&(b={anyOf:[b,{$ref:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#"}]}),l.validateSchema=this.compile(b,!0))}function _addRule(o,l,p){for(var y,_=0;_<g.length;_++){var b=g[_];if(b.type==l){y=b;break}}y||(y={type:l,rules:[]},g.push(y));var S={keyword:o,definition:p,custom:!0,code:m,implements:p.implements};y.rules.push(S),g.custom[o]=S}return g.keywords[o]=g.all[o]=!0,this},get:function(o){var l=this.RULES.custom[o];return l?l.definition:this.RULES.keywords[o]||!1},remove:function(o){var l=this.RULES;delete l.keywords[o],delete l.all[o],delete l.custom[o];for(var p=0;p<l.length;p++)for(var m=l[p].rules,g=0;g<m.length;g++)if(m[g].keyword==o){m.splice(g,1);break}return this},validate:function validateKeyword(o,l){validateKeyword.errors=null;var p=this._validateKeyword=this._validateKeyword||this.compile(g,!0);if(p(o))return!0;if(validateKeyword.errors=p.errors,l)throw new Error("custom keyword definition is invalid: "+this.errorsText(p.errors));return!1}}}),require_data2=__commonJS((o,l)=>{l.exports={$schema:"http://json-schema.org/draft-07/schema#",$id:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#",description:"Meta-schema for $data reference (JSON Schema extension proposal)",type:"object",required:["$data"],properties:{$data:{type:"string",anyOf:[{format:"relative-json-pointer"},{format:"json-pointer"}]}},additionalProperties:!1}}),require_ajv=__commonJS((o,l)=>{var p=require_compile(),m=require_resolve(),g=require_cache(),y=require_schema_obj(),_=require_fast_json_stable_stringify(),b=require_formats(),S=require_rules(),A=require_data(),T=require_util();l.exports=Ajv,Ajv.prototype.validate=function(o,l){var p;if("string"==typeof o){if(!(p=this.getSchema(o)))throw new Error('no schema with key or ref "'+o+'"')}else{var m=this._addSchema(o);p=m.validate||this._compile(m)}var g=p(l);!0!==p.$async&&(this.errors=p.errors);return g},Ajv.prototype.compile=function(o,l){var p=this._addSchema(o,void 0,l);return p.validate||this._compile(p)},Ajv.prototype.addSchema=function(o,l,p,g){if(Array.isArray(o)){for(var y=0;y<o.length;y++)this.addSchema(o[y],void 0,p,g);return this}var _=this._getId(o);if(void 0!==_&&"string"!=typeof _)throw new Error("schema id must be string");return l=m.normalizeId(l||_),checkUnique(this,l),this._schemas[l]=this._addSchema(o,p,g,!0),this},Ajv.prototype.addMetaSchema=function(o,l,p){return this.addSchema(o,l,p,!0),this},Ajv.prototype.validateSchema=function(o,l){var p=o.$schema;if(void 0!==p&&"string"!=typeof p)throw new Error("$schema must be a string");if(!(p=p||this._opts.defaultMeta||function(o){var l=o._opts.meta;return o._opts.defaultMeta="object"==typeof l?o._getId(l)||l:o.getSchema(O)?O:void 0,o._opts.defaultMeta}(this)))return this.logger.warn("meta-schema not available"),this.errors=null,!0;var m=this.validate(p,o);if(!m&&l){var g="schema is invalid: "+this.errorsText();if("log"!=this._opts.validateSchema)throw new Error(g);this.logger.error(g)}return m},Ajv.prototype.getSchema=function(o){var l=_getSchemaObj(this,o);switch(typeof l){case"object":return l.validate||this._compile(l);case"string":return this.getSchema(l);case"undefined":return function(o,l){var g=m.schema.call(o,{schema:{}},l);if(g){var{schema:_,root:b,baseId:S}=g,A=p.call(o,_,b,void 0,S);return o._fragments[l]=new y({ref:l,fragment:!0,schema:_,root:b,baseId:S,validate:A}),A}}(this,o)}},Ajv.prototype.removeSchema=function(o){if(o instanceof RegExp)return _removeAllSchemas(this,this._schemas,o),_removeAllSchemas(this,this._refs,o),this;switch(typeof o){case"undefined":return _removeAllSchemas(this,this._schemas),_removeAllSchemas(this,this._refs),this._cache.clear(),this;case"string":var l=_getSchemaObj(this,o);return l&&this._cache.del(l.cacheKey),delete this._schemas[o],delete this._refs[o],this;case"object":var p=this._opts.serialize,g=p?p(o):o;this._cache.del(g);var y=this._getId(o);y&&(y=m.normalizeId(y),delete this._schemas[y],delete this._refs[y])}return this},Ajv.prototype.addFormat=function(o,l){"string"==typeof l&&(l=new RegExp(l));return this._formats[o]=l,this},Ajv.prototype.errorsText=function(o,l){if(!(o=o||this.errors))return"No errors";for(var p=void 0===(l=l||{}).separator?", ":l.separator,m=void 0===l.dataVar?"data":l.dataVar,g="",y=0;y<o.length;y++){var _=o[y];_&&(g+=m+_.dataPath+" "+_.message+p)}return g.slice(0,-p.length)},Ajv.prototype._addSchema=function(o,l,p,g){if("object"!=typeof o&&"boolean"!=typeof o)throw new Error("schema should be object or boolean");var _=this._opts.serialize,b=_?_(o):o,S=this._cache.get(b);if(S)return S;g=g||!1!==this._opts.addUsedSchema;var A=m.normalizeId(this._getId(o));A&&g&&checkUnique(this,A);var T,w=!1!==this._opts.validateSchema&&!l;w&&!(T=A&&A==m.normalizeId(o.$schema))&&this.validateSchema(o,!0);var D=m.ids.call(this,o),O=new y({id:A,schema:o,localRefs:D,cacheKey:b,meta:p});"#"!=A[0]&&g&&(this._refs[A]=O);this._cache.put(b,O),w&&T&&this.validateSchema(o,!0);return O},Ajv.prototype._compile=function(o,l){if(o.compiling)return o.validate=callValidate,callValidate.schema=o.schema,callValidate.errors=null,callValidate.root=l||callValidate,!0===o.schema.$async&&(callValidate.$async=!0),callValidate;var m,g;o.compiling=!0,o.meta&&(m=this._opts,this._opts=this._metaOpts);try{g=p.call(this,o.schema,l,o.localRefs)}catch(l){throw delete o.validate,l}finally{o.compiling=!1,o.meta&&(this._opts=m)}return o.validate=g,o.refs=g.refs,o.refVal=g.refVal,o.root=g.root,g;function callValidate(){var l=o.validate,p=l.apply(this,arguments);return callValidate.errors=l.errors,p}},Ajv.prototype.compileAsync=require_async();var w=require_keyword();Ajv.prototype.addKeyword=w.add,Ajv.prototype.getKeyword=w.get,Ajv.prototype.removeKeyword=w.remove,Ajv.prototype.validateKeyword=w.validate;var D=require_error_classes();Ajv.ValidationError=D.Validation,Ajv.MissingRefError=D.MissingRef,Ajv.$dataMetaSchema=A;var O="http://json-schema.org/draft-07/schema",k=["removeAdditional","useDefaults","coerceTypes","strictDefaults"],I=["/properties"];function Ajv(o){if(!(this instanceof Ajv))return new Ajv(o);o=this._opts=T.copy(o)||{},function(o){var l=o._opts.logger;if(!1===l)o.logger={log:noop,warn:noop,error:noop};else{if(void 0===l&&(l=console),!("object"==typeof l&&l.log&&l.warn&&l.error))throw new Error("logger must implement log, warn and error methods");o.logger=l}}(this),this._schemas={},this._refs={},this._fragments={},this._formats=b(o.format),this._cache=o.cache||new g,this._loadingSchemas={},this._compilations=[],this.RULES=S(),this._getId=function(o){switch(o.schemaId){case"auto":return _get$IdOrId;case"id":return _getId;default:return _get$Id}}(o),o.loopRequired=o.loopRequired||1/0,"property"==o.errorDataPath&&(o._errorDataPathProperty=!0),void 0===o.serialize&&(o.serialize=_),this._metaOpts=function(o){for(var l=T.copy(o._opts),p=0;p<k.length;p++)delete l[k[p]];return l}(this),o.formats&&function(o){for(var l in o._opts.formats){var p=o._opts.formats[l];o.addFormat(l,p)}}(this),o.keywords&&function(o){for(var l in o._opts.keywords){var p=o._opts.keywords[l];o.addKeyword(l,p)}}(this),function(o){var l;o._opts.$data&&(l=require_data2(),o.addMetaSchema(l,l.$id,!0));if(!1===o._opts.meta)return;var p=require_json_schema_draft_07();o._opts.$data&&(p=A(p,I));o.addMetaSchema(p,O,!0),o._refs["http://json-schema.org/schema"]=O}(this),"object"==typeof o.meta&&this.addMetaSchema(o.meta),o.nullable&&this.addKeyword("nullable",{metaSchema:{type:"boolean"}}),function(o){var l=o._opts.schemas;if(!l)return;if(Array.isArray(l))o.addSchema(l);else for(var p in l)o.addSchema(l[p],p)}(this)}function _getSchemaObj(o,l){return l=m.normalizeId(l),o._schemas[l]||o._refs[l]||o._fragments[l]}function _removeAllSchemas(o,l,p){for(var m in l){var g=l[m];g.meta||p&&!p.test(m)||(o._cache.del(g.cacheKey),delete l[m])}}function _getId(o){return o.$id&&this.logger.warn("schema $id ignored",o.$id),o.id}function _get$Id(o){return o.id&&this.logger.warn("schema id ignored",o.id),o.$id}function _get$IdOrId(o){if(o.$id&&o.id&&o.$id!=o.id)throw new Error("schema $id is different from id");return o.$id||o.id}function checkUnique(o,l){if(o._schemas[l]||o._refs[l])throw new Error('schema with key or id "'+l+'" already exists')}function noop(){}}),DEFAULT_MAX_LISTENERS=50;function createAbortController(o=DEFAULT_MAX_LISTENERS){const l=new AbortController;return require$$0$1.setMaxListeners(o,l.signal),l}var NodeFsOperations={accessSync(o,l){fs__namespace.accessSync(o,l)},cwd:()=>process.cwd(),chmodSync(o,l){fs__namespace.chmodSync(o,l)},existsSync:o=>fs__namespace.existsSync(o),stat:async o=>promises.stat(o),statSync:o=>fs__namespace.statSync(o),readFileSync:(o,l)=>fs__namespace.readFileSync(o,{encoding:l.encoding}),readFileBytesSync:o=>fs__namespace.readFileSync(o),readSync(o,l){let p;try{p=fs__namespace.openSync(o,"r");const m=Buffer.alloc(l.length);return{buffer:m,bytesRead:fs__namespace.readSync(p,m,0,l.length,0)}}finally{p&&fs__namespace.closeSync(p)}},writeFileSync(o,l,p){if(!p.flush)return void fs__namespace.writeFileSync(o,l,{encoding:p.encoding});let m;try{m=fs__namespace.openSync(o,"w"),fs__namespace.writeFileSync(m,l,{encoding:p.encoding}),fs__namespace.fsyncSync(m)}finally{m&&fs__namespace.closeSync(m)}},appendFileSync(o,l){fs__namespace.appendFileSync(o,l)},copyFileSync(o,l){fs__namespace.copyFileSync(o,l)},unlinkSync(o){fs__namespace.unlinkSync(o)},renameSync(o,l){fs__namespace.renameSync(o,l)},symlinkSync(o,l){fs__namespace.symlinkSync(o,l)},readlinkSync:o=>fs__namespace.readlinkSync(o),realpathSync:o=>fs__namespace.realpathSync(o),mkdirSync(o){fs__namespace.existsSync(o)||fs__namespace.mkdirSync(o,{recursive:!0})},readdirSync:o=>fs__namespace.readdirSync(o,{withFileTypes:!0}),readdirStringSync:o=>fs__namespace.readdirSync(o),isDirEmptySync(o){return 0===this.readdirSync(o).length},rmdirSync(o){fs__namespace.rmdirSync(o)},rmSync(o,l){fs__namespace.rmSync(o,l)}},activeFs=NodeFsOperations;function getFsImplementation(){return activeFs}class AbortError extends Error{}class ProcessTransport{options;child;childStdin;childStdout;ready=!1;abortController;exitError;exitListeners=[];processExitHandler;abortHandler;isStreaming;constructor(o){this.options=o,this.abortController=o.abortController||createAbortController(),this.isStreaming="string"!=typeof o.prompt,this.initialize()}initialize(){try{const{prompt:o,additionalDirectories:l=[],cwd:p,executable:m=(this.isRunningWithBun()?"bun":"node"),executableArgs:g=[],extraArgs:y={},pathToClaudeCodeExecutable:_,env:b={...process.env},stderr:S,customSystemPrompt:A,appendSystemPrompt:T,maxTurns:w,model:D,fallbackModel:O,permissionMode:k,permissionPromptToolName:I,continueConversation:N,resume:L,allowedTools:j=[],disallowedTools:B=[],mcpServers:U,strictMcpConfig:q,canUseTool:Z}=this.options,H=["--output-format","stream-json","--verbose"];if(A&&H.push("--system-prompt",A),T&&H.push("--append-system-prompt",T),w&&H.push("--max-turns",w.toString()),D&&H.push("--model",D),b.DEBUG&&H.push("--debug-to-stderr"),Z){if("string"==typeof o)throw new Error("canUseTool callback requires --input-format stream-json. Please set prompt as an AsyncIterable.");if(I)throw new Error("canUseTool callback cannot be used with permissionPromptToolName. Please use one or the other.");H.push("--permission-prompt-tool","stdio")}else I&&H.push("--permission-prompt-tool",I);if(N&&H.push("--continue"),L&&H.push("--resume",L),j.length>0&&H.push("--allowedTools",j.join(",")),B.length>0&&H.push("--disallowedTools",B.join(",")),U&&Object.keys(U).length>0&&H.push("--mcp-config",JSON.stringify({mcpServers:U})),q&&H.push("--strict-mcp-config"),k&&"default"!==k&&H.push("--permission-mode",k),O){if(D&&O===D)throw new Error("Fallback model cannot be the same as the main model. Please specify a different model for fallbackModel option.");H.push("--fallback-model",O)}"string"==typeof o?(H.push("--print"),H.push("--",o.trim())):H.push("--input-format","stream-json");for(const o of l)H.push("--add-dir",o);for(const[o,l]of Object.entries(y))null===l?H.push(`--${o}`):H.push(`--${o}`,l);b.CLAUDE_CODE_ENTRYPOINT||(b.CLAUDE_CODE_ENTRYPOINT="sdk-ts");const G=_||this.getDefaultExecutablePath();if(!getFsImplementation().existsSync(G))throw new Error(`Claude Code executable not found at ${G}. Is options.pathToClaudeCodeExecutable set?`);this.logDebug(`Spawning Claude Code process: ${m} ${[...g,G,...H].join(" ")}`);const z=b.DEBUG||S?"pipe":"ignore";this.child=require$$1$1.spawn(m,[...g,G,...H],{cwd:p,stdio:["pipe","pipe",z],signal:this.abortController.signal,env:b}),this.childStdin=this.child.stdin,this.childStdout=this.child.stdout,"string"==typeof o&&(this.childStdin.end(),this.childStdin=void 0),(b.DEBUG||S)&&this.child.stderr.on("data",o=>{this.logDebug(`Claude Code stderr: ${o.toString()}`),S&&S(o.toString())});const cleanup=()=>{this.child&&!this.child.killed&&this.child.kill("SIGTERM")};this.processExitHandler=cleanup,this.abortHandler=cleanup,process.on("exit",this.processExitHandler),this.abortController.signal.addEventListener("abort",this.abortHandler),this.child.on("error",o=>{this.ready=!1,this.abortController.signal.aborted?this.exitError=new AbortError("Claude Code process aborted by user"):(this.exitError=new Error(`Failed to spawn Claude Code process: ${o.message}`),this.logDebug(this.exitError.message))}),this.child.on("close",(o,l)=>{if(this.ready=!1,this.abortController.signal.aborted)this.exitError=new AbortError("Claude Code process aborted by user");else{const p=this.getProcessExitError(o,l);p&&(this.exitError=p,this.logDebug(p.message))}}),this.ready=!0}catch(o){throw this.ready=!1,o}}getProcessExitError(o,l){return 0!==o&&null!==o?new Error(`Claude Code process exited with code ${o}`):l?new Error(`Claude Code process terminated by signal ${l}`):void 0}getDefaultExecutablePath(){const o=url.fileURLToPath("undefined"==typeof document?require("url").pathToFileURL(__filename).href:_documentCurrentScript&&"SCRIPT"===_documentCurrentScript.tagName.toUpperCase()&&_documentCurrentScript.src||new URL("index.js",document.baseURI).href),l=require$$1.join(o,"..","..");return require$$1.join(l,"entrypoints","cli.js")}isRunningWithBun(){return void 0!==process.versions.bun||void 0!==process.env.BUN_INSTALL}logDebug(o){process.env.DEBUG&&process.stderr.write(`${o}\n`)}write(o){if(this.abortController.signal.aborted)throw new AbortError("Operation aborted");if(!this.ready||!this.childStdin)throw new Error("ProcessTransport is not ready for writing");if(this.child?.killed||null!==this.child?.exitCode)throw new Error("Cannot write to terminated process");if(this.exitError)throw new Error(`Cannot write to process that exited with error: ${this.exitError.message}`);process.env.DEBUG_SDK&&process.stderr.write(`[ProcessTransport] Writing to stdin: ${o.substring(0,100)}\n`);try{!this.childStdin.write(o)&&process.env.DEBUG_SDK&&console.warn("[ProcessTransport] Write buffer full, data queued")}catch(o){throw this.ready=!1,new Error(`Failed to write to process stdin: ${o.message}`)}}close(){this.childStdin&&(this.childStdin.end(),this.childStdin=void 0),this.processExitHandler&&(process.off("exit",this.processExitHandler),this.processExitHandler=void 0),this.abortHandler&&(this.abortController.signal.removeEventListener("abort",this.abortHandler),this.abortHandler=void 0);for(const{handler:o}of this.exitListeners)this.child?.off("exit",o);this.exitListeners=[],this.child&&!this.child.killed&&(this.child.kill("SIGTERM"),setTimeout(()=>{this.child&&!this.child.killed&&this.child.kill("SIGKILL")},5e3)),this.ready=!1}isReady(){return this.ready}async*readMessages(){if(!this.childStdout)throw new Error("ProcessTransport output stream not available");const o=readline.createInterface({input:this.childStdout});try{for await(const l of o)if(l.trim()){const o=JSON.parse(l);yield o}await this.waitForExit()}catch(o){throw o}finally{o.close()}}endInput(){this.childStdin&&this.childStdin.end()}getInputStream(){return this.childStdin}onExit(o){if(!this.child)return()=>{};const handler=(l,p)=>{const m=this.getProcessExitError(l,p);o(m)};return this.child.on("exit",handler),this.exitListeners.push({callback:o,handler:handler}),()=>{this.child&&this.child.off("exit",handler);const o=this.exitListeners.findIndex(o=>o.handler===handler);-1!==o&&this.exitListeners.splice(o,1)}}async waitForExit(){if(this.child){if(null===this.child.exitCode&&!this.child.killed)return new Promise((o,l)=>{const exitHandler=(p,m)=>{if(this.abortController.signal.aborted)return void l(new AbortError("Operation aborted"));const g=this.getProcessExitError(p,m);g?l(g):o()};this.child.once("exit",exitHandler);const errorHandler=o=>{this.child.off("exit",exitHandler),l(o)};this.child.once("error",errorHandler),this.child.once("exit",()=>{this.child.off("error",errorHandler)})});if(this.exitError)throw this.exitError}else if(this.exitError)throw this.exitError}}let Stream$1=class{returned;queue=[];readResolve;readReject;isDone=!1;hasError;started=!1;constructor(o){this.returned=o}[Symbol.asyncIterator](){if(this.started)throw new Error("Stream can only be iterated once");return this.started=!0,this}next(){return this.queue.length>0?Promise.resolve({done:!1,value:this.queue.shift()}):this.isDone?Promise.resolve({done:!0,value:void 0}):this.hasError?Promise.reject(this.hasError):new Promise((o,l)=>{this.readResolve=o,this.readReject=l})}enqueue(o){if(this.readResolve){const l=this.readResolve;this.readResolve=void 0,this.readReject=void 0,l({done:!1,value:o})}else this.queue.push(o)}done(){if(this.isDone=!0,this.readResolve){const o=this.readResolve;this.readResolve=void 0,this.readReject=void 0,o({done:!0,value:void 0})}}error(o){if(this.hasError=o,this.readReject){const l=this.readReject;this.readResolve=void 0,this.readReject=void 0,l(o)}}return(){return this.isDone=!0,this.returned&&this.returned(),Promise.resolve({done:!0,value:void 0})}};class SdkControlServerTransport{sendMcpMessage;isClosed=!1;constructor(o){this.sendMcpMessage=o}onclose;onerror;onmessage;async start(){}async send(o){if(this.isClosed)throw new Error("Transport is closed");this.sendMcpMessage(o)}async close(){this.isClosed||(this.isClosed=!0,this.onclose?.())}}class Query{transport;isStreamingMode;canUseTool;hooks;abortController;pendingControlResponses=new Map;cleanupPerformed=!1;sdkMessages;inputStream=new Stream$1;intialization;cancelControllers=new Map;hookCallbacks=new Map;nextCallbackId=0;sdkMcpTransports=new Map;pendingMcpResponses=new Map;constructor(o,l,p,m,g,y=new Map){this.transport=o,this.isStreamingMode=l,this.canUseTool=p,this.hooks=m,this.abortController=g;for(const[o,l]of y){const p=new SdkControlServerTransport(l=>this.sendMcpServerMessageToCli(o,l));this.sdkMcpTransports.set(o,p),l.connect(p)}this.sdkMessages=this.readSdkMessages(),this.readMessages(),this.isStreamingMode&&(this.intialization=this.initialize())}setError(o){this.inputStream.error(o)}cleanup(o){if(!this.cleanupPerformed){this.cleanupPerformed=!0;try{this.transport.close(),this.pendingControlResponses.clear(),this.pendingMcpResponses.clear(),o?this.inputStream.error(o):this.inputStream.done()}catch(o){}}}next(...[o]){return this.sdkMessages.next(o)}return(o){return this.sdkMessages.return(o)}throw(o){return this.sdkMessages.throw(o)}[Symbol.asyncIterator](){return this.sdkMessages}[Symbol.asyncDispose](){return this.sdkMessages[Symbol.asyncDispose]()}async readMessages(){try{for await(const o of this.transport.readMessages()){if("control_response"===o.type){const l=this.pendingControlResponses.get(o.response.request_id);l&&l(o.response);continue}"control_request"!==o.type?"control_cancel_request"!==o.type?this.inputStream.enqueue(o):this.handleControlCancelRequest(o):this.handleControlRequest(o)}this.inputStream.done(),this.cleanup()}catch(o){this.inputStream.error(o),this.cleanup(o)}}async handleControlRequest(o){const l=new AbortController;this.cancelControllers.set(o.request_id,l);try{const p=await this.processControlRequest(o,l.signal),m={type:"control_response",response:{subtype:"success",request_id:o.request_id,response:p}};await Promise.resolve(this.transport.write(JSON.stringify(m)+"\n"))}catch(l){const p={type:"control_response",response:{subtype:"error",request_id:o.request_id,error:l.message||String(l)}};await Promise.resolve(this.transport.write(JSON.stringify(p)+"\n"))}finally{this.cancelControllers.delete(o.request_id)}}handleControlCancelRequest(o){const l=this.cancelControllers.get(o.request_id);l&&(l.abort(),this.cancelControllers.delete(o.request_id))}async processControlRequest(o,l){if("can_use_tool"===o.request.subtype){if(!this.canUseTool)throw new Error("canUseTool callback is not provided.");return this.canUseTool(o.request.tool_name,o.request.input,{signal:l,suggestions:o.request.permission_suggestions})}if("hook_callback"===o.request.subtype){return await this.handleHookCallbacks(o.request.callback_id,o.request.input,o.request.tool_use_id,l)}if("mcp_message"===o.request.subtype){const l=o.request,p=this.sdkMcpTransports.get(l.server_name);if(!p)throw new Error(`SDK MCP server not found: ${l.server_name}`);if("method"in l.message&&"id"in l.message&&null!==l.message.id){return{mcp_response:await this.handleMcpControlRequest(l.server_name,l,p)}}return p.onmessage&&p.onmessage(l.message),{mcp_response:{jsonrpc:"2.0",result:{},id:0}}}throw new Error("Unsupported control request subtype: "+o.request.subtype)}async*readSdkMessages(){for await(const o of this.inputStream)yield o}async initialize(){let o;if(this.hooks){o={};for(const[l,p]of Object.entries(this.hooks))p.length>0&&(o[l]=p.map(o=>{const l=[];for(const p of o.hooks){const o="hook_"+this.nextCallbackId++;this.hookCallbacks.set(o,p),l.push(o)}return{matcher:o.matcher,hookCallbackIds:l}}))}const l={subtype:"initialize",hooks:o};return(await this.request(l)).response}async interrupt(){if(!this.isStreamingMode)throw new Error("Interrupt requires --input-format stream-json");await this.request({subtype:"interrupt"})}async setPermissionMode(o){if(!this.isStreamingMode)throw new Error("setPermissionMode requires --input-format stream-json");await this.request({subtype:"set_permission_mode",mode:o})}request(o){const l=Math.random().toString(36).substring(2,15),p={request_id:l,type:"control_request",request:o};return new Promise((o,m)=>{this.pendingControlResponses.set(l,l=>{"success"===l.subtype?o(l):m(new Error(l.error))}),Promise.resolve(this.transport.write(JSON.stringify(p)+"\n"))})}async supportedCommands(){if(!this.isStreamingMode)throw new Error("supportedCommands requires --input-format stream-json");if(!this.intialization)throw new Error("supportedCommands requires transport with bidirectional communication");return(await this.intialization).commands}async streamInput(o){try{for await(const l of o){if(this.abortController?.signal.aborted)break;await Promise.resolve(this.transport.write(JSON.stringify(l)+"\n"))}this.transport.endInput()}catch(o){if(!(o instanceof AbortError))throw o}}handleHookCallbacks(o,l,p,m){const g=this.hookCallbacks.get(o);if(!g)throw new Error(`No hook callback found for ID: ${o}`);return g(l,p,{signal:m})}sendMcpServerMessageToCli(o,l){if("id"in l&&null!==l.id&&void 0!==l.id){const p=`${o}:${l.id}`,m=this.pendingMcpResponses.get(p);if(m)return m.resolve(l),void this.pendingMcpResponses.delete(p)}throw new Error("No pending request found")}handleMcpControlRequest(o,l,p){const m=`${o}:${"id"in l.message?l.message.id:null}`;return new Promise((o,g)=>{let y=null;const cleanup=()=>{y&&clearTimeout(y),this.pendingMcpResponses.delete(m)};if(this.pendingMcpResponses.set(m,{resolve:l=>{cleanup(),o(l)},reject:o=>{cleanup(),g(o)}}),!p.onmessage)return cleanup(),void g(new Error("No message handler registered"));p.onmessage(l.message),y=setTimeout(()=>{this.pendingMcpResponses.has(m)&&(cleanup(),g(new Error("Request timeout")))},3e4)})}}var exports_external={},util,util2,objectUtil;__export(exports_external,{void:()=>voidType,util:()=>util,unknown:()=>unknownType,union:()=>unionType,undefined:()=>undefinedType,tuple:()=>tupleType,transformer:()=>effectsType,symbol:()=>symbolType,string:()=>stringType,strictObject:()=>strictObjectType,setErrorMap:()=>setErrorMap,set:()=>setType,record:()=>recordType,quotelessJson:()=>quotelessJson,promise:()=>promiseType,preprocess:()=>preprocessType,pipeline:()=>pipelineType,ostring:()=>ostring,optional:()=>optionalType,onumber:()=>onumber,oboolean:()=>oboolean,objectUtil:()=>objectUtil,object:()=>objectType,number:()=>numberType,nullable:()=>nullableType,null:()=>nullType,never:()=>neverType,nativeEnum:()=>nativeEnumType,nan:()=>nanType,map:()=>mapType,makeIssue:()=>makeIssue,literal:()=>literalType,lazy:()=>lazyType,late:()=>late,isValid:()=>isValid,isDirty:()=>isDirty,isAsync:()=>isAsync,isAborted:()=>isAborted,intersection:()=>intersectionType,instanceof:()=>instanceOfType,getParsedType:()=>getParsedType,getErrorMap:()=>getErrorMap,function:()=>functionType,enum:()=>enumType,effect:()=>effectsType,discriminatedUnion:()=>discriminatedUnionType,defaultErrorMap:()=>en_default,datetimeRegex:()=>datetimeRegex,date:()=>dateType,custom:()=>custom,coerce:()=>coerce,boolean:()=>booleanType,bigint:()=>bigIntType,array:()=>arrayType,any:()=>anyType,addIssueToContext:()=>addIssueToContext,ZodVoid:()=>ZodVoid,ZodUnknown:()=>ZodUnknown,ZodUnion:()=>ZodUnion,ZodUndefined:()=>ZodUndefined,ZodType:()=>ZodType,ZodTuple:()=>ZodTuple,ZodTransformer:()=>ZodEffects,ZodSymbol:()=>ZodSymbol,ZodString:()=>ZodString,ZodSet:()=>ZodSet,ZodSchema:()=>ZodType,ZodRecord:()=>ZodRecord,ZodReadonly:()=>ZodReadonly,ZodPromise:()=>ZodPromise,ZodPipeline:()=>ZodPipeline,ZodParsedType:()=>ZodParsedType,ZodOptional:()=>ZodOptional,ZodObject:()=>ZodObject,ZodNumber:()=>ZodNumber,ZodNullable:()=>ZodNullable,ZodNull:()=>ZodNull,ZodNever:()=>ZodNever,ZodNativeEnum:()=>ZodNativeEnum,ZodNaN:()=>ZodNaN,ZodMap:()=>ZodMap,ZodLiteral:()=>ZodLiteral,ZodLazy:()=>ZodLazy,ZodIssueCode:()=>ZodIssueCode,ZodIntersection:()=>ZodIntersection,ZodFunction:()=>ZodFunction,ZodFirstPartyTypeKind:()=>ZodFirstPartyTypeKind,ZodError:()=>ZodError,ZodEnum:()=>ZodEnum,ZodEffects:()=>ZodEffects,ZodDiscriminatedUnion:()=>ZodDiscriminatedUnion,ZodDefault:()=>ZodDefault,ZodDate:()=>ZodDate,ZodCatch:()=>ZodCatch,ZodBranded:()=>ZodBranded,ZodBoolean:()=>ZodBoolean,ZodBigInt:()=>ZodBigInt,ZodArray:()=>ZodArray,ZodAny:()=>ZodAny,Schema:()=>ZodType,ParseStatus:()=>ParseStatus,OK:()=>OK,NEVER:()=>NEVER,INVALID:()=>INVALID,EMPTY_PATH:()=>EMPTY_PATH,DIRTY:()=>DIRTY,BRAND:()=>BRAND}),util2=util||(util={}),util2.assertEqual=o=>{},util2.assertIs=function(o){},util2.assertNever=function(o){throw new Error},util2.arrayToEnum=o=>{const l={};for(const p of o)l[p]=p;return l},util2.getValidEnumValues=o=>{const l=util2.objectKeys(o).filter(l=>"number"!=typeof o[o[l]]),p={};for(const m of l)p[m]=o[m];return util2.objectValues(p)},util2.objectValues=o=>util2.objectKeys(o).map(function(l){return o[l]}),util2.objectKeys="function"==typeof Object.keys?o=>Object.keys(o):o=>{const l=[];for(const p in o)Object.prototype.hasOwnProperty.call(o,p)&&l.push(p);return l},util2.find=(o,l)=>{for(const p of o)if(l(p))return p},util2.isInteger="function"==typeof Number.isInteger?o=>Number.isInteger(o):o=>"number"==typeof o&&Number.isFinite(o)&&Math.floor(o)===o,util2.joinValues=function(o,l=" | "){return o.map(o=>"string"==typeof o?`'${o}'`:o).join(l)},util2.jsonStringifyReplacer=(o,l)=>"bigint"==typeof l?l.toString():l,(objectUtil||(objectUtil={})).mergeShapes=(o,l)=>({...o,...l});var ZodParsedType=util.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),getParsedType=o=>{switch(typeof o){case"undefined":return ZodParsedType.undefined;case"string":return ZodParsedType.string;case"number":return Number.isNaN(o)?ZodParsedType.nan:ZodParsedType.number;case"boolean":return ZodParsedType.boolean;case"function":return ZodParsedType.function;case"bigint":return ZodParsedType.bigint;case"symbol":return ZodParsedType.symbol;case"object":return Array.isArray(o)?ZodParsedType.array:null===o?ZodParsedType.null:o.then&&"function"==typeof o.then&&o.catch&&"function"==typeof o.catch?ZodParsedType.promise:"undefined"!=typeof Map&&o instanceof Map?ZodParsedType.map:"undefined"!=typeof Set&&o instanceof Set?ZodParsedType.set:"undefined"!=typeof Date&&o instanceof Date?ZodParsedType.date:ZodParsedType.object;default:return ZodParsedType.unknown}},ZodIssueCode=util.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),quotelessJson=o=>JSON.stringify(o,null,2).replace(/"([^"]+)":/g,"$1:");class ZodError extends Error{get errors(){return this.issues}constructor(o){super(),this.issues=[],this.addIssue=o=>{this.issues=[...this.issues,o]},this.addIssues=(o=[])=>{this.issues=[...this.issues,...o]};const l=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,l):this.__proto__=l,this.name="ZodError",this.issues=o}format(o){const l=o||function(o){return o.message},p={_errors:[]},processError=o=>{for(const m of o.issues)if("invalid_union"===m.code)m.unionErrors.map(processError);else if("invalid_return_type"===m.code)processError(m.returnTypeError);else if("invalid_arguments"===m.code)processError(m.argumentsError);else if(0===m.path.length)p._errors.push(l(m));else{let o=p,g=0;for(;g<m.path.length;){const p=m.path[g];g===m.path.length-1?(o[p]=o[p]||{_errors:[]},o[p]._errors.push(l(m))):o[p]=o[p]||{_errors:[]},o=o[p],g++}}};return processError(this),p}static assert(o){if(!(o instanceof ZodError))throw new Error(`Not a ZodError: ${o}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,util.jsonStringifyReplacer,2)}get isEmpty(){return 0===this.issues.length}flatten(o=o=>o.message){const l={},p=[];for(const m of this.issues)if(m.path.length>0){const p=m.path[0];l[p]=l[p]||[],l[p].push(o(m))}else p.push(o(m));return{formErrors:p,fieldErrors:l}}get formErrors(){return this.flatten()}}ZodError.create=o=>new ZodError(o);var errorMap=(o,l)=>{let p;switch(o.code){case ZodIssueCode.invalid_type:p=o.received===ZodParsedType.undefined?"Required":`Expected ${o.expected}, received ${o.received}`;break;case ZodIssueCode.invalid_literal:p=`Invalid literal value, expected ${JSON.stringify(o.expected,util.jsonStringifyReplacer)}`;break;case ZodIssueCode.unrecognized_keys:p=`Unrecognized key(s) in object: ${util.joinValues(o.keys,", ")}`;break;case ZodIssueCode.invalid_union:p="Invalid input";break;case ZodIssueCode.invalid_union_discriminator:p=`Invalid discriminator value. Expected ${util.joinValues(o.options)}`;break;case ZodIssueCode.invalid_enum_value:p=`Invalid enum value. Expected ${util.joinValues(o.options)}, received '${o.received}'`;break;case ZodIssueCode.invalid_arguments:p="Invalid function arguments";break;case ZodIssueCode.invalid_return_type:p="Invalid function return type";break;case ZodIssueCode.invalid_date:p="Invalid date";break;case ZodIssueCode.invalid_string:"object"==typeof o.validation?"includes"in o.validation?(p=`Invalid input: must include "${o.validation.includes}"`,"number"==typeof o.validation.position&&(p=`${p} at one or more positions greater than or equal to ${o.validation.position}`)):"startsWith"in o.validation?p=`Invalid input: must start with "${o.validation.startsWith}"`:"endsWith"in o.validation?p=`Invalid input: must end with "${o.validation.endsWith}"`:util.assertNever(o.validation):p="regex"!==o.validation?`Invalid ${o.validation}`:"Invalid";break;case ZodIssueCode.too_small:p="array"===o.type?`Array must contain ${o.exact?"exactly":o.inclusive?"at least":"more than"} ${o.minimum} element(s)`:"string"===o.type?`String must contain ${o.exact?"exactly":o.inclusive?"at least":"over"} ${o.minimum} character(s)`:"number"===o.type||"bigint"===o.type?`Number must be ${o.exact?"exactly equal to ":o.inclusive?"greater than or equal to ":"greater than "}${o.minimum}`:"date"===o.type?`Date must be ${o.exact?"exactly equal to ":o.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(o.minimum))}`:"Invalid input";break;case ZodIssueCode.too_big:p="array"===o.type?`Array must contain ${o.exact?"exactly":o.inclusive?"at most":"less than"} ${o.maximum} element(s)`:"string"===o.type?`String must contain ${o.exact?"exactly":o.inclusive?"at most":"under"} ${o.maximum} character(s)`:"number"===o.type?`Number must be ${o.exact?"exactly":o.inclusive?"less than or equal to":"less than"} ${o.maximum}`:"bigint"===o.type?`BigInt must be ${o.exact?"exactly":o.inclusive?"less than or equal to":"less than"} ${o.maximum}`:"date"===o.type?`Date must be ${o.exact?"exactly":o.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(o.maximum))}`:"Invalid input";break;case ZodIssueCode.custom:p="Invalid input";break;case ZodIssueCode.invalid_intersection_types:p="Intersection results could not be merged";break;case ZodIssueCode.not_multiple_of:p=`Number must be a multiple of ${o.multipleOf}`;break;case ZodIssueCode.not_finite:p="Number must be finite";break;default:p=l.defaultError,util.assertNever(o)}return{message:p}},en_default=errorMap,overrideErrorMap=en_default;function setErrorMap(o){overrideErrorMap=o}function getErrorMap(){return overrideErrorMap}var makeIssue=o=>{const{data:l,path:p,errorMaps:m,issueData:g}=o,y=[...p,...g.path||[]],_={...g,path:y};if(void 0!==g.message)return{...g,path:y,message:g.message};let b="";const S=m.filter(o=>!!o).slice().reverse();for(const o of S)b=o(_,{data:l,defaultError:b}).message;return{...g,path:y,message:b}},EMPTY_PATH=[];function addIssueToContext(o,l){const p=getErrorMap(),m=makeIssue({issueData:l,data:o.data,path:o.path,errorMaps:[o.common.contextualErrorMap,o.schemaErrorMap,p,p===en_default?void 0:en_default].filter(o=>!!o)});o.common.issues.push(m)}class ParseStatus{constructor(){this.value="valid"}dirty(){"valid"===this.value&&(this.value="dirty")}abort(){"aborted"!==this.value&&(this.value="aborted")}static mergeArray(o,l){const p=[];for(const m of l){if("aborted"===m.status)return INVALID;"dirty"===m.status&&o.dirty(),p.push(m.value)}return{status:o.value,value:p}}static async mergeObjectAsync(o,l){const p=[];for(const o of l){const l=await o.key,m=await o.value;p.push({key:l,value:m})}return ParseStatus.mergeObjectSync(o,p)}static mergeObjectSync(o,l){const p={};for(const m of l){const{key:l,value:g}=m;if("aborted"===l.status)return INVALID;if("aborted"===g.status)return INVALID;"dirty"===l.status&&o.dirty(),"dirty"===g.status&&o.dirty(),"__proto__"===l.value||void 0===g.value&&!m.alwaysSet||(p[l.value]=g.value)}return{status:o.value,value:p}}}var INVALID=Object.freeze({status:"aborted"}),DIRTY=o=>({status:"dirty",value:o}),OK=o=>({status:"valid",value:o}),isAborted=o=>"aborted"===o.status,isDirty=o=>"dirty"===o.status,isValid=o=>"valid"===o.status,isAsync=o=>"undefined"!=typeof Promise&&o instanceof Promise,errorUtil,errorUtil2;errorUtil2=errorUtil||(errorUtil={}),errorUtil2.errToObj=o=>"string"==typeof o?{message:o}:o||{},errorUtil2.toString=o=>"string"==typeof o?o:o?.message;class ParseInputLazyPath{constructor(o,l,p,m){this._cachedPath=[],this.parent=o,this.data=l,this._path=p,this._key=m}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}var handleResult=(o,l)=>{if(isValid(l))return{success:!0,data:l.value};if(!o.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const l=new ZodError(o.common.issues);return this._error=l,this._error}}};function processCreateParams(o){if(!o)return{};const{errorMap:l,invalid_type_error:p,required_error:m,description:g}=o;if(l&&(p||m))throw new Error('Can\'t use "invalid_type_error" or "required_error" in conjunction with custom error map.');if(l)return{errorMap:l,description:g};return{errorMap:(l,g)=>{const{message:y}=o;return"invalid_enum_value"===l.code?{message:y??g.defaultError}:void 0===g.data?{message:y??m??g.defaultError}:"invalid_type"!==l.code?{message:g.defaultError}:{message:y??p??g.defaultError}},description:g}}class ZodType{get description(){return this._def.description}_getType(o){return getParsedType(o.data)}_getOrReturnCtx(o,l){return l||{common:o.parent.common,data:o.data,parsedType:getParsedType(o.data),schemaErrorMap:this._def.errorMap,path:o.path,parent:o.parent}}_processInputParams(o){return{status:new ParseStatus,ctx:{common:o.parent.common,data:o.data,parsedType:getParsedType(o.data),schemaErrorMap:this._def.errorMap,path:o.path,parent:o.parent}}}_parseSync(o){const l=this._parse(o);if(isAsync(l))throw new Error("Synchronous parse encountered promise.");return l}_parseAsync(o){const l=this._parse(o);return Promise.resolve(l)}parse(o,l){const p=this.safeParse(o,l);if(p.success)return p.data;throw p.error}safeParse(o,l){const p={common:{issues:[],async:l?.async??!1,contextualErrorMap:l?.errorMap},path:l?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:o,parsedType:getParsedType(o)},m=this._parseSync({data:o,path:p.path,parent:p});return handleResult(p,m)}"~validate"(o){const l={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:o,parsedType:getParsedType(o)};if(!this["~standard"].async)try{const p=this._parseSync({data:o,path:[],parent:l});return isValid(p)?{value:p.value}:{issues:l.common.issues}}catch(o){o?.message?.toLowerCase()?.includes("encountered")&&(this["~standard"].async=!0),l.common={issues:[],async:!0}}return this._parseAsync({data:o,path:[],parent:l}).then(o=>isValid(o)?{value:o.value}:{issues:l.common.issues})}async parseAsync(o,l){const p=await this.safeParseAsync(o,l);if(p.success)return p.data;throw p.error}async safeParseAsync(o,l){const p={common:{issues:[],contextualErrorMap:l?.errorMap,async:!0},path:l?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:o,parsedType:getParsedType(o)},m=this._parse({data:o,path:p.path,parent:p}),g=await(isAsync(m)?m:Promise.resolve(m));return handleResult(p,g)}refine(o,l){const getIssueProperties=o=>"string"==typeof l||void 0===l?{message:l}:"function"==typeof l?l(o):l;return this._refinement((l,p)=>{const m=o(l),setError=()=>p.addIssue({code:ZodIssueCode.custom,...getIssueProperties(l)});return"undefined"!=typeof Promise&&m instanceof Promise?m.then(o=>!!o||(setError(),!1)):!!m||(setError(),!1)})}refinement(o,l){return this._refinement((p,m)=>!!o(p)||(m.addIssue("function"==typeof l?l(p,m):l),!1))}_refinement(o){return new ZodEffects({schema:this,typeName:ZodFirstPartyTypeKind.ZodEffects,effect:{type:"refinement",refinement:o}})}superRefine(o){return this._refinement(o)}constructor(o){this.spa=this.safeParseAsync,this._def=o,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:o=>this["~validate"](o)}}optional(){return ZodOptional.create(this,this._def)}nullable(){return ZodNullable.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return ZodArray.create(this)}promise(){return ZodPromise.create(this,this._def)}or(o){return ZodUnion.create([this,o],this._def)}and(o){return ZodIntersection.create(this,o,this._def)}transform(o){return new ZodEffects({...processCreateParams(this._def),schema:this,typeName:ZodFirstPartyTypeKind.ZodEffects,effect:{type:"transform",transform:o}})}default(o){const l="function"==typeof o?o:()=>o;return new ZodDefault({...processCreateParams(this._def),innerType:this,defaultValue:l,typeName:ZodFirstPartyTypeKind.ZodDefault})}brand(){return new ZodBranded({typeName:ZodFirstPartyTypeKind.ZodBranded,type:this,...processCreateParams(this._def)})}catch(o){const l="function"==typeof o?o:()=>o;return new ZodCatch({...processCreateParams(this._def),innerType:this,catchValue:l,typeName:ZodFirstPartyTypeKind.ZodCatch})}describe(o){return new(0,this.constructor)({...this._def,description:o})}pipe(o){return ZodPipeline.create(this,o)}readonly(){return ZodReadonly.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}var cuidRegex=/^c[^\s-]{8,}$/i,cuid2Regex=/^[0-9a-z]+$/,ulidRegex=/^[0-9A-HJKMNP-TV-Z]{26}$/i,uuidRegex=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,nanoidRegex=/^[a-z0-9_-]{21}$/i,jwtRegex=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,durationRegex=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,emailRegex=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,_emojiRegex="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$",emojiRegex,ipv4Regex=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,ipv4CidrRegex=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,ipv6Regex=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,ipv6CidrRegex=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,base64Regex=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,base64urlRegex=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,dateRegexSource="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",dateRegex=new RegExp(`^${dateRegexSource}$`);function timeRegexSource(o){let l="[0-5]\\d";o.precision?l=`${l}\\.\\d{${o.precision}}`:null==o.precision&&(l=`${l}(\\.\\d+)?`);return`([01]\\d|2[0-3]):[0-5]\\d(:${l})${o.precision?"+":"?"}`}function timeRegex(o){return new RegExp(`^${timeRegexSource(o)}$`)}function datetimeRegex(o){let l=`${dateRegexSource}T${timeRegexSource(o)}`;const p=[];return p.push(o.local?"Z?":"Z"),o.offset&&p.push("([+-]\\d{2}:?\\d{2})"),l=`${l}(${p.join("|")})`,new RegExp(`^${l}$`)}function isValidIP(o,l){return!("v4"!==l&&l||!ipv4Regex.test(o))||!("v6"!==l&&l||!ipv6Regex.test(o))}function isValidJWT(o,l){if(!jwtRegex.test(o))return!1;try{const[p]=o.split(".");if(!p)return!1;const m=p.replace(/-/g,"+").replace(/_/g,"/").padEnd(p.length+(4-p.length%4)%4,"="),g=JSON.parse(atob(m));return"object"==typeof g&&null!==g&&((!("typ"in g)||"JWT"===g?.typ)&&(!!g.alg&&(!l||g.alg===l)))}catch{return!1}}function isValidCidr(o,l){return!("v4"!==l&&l||!ipv4CidrRegex.test(o))||!("v6"!==l&&l||!ipv6CidrRegex.test(o))}class ZodString extends ZodType{_parse(o){this._def.coerce&&(o.data=String(o.data));if(this._getType(o)!==ZodParsedType.string){const l=this._getOrReturnCtx(o);return addIssueToContext(l,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.string,received:l.parsedType}),INVALID}const l=new ParseStatus;let p;for(const m of this._def.checks)if("min"===m.kind)o.data.length<m.value&&(p=this._getOrReturnCtx(o,p),addIssueToContext(p,{code:ZodIssueCode.too_small,minimum:m.value,type:"string",inclusive:!0,exact:!1,message:m.message}),l.dirty());else if("max"===m.kind)o.data.length>m.value&&(p=this._getOrReturnCtx(o,p),addIssueToContext(p,{code:ZodIssueCode.too_big,maximum:m.value,type:"string",inclusive:!0,exact:!1,message:m.message}),l.dirty());else if("length"===m.kind){const g=o.data.length>m.value,y=o.data.length<m.value;(g||y)&&(p=this._getOrReturnCtx(o,p),g?addIssueToContext(p,{code:ZodIssueCode.too_big,maximum:m.value,type:"string",inclusive:!0,exact:!0,message:m.message}):y&&addIssueToContext(p,{code:ZodIssueCode.too_small,minimum:m.value,type:"string",inclusive:!0,exact:!0,message:m.message}),l.dirty())}else if("email"===m.kind)emailRegex.test(o.data)||(p=this._getOrReturnCtx(o,p),addIssueToContext(p,{validation:"email",code:ZodIssueCode.invalid_string,message:m.message}),l.dirty());else if("emoji"===m.kind)emojiRegex||(emojiRegex=new RegExp(_emojiRegex,"u")),emojiRegex.test(o.data)||(p=this._getOrReturnCtx(o,p),addIssueToContext(p,{validation:"emoji",code:ZodIssueCode.invalid_string,message:m.message}),l.dirty());else if("uuid"===m.kind)uuidRegex.test(o.data)||(p=this._getOrReturnCtx(o,p),addIssueToContext(p,{validation:"uuid",code:ZodIssueCode.invalid_string,message:m.message}),l.dirty());else if("nanoid"===m.kind)nanoidRegex.test(o.data)||(p=this._getOrReturnCtx(o,p),addIssueToContext(p,{validation:"nanoid",code:ZodIssueCode.invalid_string,message:m.message}),l.dirty());else if("cuid"===m.kind)cuidRegex.test(o.data)||(p=this._getOrReturnCtx(o,p),addIssueToContext(p,{validation:"cuid",code:ZodIssueCode.invalid_string,message:m.message}),l.dirty());else if("cuid2"===m.kind)cuid2Regex.test(o.data)||(p=this._getOrReturnCtx(o,p),addIssueToContext(p,{validation:"cuid2",code:ZodIssueCode.invalid_string,message:m.message}),l.dirty());else if("ulid"===m.kind)ulidRegex.test(o.data)||(p=this._getOrReturnCtx(o,p),addIssueToContext(p,{validation:"ulid",code:ZodIssueCode.invalid_string,message:m.message}),l.dirty());else if("url"===m.kind)try{new URL(o.data)}catch{p=this._getOrReturnCtx(o,p),addIssueToContext(p,{validation:"url",code:ZodIssueCode.invalid_string,message:m.message}),l.dirty()}else if("regex"===m.kind){m.regex.lastIndex=0;m.regex.test(o.data)||(p=this._getOrReturnCtx(o,p),addIssueToContext(p,{validation:"regex",code:ZodIssueCode.invalid_string,message:m.message}),l.dirty())}else if("trim"===m.kind)o.data=o.data.trim();else if("includes"===m.kind)o.data.includes(m.value,m.position)||(p=this._getOrReturnCtx(o,p),addIssueToContext(p,{code:ZodIssueCode.invalid_string,validation:{includes:m.value,position:m.position},message:m.message}),l.dirty());else if("toLowerCase"===m.kind)o.data=o.data.toLowerCase();else if("toUpperCase"===m.kind)o.data=o.data.toUpperCase();else if("startsWith"===m.kind)o.data.startsWith(m.value)||(p=this._getOrReturnCtx(o,p),addIssueToContext(p,{code:ZodIssueCode.invalid_string,validation:{startsWith:m.value},message:m.message}),l.dirty());else if("endsWith"===m.kind)o.data.endsWith(m.value)||(p=this._getOrReturnCtx(o,p),addIssueToContext(p,{code:ZodIssueCode.invalid_string,validation:{endsWith:m.value},message:m.message}),l.dirty());else if("datetime"===m.kind){datetimeRegex(m).test(o.data)||(p=this._getOrReturnCtx(o,p),addIssueToContext(p,{code:ZodIssueCode.invalid_string,validation:"datetime",message:m.message}),l.dirty())}else if("date"===m.kind){dateRegex.test(o.data)||(p=this._getOrReturnCtx(o,p),addIssueToContext(p,{code:ZodIssueCode.invalid_string,validation:"date",message:m.message}),l.dirty())}else if("time"===m.kind){timeRegex(m).test(o.data)||(p=this._getOrReturnCtx(o,p),addIssueToContext(p,{code:ZodIssueCode.invalid_string,validation:"time",message:m.message}),l.dirty())}else"duration"===m.kind?durationRegex.test(o.data)||(p=this._getOrReturnCtx(o,p),addIssueToContext(p,{validation:"duration",code:ZodIssueCode.invalid_string,message:m.message}),l.dirty()):"ip"===m.kind?isValidIP(o.data,m.version)||(p=this._getOrReturnCtx(o,p),addIssueToContext(p,{validation:"ip",code:ZodIssueCode.invalid_string,message:m.message}),l.dirty()):"jwt"===m.kind?isValidJWT(o.data,m.alg)||(p=this._getOrReturnCtx(o,p),addIssueToContext(p,{validation:"jwt",code:ZodIssueCode.invalid_string,message:m.message}),l.dirty()):"cidr"===m.kind?isValidCidr(o.data,m.version)||(p=this._getOrReturnCtx(o,p),addIssueToContext(p,{validation:"cidr",code:ZodIssueCode.invalid_string,message:m.message}),l.dirty()):"base64"===m.kind?base64Regex.test(o.data)||(p=this._getOrReturnCtx(o,p),addIssueToContext(p,{validation:"base64",code:ZodIssueCode.invalid_string,message:m.message}),l.dirty()):"base64url"===m.kind?base64urlRegex.test(o.data)||(p=this._getOrReturnCtx(o,p),addIssueToContext(p,{validation:"base64url",code:ZodIssueCode.invalid_string,message:m.message}),l.dirty()):util.assertNever(m);return{status:l.value,value:o.data}}_regex(o,l,p){return this.refinement(l=>o.test(l),{validation:l,code:ZodIssueCode.invalid_string,...errorUtil.errToObj(p)})}_addCheck(o){return new ZodString({...this._def,checks:[...this._def.checks,o]})}email(o){return this._addCheck({kind:"email",...errorUtil.errToObj(o)})}url(o){return this._addCheck({kind:"url",...errorUtil.errToObj(o)})}emoji(o){return this._addCheck({kind:"emoji",...errorUtil.errToObj(o)})}uuid(o){return this._addCheck({kind:"uuid",...errorUtil.errToObj(o)})}nanoid(o){return this._addCheck({kind:"nanoid",...errorUtil.errToObj(o)})}cuid(o){return this._addCheck({kind:"cuid",...errorUtil.errToObj(o)})}cuid2(o){return this._addCheck({kind:"cuid2",...errorUtil.errToObj(o)})}ulid(o){return this._addCheck({kind:"ulid",...errorUtil.errToObj(o)})}base64(o){return this._addCheck({kind:"base64",...errorUtil.errToObj(o)})}base64url(o){return this._addCheck({kind:"base64url",...errorUtil.errToObj(o)})}jwt(o){return this._addCheck({kind:"jwt",...errorUtil.errToObj(o)})}ip(o){return this._addCheck({kind:"ip",...errorUtil.errToObj(o)})}cidr(o){return this._addCheck({kind:"cidr",...errorUtil.errToObj(o)})}datetime(o){return"string"==typeof o?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:o}):this._addCheck({kind:"datetime",precision:void 0===o?.precision?null:o?.precision,offset:o?.offset??!1,local:o?.local??!1,...errorUtil.errToObj(o?.message)})}date(o){return this._addCheck({kind:"date",message:o})}time(o){return"string"==typeof o?this._addCheck({kind:"time",precision:null,message:o}):this._addCheck({kind:"time",precision:void 0===o?.precision?null:o?.precision,...errorUtil.errToObj(o?.message)})}duration(o){return this._addCheck({kind:"duration",...errorUtil.errToObj(o)})}regex(o,l){return this._addCheck({kind:"regex",regex:o,...errorUtil.errToObj(l)})}includes(o,l){return this._addCheck({kind:"includes",value:o,position:l?.position,...errorUtil.errToObj(l?.message)})}startsWith(o,l){return this._addCheck({kind:"startsWith",value:o,...errorUtil.errToObj(l)})}endsWith(o,l){return this._addCheck({kind:"endsWith",value:o,...errorUtil.errToObj(l)})}min(o,l){return this._addCheck({kind:"min",value:o,...errorUtil.errToObj(l)})}max(o,l){return this._addCheck({kind:"max",value:o,...errorUtil.errToObj(l)})}length(o,l){return this._addCheck({kind:"length",value:o,...errorUtil.errToObj(l)})}nonempty(o){return this.min(1,errorUtil.errToObj(o))}trim(){return new ZodString({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new ZodString({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new ZodString({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(o=>"datetime"===o.kind)}get isDate(){return!!this._def.checks.find(o=>"date"===o.kind)}get isTime(){return!!this._def.checks.find(o=>"time"===o.kind)}get isDuration(){return!!this._def.checks.find(o=>"duration"===o.kind)}get isEmail(){return!!this._def.checks.find(o=>"email"===o.kind)}get isURL(){return!!this._def.checks.find(o=>"url"===o.kind)}get isEmoji(){return!!this._def.checks.find(o=>"emoji"===o.kind)}get isUUID(){return!!this._def.checks.find(o=>"uuid"===o.kind)}get isNANOID(){return!!this._def.checks.find(o=>"nanoid"===o.kind)}get isCUID(){return!!this._def.checks.find(o=>"cuid"===o.kind)}get isCUID2(){return!!this._def.checks.find(o=>"cuid2"===o.kind)}get isULID(){return!!this._def.checks.find(o=>"ulid"===o.kind)}get isIP(){return!!this._def.checks.find(o=>"ip"===o.kind)}get isCIDR(){return!!this._def.checks.find(o=>"cidr"===o.kind)}get isBase64(){return!!this._def.checks.find(o=>"base64"===o.kind)}get isBase64url(){return!!this._def.checks.find(o=>"base64url"===o.kind)}get minLength(){let o=null;for(const l of this._def.checks)"min"===l.kind&&(null===o||l.value>o)&&(o=l.value);return o}get maxLength(){let o=null;for(const l of this._def.checks)"max"===l.kind&&(null===o||l.value<o)&&(o=l.value);return o}}function floatSafeRemainder(o,l){const p=(o.toString().split(".")[1]||"").length,m=(l.toString().split(".")[1]||"").length,g=p>m?p:m;return Number.parseInt(o.toFixed(g).replace(".",""))%Number.parseInt(l.toFixed(g).replace(".",""))/10**g}ZodString.create=o=>new ZodString({checks:[],typeName:ZodFirstPartyTypeKind.ZodString,coerce:o?.coerce??!1,...processCreateParams(o)});class ZodNumber extends ZodType{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(o){this._def.coerce&&(o.data=Number(o.data));if(this._getType(o)!==ZodParsedType.number){const l=this._getOrReturnCtx(o);return addIssueToContext(l,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.number,received:l.parsedType}),INVALID}let l;const p=new ParseStatus;for(const m of this._def.checks)if("int"===m.kind)util.isInteger(o.data)||(l=this._getOrReturnCtx(o,l),addIssueToContext(l,{code:ZodIssueCode.invalid_type,expected:"integer",received:"float",message:m.message}),p.dirty());else if("min"===m.kind){(m.inclusive?o.data<m.value:o.data<=m.value)&&(l=this._getOrReturnCtx(o,l),addIssueToContext(l,{code:ZodIssueCode.too_small,minimum:m.value,type:"number",inclusive:m.inclusive,exact:!1,message:m.message}),p.dirty())}else if("max"===m.kind){(m.inclusive?o.data>m.value:o.data>=m.value)&&(l=this._getOrReturnCtx(o,l),addIssueToContext(l,{code:ZodIssueCode.too_big,maximum:m.value,type:"number",inclusive:m.inclusive,exact:!1,message:m.message}),p.dirty())}else"multipleOf"===m.kind?0!==floatSafeRemainder(o.data,m.value)&&(l=this._getOrReturnCtx(o,l),addIssueToContext(l,{code:ZodIssueCode.not_multiple_of,multipleOf:m.value,message:m.message}),p.dirty()):"finite"===m.kind?Number.isFinite(o.data)||(l=this._getOrReturnCtx(o,l),addIssueToContext(l,{code:ZodIssueCode.not_finite,message:m.message}),p.dirty()):util.assertNever(m);return{status:p.value,value:o.data}}gte(o,l){return this.setLimit("min",o,!0,errorUtil.toString(l))}gt(o,l){return this.setLimit("min",o,!1,errorUtil.toString(l))}lte(o,l){return this.setLimit("max",o,!0,errorUtil.toString(l))}lt(o,l){return this.setLimit("max",o,!1,errorUtil.toString(l))}setLimit(o,l,p,m){return new ZodNumber({...this._def,checks:[...this._def.checks,{kind:o,value:l,inclusive:p,message:errorUtil.toString(m)}]})}_addCheck(o){return new ZodNumber({...this._def,checks:[...this._def.checks,o]})}int(o){return this._addCheck({kind:"int",message:errorUtil.toString(o)})}positive(o){return this._addCheck({kind:"min",value:0,inclusive:!1,message:errorUtil.toString(o)})}negative(o){return this._addCheck({kind:"max",value:0,inclusive:!1,message:errorUtil.toString(o)})}nonpositive(o){return this._addCheck({kind:"max",value:0,inclusive:!0,message:errorUtil.toString(o)})}nonnegative(o){return this._addCheck({kind:"min",value:0,inclusive:!0,message:errorUtil.toString(o)})}multipleOf(o,l){return this._addCheck({kind:"multipleOf",value:o,message:errorUtil.toString(l)})}finite(o){return this._addCheck({kind:"finite",message:errorUtil.toString(o)})}safe(o){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:errorUtil.toString(o)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:errorUtil.toString(o)})}get minValue(){let o=null;for(const l of this._def.checks)"min"===l.kind&&(null===o||l.value>o)&&(o=l.value);return o}get maxValue(){let o=null;for(const l of this._def.checks)"max"===l.kind&&(null===o||l.value<o)&&(o=l.value);return o}get isInt(){return!!this._def.checks.find(o=>"int"===o.kind||"multipleOf"===o.kind&&util.isInteger(o.value))}get isFinite(){let o=null,l=null;for(const p of this._def.checks){if("finite"===p.kind||"int"===p.kind||"multipleOf"===p.kind)return!0;"min"===p.kind?(null===l||p.value>l)&&(l=p.value):"max"===p.kind&&(null===o||p.value<o)&&(o=p.value)}return Number.isFinite(l)&&Number.isFinite(o)}}ZodNumber.create=o=>new ZodNumber({checks:[],typeName:ZodFirstPartyTypeKind.ZodNumber,coerce:o?.coerce||!1,...processCreateParams(o)});class ZodBigInt extends ZodType{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(o){if(this._def.coerce)try{o.data=BigInt(o.data)}catch{return this._getInvalidInput(o)}if(this._getType(o)!==ZodParsedType.bigint)return this._getInvalidInput(o);let l;const p=new ParseStatus;for(const m of this._def.checks)if("min"===m.kind){(m.inclusive?o.data<m.value:o.data<=m.value)&&(l=this._getOrReturnCtx(o,l),addIssueToContext(l,{code:ZodIssueCode.too_small,type:"bigint",minimum:m.value,inclusive:m.inclusive,message:m.message}),p.dirty())}else if("max"===m.kind){(m.inclusive?o.data>m.value:o.data>=m.value)&&(l=this._getOrReturnCtx(o,l),addIssueToContext(l,{code:ZodIssueCode.too_big,type:"bigint",maximum:m.value,inclusive:m.inclusive,message:m.message}),p.dirty())}else"multipleOf"===m.kind?o.data%m.value!==BigInt(0)&&(l=this._getOrReturnCtx(o,l),addIssueToContext(l,{code:ZodIssueCode.not_multiple_of,multipleOf:m.value,message:m.message}),p.dirty()):util.assertNever(m);return{status:p.value,value:o.data}}_getInvalidInput(o){const l=this._getOrReturnCtx(o);return addIssueToContext(l,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.bigint,received:l.parsedType}),INVALID}gte(o,l){return this.setLimit("min",o,!0,errorUtil.toString(l))}gt(o,l){return this.setLimit("min",o,!1,errorUtil.toString(l))}lte(o,l){return this.setLimit("max",o,!0,errorUtil.toString(l))}lt(o,l){return this.setLimit("max",o,!1,errorUtil.toString(l))}setLimit(o,l,p,m){return new ZodBigInt({...this._def,checks:[...this._def.checks,{kind:o,value:l,inclusive:p,message:errorUtil.toString(m)}]})}_addCheck(o){return new ZodBigInt({...this._def,checks:[...this._def.checks,o]})}positive(o){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:errorUtil.toString(o)})}negative(o){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:errorUtil.toString(o)})}nonpositive(o){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:errorUtil.toString(o)})}nonnegative(o){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:errorUtil.toString(o)})}multipleOf(o,l){return this._addCheck({kind:"multipleOf",value:o,message:errorUtil.toString(l)})}get minValue(){let o=null;for(const l of this._def.checks)"min"===l.kind&&(null===o||l.value>o)&&(o=l.value);return o}get maxValue(){let o=null;for(const l of this._def.checks)"max"===l.kind&&(null===o||l.value<o)&&(o=l.value);return o}}ZodBigInt.create=o=>new ZodBigInt({checks:[],typeName:ZodFirstPartyTypeKind.ZodBigInt,coerce:o?.coerce??!1,...processCreateParams(o)});class ZodBoolean extends ZodType{_parse(o){this._def.coerce&&(o.data=Boolean(o.data));if(this._getType(o)!==ZodParsedType.boolean){const l=this._getOrReturnCtx(o);return addIssueToContext(l,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.boolean,received:l.parsedType}),INVALID}return OK(o.data)}}ZodBoolean.create=o=>new ZodBoolean({typeName:ZodFirstPartyTypeKind.ZodBoolean,coerce:o?.coerce||!1,...processCreateParams(o)});class ZodDate extends ZodType{_parse(o){this._def.coerce&&(o.data=new Date(o.data));if(this._getType(o)!==ZodParsedType.date){const l=this._getOrReturnCtx(o);return addIssueToContext(l,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.date,received:l.parsedType}),INVALID}if(Number.isNaN(o.data.getTime())){return addIssueToContext(this._getOrReturnCtx(o),{code:ZodIssueCode.invalid_date}),INVALID}const l=new ParseStatus;let p;for(const m of this._def.checks)"min"===m.kind?o.data.getTime()<m.value&&(p=this._getOrReturnCtx(o,p),addIssueToContext(p,{code:ZodIssueCode.too_small,message:m.message,inclusive:!0,exact:!1,minimum:m.value,type:"date"}),l.dirty()):"max"===m.kind?o.data.getTime()>m.value&&(p=this._getOrReturnCtx(o,p),addIssueToContext(p,{code:ZodIssueCode.too_big,message:m.message,inclusive:!0,exact:!1,maximum:m.value,type:"date"}),l.dirty()):util.assertNever(m);return{status:l.value,value:new Date(o.data.getTime())}}_addCheck(o){return new ZodDate({...this._def,checks:[...this._def.checks,o]})}min(o,l){return this._addCheck({kind:"min",value:o.getTime(),message:errorUtil.toString(l)})}max(o,l){return this._addCheck({kind:"max",value:o.getTime(),message:errorUtil.toString(l)})}get minDate(){let o=null;for(const l of this._def.checks)"min"===l.kind&&(null===o||l.value>o)&&(o=l.value);return null!=o?new Date(o):null}get maxDate(){let o=null;for(const l of this._def.checks)"max"===l.kind&&(null===o||l.value<o)&&(o=l.value);return null!=o?new Date(o):null}}ZodDate.create=o=>new ZodDate({checks:[],coerce:o?.coerce||!1,typeName:ZodFirstPartyTypeKind.ZodDate,...processCreateParams(o)});class ZodSymbol extends ZodType{_parse(o){if(this._getType(o)!==ZodParsedType.symbol){const l=this._getOrReturnCtx(o);return addIssueToContext(l,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.symbol,received:l.parsedType}),INVALID}return OK(o.data)}}ZodSymbol.create=o=>new ZodSymbol({typeName:ZodFirstPartyTypeKind.ZodSymbol,...processCreateParams(o)});class ZodUndefined extends ZodType{_parse(o){if(this._getType(o)!==ZodParsedType.undefined){const l=this._getOrReturnCtx(o);return addIssueToContext(l,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.undefined,received:l.parsedType}),INVALID}return OK(o.data)}}ZodUndefined.create=o=>new ZodUndefined({typeName:ZodFirstPartyTypeKind.ZodUndefined,...processCreateParams(o)});class ZodNull extends ZodType{_parse(o){if(this._getType(o)!==ZodParsedType.null){const l=this._getOrReturnCtx(o);return addIssueToContext(l,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.null,received:l.parsedType}),INVALID}return OK(o.data)}}ZodNull.create=o=>new ZodNull({typeName:ZodFirstPartyTypeKind.ZodNull,...processCreateParams(o)});class ZodAny extends ZodType{constructor(){super(...arguments),this._any=!0}_parse(o){return OK(o.data)}}ZodAny.create=o=>new ZodAny({typeName:ZodFirstPartyTypeKind.ZodAny,...processCreateParams(o)});class ZodUnknown extends ZodType{constructor(){super(...arguments),this._unknown=!0}_parse(o){return OK(o.data)}}ZodUnknown.create=o=>new ZodUnknown({typeName:ZodFirstPartyTypeKind.ZodUnknown,...processCreateParams(o)});class ZodNever extends ZodType{_parse(o){const l=this._getOrReturnCtx(o);return addIssueToContext(l,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.never,received:l.parsedType}),INVALID}}ZodNever.create=o=>new ZodNever({typeName:ZodFirstPartyTypeKind.ZodNever,...processCreateParams(o)});class ZodVoid extends ZodType{_parse(o){if(this._getType(o)!==ZodParsedType.undefined){const l=this._getOrReturnCtx(o);return addIssueToContext(l,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.void,received:l.parsedType}),INVALID}return OK(o.data)}}ZodVoid.create=o=>new ZodVoid({typeName:ZodFirstPartyTypeKind.ZodVoid,...processCreateParams(o)});class ZodArray extends ZodType{_parse(o){const{ctx:l,status:p}=this._processInputParams(o),m=this._def;if(l.parsedType!==ZodParsedType.array)return addIssueToContext(l,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.array,received:l.parsedType}),INVALID;if(null!==m.exactLength){const o=l.data.length>m.exactLength.value,g=l.data.length<m.exactLength.value;(o||g)&&(addIssueToContext(l,{code:o?ZodIssueCode.too_big:ZodIssueCode.too_small,minimum:g?m.exactLength.value:void 0,maximum:o?m.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:m.exactLength.message}),p.dirty())}if(null!==m.minLength&&l.data.length<m.minLength.value&&(addIssueToContext(l,{code:ZodIssueCode.too_small,minimum:m.minLength.value,type:"array",inclusive:!0,exact:!1,message:m.minLength.message}),p.dirty()),null!==m.maxLength&&l.data.length>m.maxLength.value&&(addIssueToContext(l,{code:ZodIssueCode.too_big,maximum:m.maxLength.value,type:"array",inclusive:!0,exact:!1,message:m.maxLength.message}),p.dirty()),l.common.async)return Promise.all([...l.data].map((o,p)=>m.type._parseAsync(new ParseInputLazyPath(l,o,l.path,p)))).then(o=>ParseStatus.mergeArray(p,o));const g=[...l.data].map((o,p)=>m.type._parseSync(new ParseInputLazyPath(l,o,l.path,p)));return ParseStatus.mergeArray(p,g)}get element(){return this._def.type}min(o,l){return new ZodArray({...this._def,minLength:{value:o,message:errorUtil.toString(l)}})}max(o,l){return new ZodArray({...this._def,maxLength:{value:o,message:errorUtil.toString(l)}})}length(o,l){return new ZodArray({...this._def,exactLength:{value:o,message:errorUtil.toString(l)}})}nonempty(o){return this.min(1,o)}}function deepPartialify(o){if(o instanceof ZodObject){const l={};for(const p in o.shape){const m=o.shape[p];l[p]=ZodOptional.create(deepPartialify(m))}return new ZodObject({...o._def,shape:()=>l})}return o instanceof ZodArray?new ZodArray({...o._def,type:deepPartialify(o.element)}):o instanceof ZodOptional?ZodOptional.create(deepPartialify(o.unwrap())):o instanceof ZodNullable?ZodNullable.create(deepPartialify(o.unwrap())):o instanceof ZodTuple?ZodTuple.create(o.items.map(o=>deepPartialify(o))):o}ZodArray.create=(o,l)=>new ZodArray({type:o,minLength:null,maxLength:null,exactLength:null,typeName:ZodFirstPartyTypeKind.ZodArray,...processCreateParams(l)});class ZodObject extends ZodType{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(null!==this._cached)return this._cached;const o=this._def.shape(),l=util.objectKeys(o);return this._cached={shape:o,keys:l},this._cached}_parse(o){if(this._getType(o)!==ZodParsedType.object){const l=this._getOrReturnCtx(o);return addIssueToContext(l,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.object,received:l.parsedType}),INVALID}const{status:l,ctx:p}=this._processInputParams(o),{shape:m,keys:g}=this._getCached(),y=[];if(!(this._def.catchall instanceof ZodNever&&"strip"===this._def.unknownKeys))for(const o in p.data)g.includes(o)||y.push(o);const _=[];for(const o of g){const l=m[o],g=p.data[o];_.push({key:{status:"valid",value:o},value:l._parse(new ParseInputLazyPath(p,g,p.path,o)),alwaysSet:o in p.data})}if(this._def.catchall instanceof ZodNever){const o=this._def.unknownKeys;if("passthrough"===o)for(const o of y)_.push({key:{status:"valid",value:o},value:{status:"valid",value:p.data[o]}});else if("strict"===o)y.length>0&&(addIssueToContext(p,{code:ZodIssueCode.unrecognized_keys,keys:y}),l.dirty());else if("strip"!==o)throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const o=this._def.catchall;for(const l of y){const m=p.data[l];_.push({key:{status:"valid",value:l},value:o._parse(new ParseInputLazyPath(p,m,p.path,l)),alwaysSet:l in p.data})}}return p.common.async?Promise.resolve().then(async()=>{const o=[];for(const l of _){const p=await l.key,m=await l.value;o.push({key:p,value:m,alwaysSet:l.alwaysSet})}return o}).then(o=>ParseStatus.mergeObjectSync(l,o)):ParseStatus.mergeObjectSync(l,_)}get shape(){return this._def.shape()}strict(o){return errorUtil.errToObj,new ZodObject({...this._def,unknownKeys:"strict",...void 0!==o?{errorMap:(l,p)=>{const m=this._def.errorMap?.(l,p).message??p.defaultError;return"unrecognized_keys"===l.code?{message:errorUtil.errToObj(o).message??m}:{message:m}}}:{}})}strip(){return new ZodObject({...this._def,unknownKeys:"strip"})}passthrough(){return new ZodObject({...this._def,unknownKeys:"passthrough"})}extend(o){return new ZodObject({...this._def,shape:()=>({...this._def.shape(),...o})})}merge(o){return new ZodObject({unknownKeys:o._def.unknownKeys,catchall:o._def.catchall,shape:()=>({...this._def.shape(),...o._def.shape()}),typeName:ZodFirstPartyTypeKind.ZodObject})}setKey(o,l){return this.augment({[o]:l})}catchall(o){return new ZodObject({...this._def,catchall:o})}pick(o){const l={};for(const p of util.objectKeys(o))o[p]&&this.shape[p]&&(l[p]=this.shape[p]);return new ZodObject({...this._def,shape:()=>l})}omit(o){const l={};for(const p of util.objectKeys(this.shape))o[p]||(l[p]=this.shape[p]);return new ZodObject({...this._def,shape:()=>l})}deepPartial(){return deepPartialify(this)}partial(o){const l={};for(const p of util.objectKeys(this.shape)){const m=this.shape[p];o&&!o[p]?l[p]=m:l[p]=m.optional()}return new ZodObject({...this._def,shape:()=>l})}required(o){const l={};for(const p of util.objectKeys(this.shape))if(o&&!o[p])l[p]=this.shape[p];else{let o=this.shape[p];for(;o instanceof ZodOptional;)o=o._def.innerType;l[p]=o}return new ZodObject({...this._def,shape:()=>l})}keyof(){return createZodEnum(util.objectKeys(this.shape))}}ZodObject.create=(o,l)=>new ZodObject({shape:()=>o,unknownKeys:"strip",catchall:ZodNever.create(),typeName:ZodFirstPartyTypeKind.ZodObject,...processCreateParams(l)}),ZodObject.strictCreate=(o,l)=>new ZodObject({shape:()=>o,unknownKeys:"strict",catchall:ZodNever.create(),typeName:ZodFirstPartyTypeKind.ZodObject,...processCreateParams(l)}),ZodObject.lazycreate=(o,l)=>new ZodObject({shape:o,unknownKeys:"strip",catchall:ZodNever.create(),typeName:ZodFirstPartyTypeKind.ZodObject,...processCreateParams(l)});class ZodUnion extends ZodType{_parse(o){const{ctx:l}=this._processInputParams(o),p=this._def.options;if(l.common.async)return Promise.all(p.map(async o=>{const p={...l,common:{...l.common,issues:[]},parent:null};return{result:await o._parseAsync({data:l.data,path:l.path,parent:p}),ctx:p}})).then(function(o){for(const l of o)if("valid"===l.result.status)return l.result;for(const p of o)if("dirty"===p.result.status)return l.common.issues.push(...p.ctx.common.issues),p.result;const p=o.map(o=>new ZodError(o.ctx.common.issues));return addIssueToContext(l,{code:ZodIssueCode.invalid_union,unionErrors:p}),INVALID});{let o;const m=[];for(const g of p){const p={...l,common:{...l.common,issues:[]},parent:null},y=g._parseSync({data:l.data,path:l.path,parent:p});if("valid"===y.status)return y;"dirty"!==y.status||o||(o={result:y,ctx:p}),p.common.issues.length&&m.push(p.common.issues)}if(o)return l.common.issues.push(...o.ctx.common.issues),o.result;const g=m.map(o=>new ZodError(o));return addIssueToContext(l,{code:ZodIssueCode.invalid_union,unionErrors:g}),INVALID}}get options(){return this._def.options}}ZodUnion.create=(o,l)=>new ZodUnion({options:o,typeName:ZodFirstPartyTypeKind.ZodUnion,...processCreateParams(l)});var getDiscriminator=o=>o instanceof ZodLazy?getDiscriminator(o.schema):o instanceof ZodEffects?getDiscriminator(o.innerType()):o instanceof ZodLiteral?[o.value]:o instanceof ZodEnum?o.options:o instanceof ZodNativeEnum?util.objectValues(o.enum):o instanceof ZodDefault?getDiscriminator(o._def.innerType):o instanceof ZodUndefined?[void 0]:o instanceof ZodNull?[null]:o instanceof ZodOptional?[void 0,...getDiscriminator(o.unwrap())]:o instanceof ZodNullable?[null,...getDiscriminator(o.unwrap())]:o instanceof ZodBranded||o instanceof ZodReadonly?getDiscriminator(o.unwrap()):o instanceof ZodCatch?getDiscriminator(o._def.innerType):[];class ZodDiscriminatedUnion extends ZodType{_parse(o){const{ctx:l}=this._processInputParams(o);if(l.parsedType!==ZodParsedType.object)return addIssueToContext(l,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.object,received:l.parsedType}),INVALID;const p=this.discriminator,m=l.data[p],g=this.optionsMap.get(m);return g?l.common.async?g._parseAsync({data:l.data,path:l.path,parent:l}):g._parseSync({data:l.data,path:l.path,parent:l}):(addIssueToContext(l,{code:ZodIssueCode.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[p]}),INVALID)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(o,l,p){const m=new Map;for(const p of l){const l=getDiscriminator(p.shape[o]);if(!l.length)throw new Error(`A discriminator value for key \`${o}\` could not be extracted from all schema options`);for(const g of l){if(m.has(g))throw new Error(`Discriminator property ${String(o)} has duplicate value ${String(g)}`);m.set(g,p)}}return new ZodDiscriminatedUnion({typeName:ZodFirstPartyTypeKind.ZodDiscriminatedUnion,discriminator:o,options:l,optionsMap:m,...processCreateParams(p)})}}function mergeValues(o,l){const p=getParsedType(o),m=getParsedType(l);if(o===l)return{valid:!0,data:o};if(p===ZodParsedType.object&&m===ZodParsedType.object){const p=util.objectKeys(l),m=util.objectKeys(o).filter(o=>-1!==p.indexOf(o)),g={...o,...l};for(const p of m){const m=mergeValues(o[p],l[p]);if(!m.valid)return{valid:!1};g[p]=m.data}return{valid:!0,data:g}}if(p===ZodParsedType.array&&m===ZodParsedType.array){if(o.length!==l.length)return{valid:!1};const p=[];for(let m=0;m<o.length;m++){const g=mergeValues(o[m],l[m]);if(!g.valid)return{valid:!1};p.push(g.data)}return{valid:!0,data:p}}return p===ZodParsedType.date&&m===ZodParsedType.date&&+o===+l?{valid:!0,data:o}:{valid:!1}}class ZodIntersection extends ZodType{_parse(o){const{status:l,ctx:p}=this._processInputParams(o),handleParsed=(o,m)=>{if(isAborted(o)||isAborted(m))return INVALID;const g=mergeValues(o.value,m.value);return g.valid?((isDirty(o)||isDirty(m))&&l.dirty(),{status:l.value,value:g.data}):(addIssueToContext(p,{code:ZodIssueCode.invalid_intersection_types}),INVALID)};return p.common.async?Promise.all([this._def.left._parseAsync({data:p.data,path:p.path,parent:p}),this._def.right._parseAsync({data:p.data,path:p.path,parent:p})]).then(([o,l])=>handleParsed(o,l)):handleParsed(this._def.left._parseSync({data:p.data,path:p.path,parent:p}),this._def.right._parseSync({data:p.data,path:p.path,parent:p}))}}ZodIntersection.create=(o,l,p)=>new ZodIntersection({left:o,right:l,typeName:ZodFirstPartyTypeKind.ZodIntersection,...processCreateParams(p)});class ZodTuple extends ZodType{_parse(o){const{status:l,ctx:p}=this._processInputParams(o);if(p.parsedType!==ZodParsedType.array)return addIssueToContext(p,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.array,received:p.parsedType}),INVALID;if(p.data.length<this._def.items.length)return addIssueToContext(p,{code:ZodIssueCode.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),INVALID;!this._def.rest&&p.data.length>this._def.items.length&&(addIssueToContext(p,{code:ZodIssueCode.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),l.dirty());const m=[...p.data].map((o,l)=>{const m=this._def.items[l]||this._def.rest;return m?m._parse(new ParseInputLazyPath(p,o,p.path,l)):null}).filter(o=>!!o);return p.common.async?Promise.all(m).then(o=>ParseStatus.mergeArray(l,o)):ParseStatus.mergeArray(l,m)}get items(){return this._def.items}rest(o){return new ZodTuple({...this._def,rest:o})}}ZodTuple.create=(o,l)=>{if(!Array.isArray(o))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new ZodTuple({items:o,typeName:ZodFirstPartyTypeKind.ZodTuple,rest:null,...processCreateParams(l)})};class ZodRecord extends ZodType{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(o){const{status:l,ctx:p}=this._processInputParams(o);if(p.parsedType!==ZodParsedType.object)return addIssueToContext(p,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.object,received:p.parsedType}),INVALID;const m=[],g=this._def.keyType,y=this._def.valueType;for(const o in p.data)m.push({key:g._parse(new ParseInputLazyPath(p,o,p.path,o)),value:y._parse(new ParseInputLazyPath(p,p.data[o],p.path,o)),alwaysSet:o in p.data});return p.common.async?ParseStatus.mergeObjectAsync(l,m):ParseStatus.mergeObjectSync(l,m)}get element(){return this._def.valueType}static create(o,l,p){return new ZodRecord(l instanceof ZodType?{keyType:o,valueType:l,typeName:ZodFirstPartyTypeKind.ZodRecord,...processCreateParams(p)}:{keyType:ZodString.create(),valueType:o,typeName:ZodFirstPartyTypeKind.ZodRecord,...processCreateParams(l)})}}class ZodMap extends ZodType{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(o){const{status:l,ctx:p}=this._processInputParams(o);if(p.parsedType!==ZodParsedType.map)return addIssueToContext(p,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.map,received:p.parsedType}),INVALID;const m=this._def.keyType,g=this._def.valueType,y=[...p.data.entries()].map(([o,l],y)=>({key:m._parse(new ParseInputLazyPath(p,o,p.path,[y,"key"])),value:g._parse(new ParseInputLazyPath(p,l,p.path,[y,"value"]))}));if(p.common.async){const o=new Map;return Promise.resolve().then(async()=>{for(const p of y){const m=await p.key,g=await p.value;if("aborted"===m.status||"aborted"===g.status)return INVALID;"dirty"!==m.status&&"dirty"!==g.status||l.dirty(),o.set(m.value,g.value)}return{status:l.value,value:o}})}{const o=new Map;for(const p of y){const m=p.key,g=p.value;if("aborted"===m.status||"aborted"===g.status)return INVALID;"dirty"!==m.status&&"dirty"!==g.status||l.dirty(),o.set(m.value,g.value)}return{status:l.value,value:o}}}}ZodMap.create=(o,l,p)=>new ZodMap({valueType:l,keyType:o,typeName:ZodFirstPartyTypeKind.ZodMap,...processCreateParams(p)});class ZodSet extends ZodType{_parse(o){const{status:l,ctx:p}=this._processInputParams(o);if(p.parsedType!==ZodParsedType.set)return addIssueToContext(p,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.set,received:p.parsedType}),INVALID;const m=this._def;null!==m.minSize&&p.data.size<m.minSize.value&&(addIssueToContext(p,{code:ZodIssueCode.too_small,minimum:m.minSize.value,type:"set",inclusive:!0,exact:!1,message:m.minSize.message}),l.dirty()),null!==m.maxSize&&p.data.size>m.maxSize.value&&(addIssueToContext(p,{code:ZodIssueCode.too_big,maximum:m.maxSize.value,type:"set",inclusive:!0,exact:!1,message:m.maxSize.message}),l.dirty());const g=this._def.valueType;function finalizeSet(o){const p=new Set;for(const m of o){if("aborted"===m.status)return INVALID;"dirty"===m.status&&l.dirty(),p.add(m.value)}return{status:l.value,value:p}}const y=[...p.data.values()].map((o,l)=>g._parse(new ParseInputLazyPath(p,o,p.path,l)));return p.common.async?Promise.all(y).then(o=>finalizeSet(o)):finalizeSet(y)}min(o,l){return new ZodSet({...this._def,minSize:{value:o,message:errorUtil.toString(l)}})}max(o,l){return new ZodSet({...this._def,maxSize:{value:o,message:errorUtil.toString(l)}})}size(o,l){return this.min(o,l).max(o,l)}nonempty(o){return this.min(1,o)}}ZodSet.create=(o,l)=>new ZodSet({valueType:o,minSize:null,maxSize:null,typeName:ZodFirstPartyTypeKind.ZodSet,...processCreateParams(l)});class ZodFunction extends ZodType{constructor(){super(...arguments),this.validate=this.implement}_parse(o){const{ctx:l}=this._processInputParams(o);if(l.parsedType!==ZodParsedType.function)return addIssueToContext(l,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.function,received:l.parsedType}),INVALID;function makeArgsIssue(o,p){return makeIssue({data:o,path:l.path,errorMaps:[l.common.contextualErrorMap,l.schemaErrorMap,getErrorMap(),en_default].filter(o=>!!o),issueData:{code:ZodIssueCode.invalid_arguments,argumentsError:p}})}function makeReturnsIssue(o,p){return makeIssue({data:o,path:l.path,errorMaps:[l.common.contextualErrorMap,l.schemaErrorMap,getErrorMap(),en_default].filter(o=>!!o),issueData:{code:ZodIssueCode.invalid_return_type,returnTypeError:p}})}const p={errorMap:l.common.contextualErrorMap},m=l.data;if(this._def.returns instanceof ZodPromise){const o=this;return OK(async function(...l){const g=new ZodError([]),y=await o._def.args.parseAsync(l,p).catch(o=>{throw g.addIssue(makeArgsIssue(l,o)),g}),_=await Reflect.apply(m,this,y);return await o._def.returns._def.type.parseAsync(_,p).catch(o=>{throw g.addIssue(makeReturnsIssue(_,o)),g})})}{const o=this;return OK(function(...l){const g=o._def.args.safeParse(l,p);if(!g.success)throw new ZodError([makeArgsIssue(l,g.error)]);const y=Reflect.apply(m,this,g.data),_=o._def.returns.safeParse(y,p);if(!_.success)throw new ZodError([makeReturnsIssue(y,_.error)]);return _.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...o){return new ZodFunction({...this._def,args:ZodTuple.create(o).rest(ZodUnknown.create())})}returns(o){return new ZodFunction({...this._def,returns:o})}implement(o){return this.parse(o)}strictImplement(o){return this.parse(o)}static create(o,l,p){return new ZodFunction({args:o||ZodTuple.create([]).rest(ZodUnknown.create()),returns:l||ZodUnknown.create(),typeName:ZodFirstPartyTypeKind.ZodFunction,...processCreateParams(p)})}}class ZodLazy extends ZodType{get schema(){return this._def.getter()}_parse(o){const{ctx:l}=this._processInputParams(o);return this._def.getter()._parse({data:l.data,path:l.path,parent:l})}}ZodLazy.create=(o,l)=>new ZodLazy({getter:o,typeName:ZodFirstPartyTypeKind.ZodLazy,...processCreateParams(l)});class ZodLiteral extends ZodType{_parse(o){if(o.data!==this._def.value){const l=this._getOrReturnCtx(o);return addIssueToContext(l,{received:l.data,code:ZodIssueCode.invalid_literal,expected:this._def.value}),INVALID}return{status:"valid",value:o.data}}get value(){return this._def.value}}function createZodEnum(o,l){return new ZodEnum({values:o,typeName:ZodFirstPartyTypeKind.ZodEnum,...processCreateParams(l)})}ZodLiteral.create=(o,l)=>new ZodLiteral({value:o,typeName:ZodFirstPartyTypeKind.ZodLiteral,...processCreateParams(l)});class ZodEnum extends ZodType{_parse(o){if("string"!=typeof o.data){const l=this._getOrReturnCtx(o),p=this._def.values;return addIssueToContext(l,{expected:util.joinValues(p),received:l.parsedType,code:ZodIssueCode.invalid_type}),INVALID}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(o.data)){const l=this._getOrReturnCtx(o),p=this._def.values;return addIssueToContext(l,{received:l.data,code:ZodIssueCode.invalid_enum_value,options:p}),INVALID}return OK(o.data)}get options(){return this._def.values}get enum(){const o={};for(const l of this._def.values)o[l]=l;return o}get Values(){const o={};for(const l of this._def.values)o[l]=l;return o}get Enum(){const o={};for(const l of this._def.values)o[l]=l;return o}extract(o,l=this._def){return ZodEnum.create(o,{...this._def,...l})}exclude(o,l=this._def){return ZodEnum.create(this.options.filter(l=>!o.includes(l)),{...this._def,...l})}}ZodEnum.create=createZodEnum;class ZodNativeEnum extends ZodType{_parse(o){const l=util.getValidEnumValues(this._def.values),p=this._getOrReturnCtx(o);if(p.parsedType!==ZodParsedType.string&&p.parsedType!==ZodParsedType.number){const o=util.objectValues(l);return addIssueToContext(p,{expected:util.joinValues(o),received:p.parsedType,code:ZodIssueCode.invalid_type}),INVALID}if(this._cache||(this._cache=new Set(util.getValidEnumValues(this._def.values))),!this._cache.has(o.data)){const o=util.objectValues(l);return addIssueToContext(p,{received:p.data,code:ZodIssueCode.invalid_enum_value,options:o}),INVALID}return OK(o.data)}get enum(){return this._def.values}}ZodNativeEnum.create=(o,l)=>new ZodNativeEnum({values:o,typeName:ZodFirstPartyTypeKind.ZodNativeEnum,...processCreateParams(l)});class ZodPromise extends ZodType{unwrap(){return this._def.type}_parse(o){const{ctx:l}=this._processInputParams(o);if(l.parsedType!==ZodParsedType.promise&&!1===l.common.async)return addIssueToContext(l,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.promise,received:l.parsedType}),INVALID;const p=l.parsedType===ZodParsedType.promise?l.data:Promise.resolve(l.data);return OK(p.then(o=>this._def.type.parseAsync(o,{path:l.path,errorMap:l.common.contextualErrorMap})))}}ZodPromise.create=(o,l)=>new ZodPromise({type:o,typeName:ZodFirstPartyTypeKind.ZodPromise,...processCreateParams(l)});class ZodEffects extends ZodType{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===ZodFirstPartyTypeKind.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(o){const{status:l,ctx:p}=this._processInputParams(o),m=this._def.effect||null,g={addIssue:o=>{addIssueToContext(p,o),o.fatal?l.abort():l.dirty()},get path(){return p.path}};if(g.addIssue=g.addIssue.bind(g),"preprocess"===m.type){const o=m.transform(p.data,g);if(p.common.async)return Promise.resolve(o).then(async o=>{if("aborted"===l.value)return INVALID;const m=await this._def.schema._parseAsync({data:o,path:p.path,parent:p});return"aborted"===m.status?INVALID:"dirty"===m.status||"dirty"===l.value?DIRTY(m.value):m});{if("aborted"===l.value)return INVALID;const m=this._def.schema._parseSync({data:o,path:p.path,parent:p});return"aborted"===m.status?INVALID:"dirty"===m.status||"dirty"===l.value?DIRTY(m.value):m}}if("refinement"===m.type){const executeRefinement=o=>{const l=m.refinement(o,g);if(p.common.async)return Promise.resolve(l);if(l instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return o};if(!1===p.common.async){const o=this._def.schema._parseSync({data:p.data,path:p.path,parent:p});return"aborted"===o.status?INVALID:("dirty"===o.status&&l.dirty(),executeRefinement(o.value),{status:l.value,value:o.value})}return this._def.schema._parseAsync({data:p.data,path:p.path,parent:p}).then(o=>"aborted"===o.status?INVALID:("dirty"===o.status&&l.dirty(),executeRefinement(o.value).then(()=>({status:l.value,value:o.value}))))}if("transform"===m.type){if(!1===p.common.async){const o=this._def.schema._parseSync({data:p.data,path:p.path,parent:p});if(!isValid(o))return INVALID;const y=m.transform(o.value,g);if(y instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:l.value,value:y}}return this._def.schema._parseAsync({data:p.data,path:p.path,parent:p}).then(o=>isValid(o)?Promise.resolve(m.transform(o.value,g)).then(o=>({status:l.value,value:o})):INVALID)}util.assertNever(m)}}ZodEffects.create=(o,l,p)=>new ZodEffects({schema:o,typeName:ZodFirstPartyTypeKind.ZodEffects,effect:l,...processCreateParams(p)}),ZodEffects.createWithPreprocess=(o,l,p)=>new ZodEffects({schema:l,effect:{type:"preprocess",transform:o},typeName:ZodFirstPartyTypeKind.ZodEffects,...processCreateParams(p)});class ZodOptional extends ZodType{_parse(o){return this._getType(o)===ZodParsedType.undefined?OK(void 0):this._def.innerType._parse(o)}unwrap(){return this._def.innerType}}ZodOptional.create=(o,l)=>new ZodOptional({innerType:o,typeName:ZodFirstPartyTypeKind.ZodOptional,...processCreateParams(l)});class ZodNullable extends ZodType{_parse(o){return this._getType(o)===ZodParsedType.null?OK(null):this._def.innerType._parse(o)}unwrap(){return this._def.innerType}}ZodNullable.create=(o,l)=>new ZodNullable({innerType:o,typeName:ZodFirstPartyTypeKind.ZodNullable,...processCreateParams(l)});class ZodDefault extends ZodType{_parse(o){const{ctx:l}=this._processInputParams(o);let p=l.data;return l.parsedType===ZodParsedType.undefined&&(p=this._def.defaultValue()),this._def.innerType._parse({data:p,path:l.path,parent:l})}removeDefault(){return this._def.innerType}}ZodDefault.create=(o,l)=>new ZodDefault({innerType:o,typeName:ZodFirstPartyTypeKind.ZodDefault,defaultValue:"function"==typeof l.default?l.default:()=>l.default,...processCreateParams(l)});class ZodCatch extends ZodType{_parse(o){const{ctx:l}=this._processInputParams(o),p={...l,common:{...l.common,issues:[]}},m=this._def.innerType._parse({data:p.data,path:p.path,parent:{...p}});return isAsync(m)?m.then(o=>({status:"valid",value:"valid"===o.status?o.value:this._def.catchValue({get error(){return new ZodError(p.common.issues)},input:p.data})})):{status:"valid",value:"valid"===m.status?m.value:this._def.catchValue({get error(){return new ZodError(p.common.issues)},input:p.data})}}removeCatch(){return this._def.innerType}}ZodCatch.create=(o,l)=>new ZodCatch({innerType:o,typeName:ZodFirstPartyTypeKind.ZodCatch,catchValue:"function"==typeof l.catch?l.catch:()=>l.catch,...processCreateParams(l)});class ZodNaN extends ZodType{_parse(o){if(this._getType(o)!==ZodParsedType.nan){const l=this._getOrReturnCtx(o);return addIssueToContext(l,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.nan,received:l.parsedType}),INVALID}return{status:"valid",value:o.data}}}ZodNaN.create=o=>new ZodNaN({typeName:ZodFirstPartyTypeKind.ZodNaN,...processCreateParams(o)});var BRAND=Symbol("zod_brand");class ZodBranded extends ZodType{_parse(o){const{ctx:l}=this._processInputParams(o),p=l.data;return this._def.type._parse({data:p,path:l.path,parent:l})}unwrap(){return this._def.type}}class ZodPipeline extends ZodType{_parse(o){const{status:l,ctx:p}=this._processInputParams(o);if(p.common.async){return(async()=>{const o=await this._def.in._parseAsync({data:p.data,path:p.path,parent:p});return"aborted"===o.status?INVALID:"dirty"===o.status?(l.dirty(),DIRTY(o.value)):this._def.out._parseAsync({data:o.value,path:p.path,parent:p})})()}{const o=this._def.in._parseSync({data:p.data,path:p.path,parent:p});return"aborted"===o.status?INVALID:"dirty"===o.status?(l.dirty(),{status:"dirty",value:o.value}):this._def.out._parseSync({data:o.value,path:p.path,parent:p})}}static create(o,l){return new ZodPipeline({in:o,out:l,typeName:ZodFirstPartyTypeKind.ZodPipeline})}}class ZodReadonly extends ZodType{_parse(o){const l=this._def.innerType._parse(o),freeze=o=>(isValid(o)&&(o.value=Object.freeze(o.value)),o);return isAsync(l)?l.then(o=>freeze(o)):freeze(l)}unwrap(){return this._def.innerType}}function cleanParams(o,l){const p="function"==typeof o?o(l):"string"==typeof o?{message:o}:o;return"string"==typeof p?{message:p}:p}function custom(o,l={},p){return o?ZodAny.create().superRefine((m,g)=>{const y=o(m);if(y instanceof Promise)return y.then(o=>{if(!o){const o=cleanParams(l,m),y=o.fatal??p??!0;g.addIssue({code:"custom",...o,fatal:y})}});if(!y){const o=cleanParams(l,m),y=o.fatal??p??!0;g.addIssue({code:"custom",...o,fatal:y})}}):ZodAny.create()}ZodReadonly.create=(o,l)=>new ZodReadonly({innerType:o,typeName:ZodFirstPartyTypeKind.ZodReadonly,...processCreateParams(l)});var late={object:ZodObject.lazycreate},ZodFirstPartyTypeKind,ZodFirstPartyTypeKind2;ZodFirstPartyTypeKind2=ZodFirstPartyTypeKind||(ZodFirstPartyTypeKind={}),ZodFirstPartyTypeKind2.ZodString="ZodString",ZodFirstPartyTypeKind2.ZodNumber="ZodNumber",ZodFirstPartyTypeKind2.ZodNaN="ZodNaN",ZodFirstPartyTypeKind2.ZodBigInt="ZodBigInt",ZodFirstPartyTypeKind2.ZodBoolean="ZodBoolean",ZodFirstPartyTypeKind2.ZodDate="ZodDate",ZodFirstPartyTypeKind2.ZodSymbol="ZodSymbol",ZodFirstPartyTypeKind2.ZodUndefined="ZodUndefined",ZodFirstPartyTypeKind2.ZodNull="ZodNull",ZodFirstPartyTypeKind2.ZodAny="ZodAny",ZodFirstPartyTypeKind2.ZodUnknown="ZodUnknown",ZodFirstPartyTypeKind2.ZodNever="ZodNever",ZodFirstPartyTypeKind2.ZodVoid="ZodVoid",ZodFirstPartyTypeKind2.ZodArray="ZodArray",ZodFirstPartyTypeKind2.ZodObject="ZodObject",ZodFirstPartyTypeKind2.ZodUnion="ZodUnion",ZodFirstPartyTypeKind2.ZodDiscriminatedUnion="ZodDiscriminatedUnion",ZodFirstPartyTypeKind2.ZodIntersection="ZodIntersection",ZodFirstPartyTypeKind2.ZodTuple="ZodTuple",ZodFirstPartyTypeKind2.ZodRecord="ZodRecord",ZodFirstPartyTypeKind2.ZodMap="ZodMap",ZodFirstPartyTypeKind2.ZodSet="ZodSet",ZodFirstPartyTypeKind2.ZodFunction="ZodFunction",ZodFirstPartyTypeKind2.ZodLazy="ZodLazy",ZodFirstPartyTypeKind2.ZodLiteral="ZodLiteral",ZodFirstPartyTypeKind2.ZodEnum="ZodEnum",ZodFirstPartyTypeKind2.ZodEffects="ZodEffects",ZodFirstPartyTypeKind2.ZodNativeEnum="ZodNativeEnum",ZodFirstPartyTypeKind2.ZodOptional="ZodOptional",ZodFirstPartyTypeKind2.ZodNullable="ZodNullable",ZodFirstPartyTypeKind2.ZodDefault="ZodDefault",ZodFirstPartyTypeKind2.ZodCatch="ZodCatch",ZodFirstPartyTypeKind2.ZodPromise="ZodPromise",ZodFirstPartyTypeKind2.ZodBranded="ZodBranded",ZodFirstPartyTypeKind2.ZodPipeline="ZodPipeline",ZodFirstPartyTypeKind2.ZodReadonly="ZodReadonly";var instanceOfType=(o,l={message:`Input not instance of ${o.name}`})=>custom(l=>l instanceof o,l),stringType=ZodString.create,numberType=ZodNumber.create,nanType=ZodNaN.create,bigIntType=ZodBigInt.create,booleanType=ZodBoolean.create,dateType=ZodDate.create,symbolType=ZodSymbol.create,undefinedType=ZodUndefined.create,nullType=ZodNull.create,anyType=ZodAny.create,unknownType=ZodUnknown.create,neverType=ZodNever.create,voidType=ZodVoid.create,arrayType=ZodArray.create,objectType=ZodObject.create,strictObjectType=ZodObject.strictCreate,unionType=ZodUnion.create,discriminatedUnionType=ZodDiscriminatedUnion.create,intersectionType=ZodIntersection.create,tupleType=ZodTuple.create,recordType=ZodRecord.create,mapType=ZodMap.create,setType=ZodSet.create,functionType=ZodFunction.create,lazyType=ZodLazy.create,literalType=ZodLiteral.create,enumType=ZodEnum.create,nativeEnumType=ZodNativeEnum.create,promiseType=ZodPromise.create,effectsType=ZodEffects.create,optionalType=ZodOptional.create,nullableType=ZodNullable.create,preprocessType=ZodEffects.createWithPreprocess,pipelineType=ZodPipeline.create,ostring=()=>stringType().optional(),onumber=()=>numberType().optional(),oboolean=()=>booleanType().optional(),coerce={string:o=>ZodString.create({...o,coerce:!0}),number:o=>ZodNumber.create({...o,coerce:!0}),boolean:o=>ZodBoolean.create({...o,coerce:!0}),bigint:o=>ZodBigInt.create({...o,coerce:!0}),date:o=>ZodDate.create({...o,coerce:!0})},NEVER=INVALID,LATEST_PROTOCOL_VERSION="2025-06-18",SUPPORTED_PROTOCOL_VERSIONS=[LATEST_PROTOCOL_VERSION,"2025-03-26","2024-11-05","2024-10-07"],JSONRPC_VERSION="2.0",ProgressTokenSchema=exports_external.union([exports_external.string(),exports_external.number().int()]),CursorSchema=exports_external.string(),RequestMetaSchema=exports_external.object({progressToken:exports_external.optional(ProgressTokenSchema)}).passthrough(),BaseRequestParamsSchema=exports_external.object({_meta:exports_external.optional(RequestMetaSchema)}).passthrough(),RequestSchema=exports_external.object({method:exports_external.string(),params:exports_external.optional(BaseRequestParamsSchema)}),BaseNotificationParamsSchema=exports_external.object({_meta:exports_external.optional(exports_external.object({}).passthrough())}).passthrough(),NotificationSchema=exports_external.object({method:exports_external.string(),params:exports_external.optional(BaseNotificationParamsSchema)}),ResultSchema=exports_external.object({_meta:exports_external.optional(exports_external.object({}).passthrough())}).passthrough(),RequestIdSchema=exports_external.union([exports_external.string(),exports_external.number().int()]),JSONRPCRequestSchema=exports_external.object({jsonrpc:exports_external.literal(JSONRPC_VERSION),id:RequestIdSchema}).merge(RequestSchema).strict(),isJSONRPCRequest=o=>JSONRPCRequestSchema.safeParse(o).success,JSONRPCNotificationSchema=exports_external.object({jsonrpc:exports_external.literal(JSONRPC_VERSION)}).merge(NotificationSchema).strict(),isJSONRPCNotification=o=>JSONRPCNotificationSchema.safeParse(o).success,JSONRPCResponseSchema=exports_external.object({jsonrpc:exports_external.literal(JSONRPC_VERSION),id:RequestIdSchema,result:ResultSchema}).strict(),isJSONRPCResponse=o=>JSONRPCResponseSchema.safeParse(o).success,ErrorCode,ErrorCode2;ErrorCode2=ErrorCode||(ErrorCode={}),ErrorCode2[ErrorCode2.ConnectionClosed=-32e3]="ConnectionClosed",ErrorCode2[ErrorCode2.RequestTimeout=-32001]="RequestTimeout",ErrorCode2[ErrorCode2.ParseError=-32700]="ParseError",ErrorCode2[ErrorCode2.InvalidRequest=-32600]="InvalidRequest",ErrorCode2[ErrorCode2.MethodNotFound=-32601]="MethodNotFound",ErrorCode2[ErrorCode2.InvalidParams=-32602]="InvalidParams",ErrorCode2[ErrorCode2.InternalError=-32603]="InternalError";var JSONRPCErrorSchema=exports_external.object({jsonrpc:exports_external.literal(JSONRPC_VERSION),id:RequestIdSchema,error:exports_external.object({code:exports_external.number().int(),message:exports_external.string(),data:exports_external.optional(exports_external.unknown())})}).strict(),isJSONRPCError=o=>JSONRPCErrorSchema.safeParse(o).success;exports_external.union([JSONRPCRequestSchema,JSONRPCNotificationSchema,JSONRPCResponseSchema,JSONRPCErrorSchema]);var EmptyResultSchema=ResultSchema.strict(),CancelledNotificationSchema=NotificationSchema.extend({method:exports_external.literal("notifications/cancelled"),params:BaseNotificationParamsSchema.extend({requestId:RequestIdSchema,reason:exports_external.string().optional()})}),BaseMetadataSchema=exports_external.object({name:exports_external.string(),title:exports_external.optional(exports_external.string())}).passthrough(),ImplementationSchema=BaseMetadataSchema.extend({version:exports_external.string()}),ClientCapabilitiesSchema=exports_external.object({experimental:exports_external.optional(exports_external.object({}).passthrough()),sampling:exports_external.optional(exports_external.object({}).passthrough()),elicitation:exports_external.optional(exports_external.object({}).passthrough()),roots:exports_external.optional(exports_external.object({listChanged:exports_external.optional(exports_external.boolean())}).passthrough())}).passthrough(),InitializeRequestSchema=RequestSchema.extend({method:exports_external.literal("initialize"),params:BaseRequestParamsSchema.extend({protocolVersion:exports_external.string(),capabilities:ClientCapabilitiesSchema,clientInfo:ImplementationSchema})}),ServerCapabilitiesSchema=exports_external.object({experimental:exports_external.optional(exports_external.object({}).passthrough()),logging:exports_external.optional(exports_external.object({}).passthrough()),completions:exports_external.optional(exports_external.object({}).passthrough()),prompts:exports_external.optional(exports_external.object({listChanged:exports_external.optional(exports_external.boolean())}).passthrough()),resources:exports_external.optional(exports_external.object({subscribe:exports_external.optional(exports_external.boolean()),listChanged:exports_external.optional(exports_external.boolean())}).passthrough()),tools:exports_external.optional(exports_external.object({listChanged:exports_external.optional(exports_external.boolean())}).passthrough())}).passthrough(),InitializeResultSchema=ResultSchema.extend({protocolVersion:exports_external.string(),capabilities:ServerCapabilitiesSchema,serverInfo:ImplementationSchema,instructions:exports_external.optional(exports_external.string())}),InitializedNotificationSchema=NotificationSchema.extend({method:exports_external.literal("notifications/initialized")}),PingRequestSchema=RequestSchema.extend({method:exports_external.literal("ping")}),ProgressSchema=exports_external.object({progress:exports_external.number(),total:exports_external.optional(exports_external.number()),message:exports_external.optional(exports_external.string())}).passthrough(),ProgressNotificationSchema=NotificationSchema.extend({method:exports_external.literal("notifications/progress"),params:BaseNotificationParamsSchema.merge(ProgressSchema).extend({progressToken:ProgressTokenSchema})}),PaginatedRequestSchema=RequestSchema.extend({params:BaseRequestParamsSchema.extend({cursor:exports_external.optional(CursorSchema)}).optional()}),PaginatedResultSchema=ResultSchema.extend({nextCursor:exports_external.optional(CursorSchema)}),ResourceContentsSchema=exports_external.object({uri:exports_external.string(),mimeType:exports_external.optional(exports_external.string()),_meta:exports_external.optional(exports_external.object({}).passthrough())}).passthrough(),TextResourceContentsSchema=ResourceContentsSchema.extend({text:exports_external.string()}),Base64Schema=exports_external.string().refine(o=>{try{return atob(o),!0}catch(o){return!1}},{message:"Invalid Base64 string"}),BlobResourceContentsSchema=ResourceContentsSchema.extend({blob:Base64Schema}),ResourceSchema=BaseMetadataSchema.extend({uri:exports_external.string(),description:exports_external.optional(exports_external.string()),mimeType:exports_external.optional(exports_external.string()),_meta:exports_external.optional(exports_external.object({}).passthrough())}),ResourceTemplateSchema=BaseMetadataSchema.extend({uriTemplate:exports_external.string(),description:exports_external.optional(exports_external.string()),mimeType:exports_external.optional(exports_external.string()),_meta:exports_external.optional(exports_external.object({}).passthrough())}),ListResourcesRequestSchema=PaginatedRequestSchema.extend({method:exports_external.literal("resources/list")}),ListResourcesResultSchema=PaginatedResultSchema.extend({resources:exports_external.array(ResourceSchema)}),ListResourceTemplatesRequestSchema=PaginatedRequestSchema.extend({method:exports_external.literal("resources/templates/list")}),ListResourceTemplatesResultSchema=PaginatedResultSchema.extend({resourceTemplates:exports_external.array(ResourceTemplateSchema)}),ReadResourceRequestSchema=RequestSchema.extend({method:exports_external.literal("resources/read"),params:BaseRequestParamsSchema.extend({uri:exports_external.string()})}),ReadResourceResultSchema=ResultSchema.extend({contents:exports_external.array(exports_external.union([TextResourceContentsSchema,BlobResourceContentsSchema]))}),ResourceListChangedNotificationSchema=NotificationSchema.extend({method:exports_external.literal("notifications/resources/list_changed")}),SubscribeRequestSchema=RequestSchema.extend({method:exports_external.literal("resources/subscribe"),params:BaseRequestParamsSchema.extend({uri:exports_external.string()})}),UnsubscribeRequestSchema=RequestSchema.extend({method:exports_external.literal("resources/unsubscribe"),params:BaseRequestParamsSchema.extend({uri:exports_external.string()})}),ResourceUpdatedNotificationSchema=NotificationSchema.extend({method:exports_external.literal("notifications/resources/updated"),params:BaseNotificationParamsSchema.extend({uri:exports_external.string()})}),PromptArgumentSchema=exports_external.object({name:exports_external.string(),description:exports_external.optional(exports_external.string()),required:exports_external.optional(exports_external.boolean())}).passthrough(),PromptSchema=BaseMetadataSchema.extend({description:exports_external.optional(exports_external.string()),arguments:exports_external.optional(exports_external.array(PromptArgumentSchema)),_meta:exports_external.optional(exports_external.object({}).passthrough())}),ListPromptsRequestSchema=PaginatedRequestSchema.extend({method:exports_external.literal("prompts/list")}),ListPromptsResultSchema=PaginatedResultSchema.extend({prompts:exports_external.array(PromptSchema)}),GetPromptRequestSchema=RequestSchema.extend({method:exports_external.literal("prompts/get"),params:BaseRequestParamsSchema.extend({name:exports_external.string(),arguments:exports_external.optional(exports_external.record(exports_external.string()))})}),TextContentSchema=exports_external.object({type:exports_external.literal("text"),text:exports_external.string(),_meta:exports_external.optional(exports_external.object({}).passthrough())}).passthrough(),ImageContentSchema=exports_external.object({type:exports_external.literal("image"),data:Base64Schema,mimeType:exports_external.string(),_meta:exports_external.optional(exports_external.object({}).passthrough())}).passthrough(),AudioContentSchema=exports_external.object({type:exports_external.literal("audio"),data:Base64Schema,mimeType:exports_external.string(),_meta:exports_external.optional(exports_external.object({}).passthrough())}).passthrough(),EmbeddedResourceSchema=exports_external.object({type:exports_external.literal("resource"),resource:exports_external.union([TextResourceContentsSchema,BlobResourceContentsSchema]),_meta:exports_external.optional(exports_external.object({}).passthrough())}).passthrough(),ResourceLinkSchema=ResourceSchema.extend({type:exports_external.literal("resource_link")}),ContentBlockSchema=exports_external.union([TextContentSchema,ImageContentSchema,AudioContentSchema,ResourceLinkSchema,EmbeddedResourceSchema]),PromptMessageSchema=exports_external.object({role:exports_external.enum(["user","assistant"]),content:ContentBlockSchema}).passthrough(),GetPromptResultSchema=ResultSchema.extend({description:exports_external.optional(exports_external.string()),messages:exports_external.array(PromptMessageSchema)}),PromptListChangedNotificationSchema=NotificationSchema.extend({method:exports_external.literal("notifications/prompts/list_changed")}),ToolAnnotationsSchema=exports_external.object({title:exports_external.optional(exports_external.string()),readOnlyHint:exports_external.optional(exports_external.boolean()),destructiveHint:exports_external.optional(exports_external.boolean()),idempotentHint:exports_external.optional(exports_external.boolean()),openWorldHint:exports_external.optional(exports_external.boolean())}).passthrough(),ToolSchema=BaseMetadataSchema.extend({description:exports_external.optional(exports_external.string()),inputSchema:exports_external.object({type:exports_external.literal("object"),properties:exports_external.optional(exports_external.object({}).passthrough()),required:exports_external.optional(exports_external.array(exports_external.string()))}).passthrough(),outputSchema:exports_external.optional(exports_external.object({type:exports_external.literal("object"),properties:exports_external.optional(exports_external.object({}).passthrough()),required:exports_external.optional(exports_external.array(exports_external.string()))}).passthrough()),annotations:exports_external.optional(ToolAnnotationsSchema),_meta:exports_external.optional(exports_external.object({}).passthrough())}),ListToolsRequestSchema=PaginatedRequestSchema.extend({method:exports_external.literal("tools/list")}),ListToolsResultSchema=PaginatedResultSchema.extend({tools:exports_external.array(ToolSchema)}),CallToolResultSchema=ResultSchema.extend({content:exports_external.array(ContentBlockSchema).default([]),structuredContent:exports_external.object({}).passthrough().optional(),isError:exports_external.optional(exports_external.boolean())});CallToolResultSchema.or(ResultSchema.extend({toolResult:exports_external.unknown()}));var CallToolRequestSchema=RequestSchema.extend({method:exports_external.literal("tools/call"),params:BaseRequestParamsSchema.extend({name:exports_external.string(),arguments:exports_external.optional(exports_external.record(exports_external.unknown()))})}),ToolListChangedNotificationSchema=NotificationSchema.extend({method:exports_external.literal("notifications/tools/list_changed")}),LoggingLevelSchema=exports_external.enum(["debug","info","notice","warning","error","critical","alert","emergency"]),SetLevelRequestSchema=RequestSchema.extend({method:exports_external.literal("logging/setLevel"),params:BaseRequestParamsSchema.extend({level:LoggingLevelSchema})}),LoggingMessageNotificationSchema=NotificationSchema.extend({method:exports_external.literal("notifications/message"),params:BaseNotificationParamsSchema.extend({level:LoggingLevelSchema,logger:exports_external.optional(exports_external.string()),data:exports_external.unknown()})}),ModelHintSchema=exports_external.object({name:exports_external.string().optional()}).passthrough(),ModelPreferencesSchema=exports_external.object({hints:exports_external.optional(exports_external.array(ModelHintSchema)),costPriority:exports_external.optional(exports_external.number().min(0).max(1)),speedPriority:exports_external.optional(exports_external.number().min(0).max(1)),intelligencePriority:exports_external.optional(exports_external.number().min(0).max(1))}).passthrough(),SamplingMessageSchema=exports_external.object({role:exports_external.enum(["user","assistant"]),content:exports_external.union([TextContentSchema,ImageContentSchema,AudioContentSchema])}).passthrough(),CreateMessageRequestSchema=RequestSchema.extend({method:exports_external.literal("sampling/createMessage"),params:BaseRequestParamsSchema.extend({messages:exports_external.array(SamplingMessageSchema),systemPrompt:exports_external.optional(exports_external.string()),includeContext:exports_external.optional(exports_external.enum(["none","thisServer","allServers"])),temperature:exports_external.optional(exports_external.number()),maxTokens:exports_external.number().int(),stopSequences:exports_external.optional(exports_external.array(exports_external.string())),metadata:exports_external.optional(exports_external.object({}).passthrough()),modelPreferences:exports_external.optional(ModelPreferencesSchema)})}),CreateMessageResultSchema=ResultSchema.extend({model:exports_external.string(),stopReason:exports_external.optional(exports_external.enum(["endTurn","stopSequence","maxTokens"]).or(exports_external.string())),role:exports_external.enum(["user","assistant"]),content:exports_external.discriminatedUnion("type",[TextContentSchema,ImageContentSchema,AudioContentSchema])}),BooleanSchemaSchema=exports_external.object({type:exports_external.literal("boolean"),title:exports_external.optional(exports_external.string()),description:exports_external.optional(exports_external.string()),default:exports_external.optional(exports_external.boolean())}).passthrough(),StringSchemaSchema=exports_external.object({type:exports_external.literal("string"),title:exports_external.optional(exports_external.string()),description:exports_external.optional(exports_external.string()),minLength:exports_external.optional(exports_external.number()),maxLength:exports_external.optional(exports_external.number()),format:exports_external.optional(exports_external.enum(["email","uri","date","date-time"]))}).passthrough(),NumberSchemaSchema=exports_external.object({type:exports_external.enum(["number","integer"]),title:exports_external.optional(exports_external.string()),description:exports_external.optional(exports_external.string()),minimum:exports_external.optional(exports_external.number()),maximum:exports_external.optional(exports_external.number())}).passthrough(),EnumSchemaSchema=exports_external.object({type:exports_external.literal("string"),title:exports_external.optional(exports_external.string()),description:exports_external.optional(exports_external.string()),enum:exports_external.array(exports_external.string()),enumNames:exports_external.optional(exports_external.array(exports_external.string()))}).passthrough(),PrimitiveSchemaDefinitionSchema=exports_external.union([BooleanSchemaSchema,StringSchemaSchema,NumberSchemaSchema,EnumSchemaSchema]),ElicitRequestSchema=RequestSchema.extend({method:exports_external.literal("elicitation/create"),params:BaseRequestParamsSchema.extend({message:exports_external.string(),requestedSchema:exports_external.object({type:exports_external.literal("object"),properties:exports_external.record(exports_external.string(),PrimitiveSchemaDefinitionSchema),required:exports_external.optional(exports_external.array(exports_external.string()))}).passthrough()})}),ElicitResultSchema=ResultSchema.extend({action:exports_external.enum(["accept","decline","cancel"]),content:exports_external.optional(exports_external.record(exports_external.string(),exports_external.unknown()))}),ResourceTemplateReferenceSchema=exports_external.object({type:exports_external.literal("ref/resource"),uri:exports_external.string()}).passthrough(),PromptReferenceSchema=exports_external.object({type:exports_external.literal("ref/prompt"),name:exports_external.string()}).passthrough(),CompleteRequestSchema=RequestSchema.extend({method:exports_external.literal("completion/complete"),params:BaseRequestParamsSchema.extend({ref:exports_external.union([PromptReferenceSchema,ResourceTemplateReferenceSchema]),argument:exports_external.object({name:exports_external.string(),value:exports_external.string()}).passthrough(),context:exports_external.optional(exports_external.object({arguments:exports_external.optional(exports_external.record(exports_external.string(),exports_external.string()))}))})}),CompleteResultSchema=ResultSchema.extend({completion:exports_external.object({values:exports_external.array(exports_external.string()).max(100),total:exports_external.optional(exports_external.number().int()),hasMore:exports_external.optional(exports_external.boolean())}).passthrough()}),RootSchema=exports_external.object({uri:exports_external.string().startsWith("file://"),name:exports_external.optional(exports_external.string()),_meta:exports_external.optional(exports_external.object({}).passthrough())}).passthrough(),ListRootsRequestSchema=RequestSchema.extend({method:exports_external.literal("roots/list")}),ListRootsResultSchema=ResultSchema.extend({roots:exports_external.array(RootSchema)}),RootsListChangedNotificationSchema=NotificationSchema.extend({method:exports_external.literal("notifications/roots/list_changed")});exports_external.union([PingRequestSchema,InitializeRequestSchema,CompleteRequestSchema,SetLevelRequestSchema,GetPromptRequestSchema,ListPromptsRequestSchema,ListResourcesRequestSchema,ListResourceTemplatesRequestSchema,ReadResourceRequestSchema,SubscribeRequestSchema,UnsubscribeRequestSchema,CallToolRequestSchema,ListToolsRequestSchema]),exports_external.union([CancelledNotificationSchema,ProgressNotificationSchema,InitializedNotificationSchema,RootsListChangedNotificationSchema]),exports_external.union([EmptyResultSchema,CreateMessageResultSchema,ElicitResultSchema,ListRootsResultSchema]),exports_external.union([PingRequestSchema,CreateMessageRequestSchema,ElicitRequestSchema,ListRootsRequestSchema]),exports_external.union([CancelledNotificationSchema,ProgressNotificationSchema,LoggingMessageNotificationSchema,ResourceUpdatedNotificationSchema,ResourceListChangedNotificationSchema,ToolListChangedNotificationSchema,PromptListChangedNotificationSchema]),exports_external.union([EmptyResultSchema,InitializeResultSchema,CompleteResultSchema,GetPromptResultSchema,ListPromptsResultSchema,ListResourcesResultSchema,ListResourceTemplatesResultSchema,ReadResourceResultSchema,CallToolResultSchema,ListToolsResultSchema]);class McpError extends Error{constructor(o,l,p){super(`MCP error ${o}: ${l}`),this.code=o,this.data=p,this.name="McpError"}}var DEFAULT_REQUEST_TIMEOUT_MSEC=6e4;class Protocol{constructor(o){this._options=o,this._requestMessageId=0,this._requestHandlers=new Map,this._requestHandlerAbortControllers=new Map,this._notificationHandlers=new Map,this._responseHandlers=new Map,this._progressHandlers=new Map,this._timeoutInfo=new Map,this._pendingDebouncedNotifications=new Set,this.setNotificationHandler(CancelledNotificationSchema,o=>{const l=this._requestHandlerAbortControllers.get(o.params.requestId);null==l||l.abort(o.params.reason)}),this.setNotificationHandler(ProgressNotificationSchema,o=>{this._onprogress(o)}),this.setRequestHandler(PingRequestSchema,o=>({}))}_setupTimeout(o,l,p,m,g=!1){this._timeoutInfo.set(o,{timeoutId:setTimeout(m,l),startTime:Date.now(),timeout:l,maxTotalTimeout:p,resetTimeoutOnProgress:g,onTimeout:m})}_resetTimeout(o){const l=this._timeoutInfo.get(o);if(!l)return!1;const p=Date.now()-l.startTime;if(l.maxTotalTimeout&&p>=l.maxTotalTimeout)throw this._timeoutInfo.delete(o),new McpError(ErrorCode.RequestTimeout,"Maximum total timeout exceeded",{maxTotalTimeout:l.maxTotalTimeout,totalElapsed:p});return clearTimeout(l.timeoutId),l.timeoutId=setTimeout(l.onTimeout,l.timeout),!0}_cleanupTimeout(o){const l=this._timeoutInfo.get(o);l&&(clearTimeout(l.timeoutId),this._timeoutInfo.delete(o))}async connect(o){var l,p,m;this._transport=o;const g=null===(l=this.transport)||void 0===l?void 0:l.onclose;this._transport.onclose=()=>{null==g||g(),this._onclose()};const y=null===(p=this.transport)||void 0===p?void 0:p.onerror;this._transport.onerror=o=>{null==y||y(o),this._onerror(o)};const _=null===(m=this._transport)||void 0===m?void 0:m.onmessage;this._transport.onmessage=(o,l)=>{null==_||_(o,l),isJSONRPCResponse(o)||isJSONRPCError(o)?this._onresponse(o):isJSONRPCRequest(o)?this._onrequest(o,l):isJSONRPCNotification(o)?this._onnotification(o):this._onerror(new Error(`Unknown message type: ${JSON.stringify(o)}`))},await this._transport.start()}_onclose(){var o;const l=this._responseHandlers;this._responseHandlers=new Map,this._progressHandlers.clear(),this._pendingDebouncedNotifications.clear(),this._transport=void 0,null===(o=this.onclose)||void 0===o||o.call(this);const p=new McpError(ErrorCode.ConnectionClosed,"Connection closed");for(const o of l.values())o(p)}_onerror(o){var l;null===(l=this.onerror)||void 0===l||l.call(this,o)}_onnotification(o){var l;const p=null!==(l=this._notificationHandlers.get(o.method))&&void 0!==l?l:this.fallbackNotificationHandler;void 0!==p&&Promise.resolve().then(()=>p(o)).catch(o=>this._onerror(new Error(`Uncaught error in notification handler: ${o}`)))}_onrequest(o,l){var p,m;const g=null!==(p=this._requestHandlers.get(o.method))&&void 0!==p?p:this.fallbackRequestHandler,y=this._transport;if(void 0===g)return void(null==y||y.send({jsonrpc:"2.0",id:o.id,error:{code:ErrorCode.MethodNotFound,message:"Method not found"}}).catch(o=>this._onerror(new Error(`Failed to send an error response: ${o}`))));const _=new AbortController;this._requestHandlerAbortControllers.set(o.id,_);const b={signal:_.signal,sessionId:null==y?void 0:y.sessionId,_meta:null===(m=o.params)||void 0===m?void 0:m._meta,sendNotification:l=>this.notification(l,{relatedRequestId:o.id}),sendRequest:(l,p,m)=>this.request(l,p,{...m,relatedRequestId:o.id}),authInfo:null==l?void 0:l.authInfo,requestId:o.id,requestInfo:null==l?void 0:l.requestInfo};Promise.resolve().then(()=>g(o,b)).then(l=>{if(!_.signal.aborted)return null==y?void 0:y.send({result:l,jsonrpc:"2.0",id:o.id})},l=>{var p;if(!_.signal.aborted)return null==y?void 0:y.send({jsonrpc:"2.0",id:o.id,error:{code:Number.isSafeInteger(l.code)?l.code:ErrorCode.InternalError,message:null!==(p=l.message)&&void 0!==p?p:"Internal error"}})}).catch(o=>this._onerror(new Error(`Failed to send response: ${o}`))).finally(()=>{this._requestHandlerAbortControllers.delete(o.id)})}_onprogress(o){const{progressToken:l,...p}=o.params,m=Number(l),g=this._progressHandlers.get(m);if(!g)return void this._onerror(new Error(`Received a progress notification for an unknown token: ${JSON.stringify(o)}`));const y=this._responseHandlers.get(m),_=this._timeoutInfo.get(m);if(_&&y&&_.resetTimeoutOnProgress)try{this._resetTimeout(m)}catch(o){return void y(o)}g(p)}_onresponse(o){const l=Number(o.id),p=this._responseHandlers.get(l);if(void 0!==p)if(this._responseHandlers.delete(l),this._progressHandlers.delete(l),this._cleanupTimeout(l),isJSONRPCResponse(o))p(o);else{p(new McpError(o.error.code,o.error.message,o.error.data))}else this._onerror(new Error(`Received a response for an unknown message ID: ${JSON.stringify(o)}`))}get transport(){return this._transport}async close(){var o;await(null===(o=this._transport)||void 0===o?void 0:o.close())}request(o,l,p){const{relatedRequestId:m,resumptionToken:g,onresumptiontoken:y}=null!=p?p:{};return new Promise((_,b)=>{var S,A,T,w,D,O;if(!this._transport)return void b(new Error("Not connected"));!0===(null===(S=this._options)||void 0===S?void 0:S.enforceStrictCapabilities)&&this.assertCapabilityForMethod(o.method),null===(A=null==p?void 0:p.signal)||void 0===A||A.throwIfAborted();const k=this._requestMessageId++,I={...o,jsonrpc:"2.0",id:k};(null==p?void 0:p.onprogress)&&(this._progressHandlers.set(k,p.onprogress),I.params={...o.params,_meta:{...(null===(T=o.params)||void 0===T?void 0:T._meta)||{},progressToken:k}});const cancel=o=>{var l;this._responseHandlers.delete(k),this._progressHandlers.delete(k),this._cleanupTimeout(k),null===(l=this._transport)||void 0===l||l.send({jsonrpc:"2.0",method:"notifications/cancelled",params:{requestId:k,reason:String(o)}},{relatedRequestId:m,resumptionToken:g,onresumptiontoken:y}).catch(o=>this._onerror(new Error(`Failed to send cancellation: ${o}`))),b(o)};this._responseHandlers.set(k,o=>{var m;if(!(null===(m=null==p?void 0:p.signal)||void 0===m?void 0:m.aborted)){if(o instanceof Error)return b(o);try{const p=l.parse(o.result);_(p)}catch(o){b(o)}}}),null===(w=null==p?void 0:p.signal)||void 0===w||w.addEventListener("abort",()=>{var o;cancel(null===(o=null==p?void 0:p.signal)||void 0===o?void 0:o.reason)});const N=null!==(D=null==p?void 0:p.timeout)&&void 0!==D?D:DEFAULT_REQUEST_TIMEOUT_MSEC;this._setupTimeout(k,N,null==p?void 0:p.maxTotalTimeout,()=>cancel(new McpError(ErrorCode.RequestTimeout,"Request timed out",{timeout:N})),null!==(O=null==p?void 0:p.resetTimeoutOnProgress)&&void 0!==O&&O),this._transport.send(I,{relatedRequestId:m,resumptionToken:g,onresumptiontoken:y}).catch(o=>{this._cleanupTimeout(k),b(o)})})}async notification(o,l){var p,m;if(!this._transport)throw new Error("Not connected");this.assertNotificationCapability(o.method);if((null!==(m=null===(p=this._options)||void 0===p?void 0:p.debouncedNotificationMethods)&&void 0!==m?m:[]).includes(o.method)&&!o.params&&!(null==l?void 0:l.relatedRequestId)){if(this._pendingDebouncedNotifications.has(o.method))return;return this._pendingDebouncedNotifications.add(o.method),void Promise.resolve().then(()=>{var p;if(this._pendingDebouncedNotifications.delete(o.method),!this._transport)return;const m={...o,jsonrpc:"2.0"};null===(p=this._transport)||void 0===p||p.send(m,l).catch(o=>this._onerror(o))})}const g={...o,jsonrpc:"2.0"};await this._transport.send(g,l)}setRequestHandler(o,l){const p=o.shape.method.value;this.assertRequestHandlerCapability(p),this._requestHandlers.set(p,(p,m)=>Promise.resolve(l(o.parse(p),m)))}removeRequestHandler(o){this._requestHandlers.delete(o)}assertCanSetRequestHandler(o){if(this._requestHandlers.has(o))throw new Error(`A request handler for ${o} already exists, which would be overridden`)}setNotificationHandler(o,l){this._notificationHandlers.set(o.shape.method.value,p=>Promise.resolve(l(o.parse(p))))}removeNotificationHandler(o){this._notificationHandlers.delete(o)}}function mergeCapabilities(o,l){return Object.entries(l).reduce((o,[l,p])=>(o[l]=p&&"object"==typeof p&&o[l]?{...o[l],...p}:p,o),{...o})}var import_ajv=__toESM(require_ajv());class Server extends Protocol{constructor(o,l){var p;super(l),this._serverInfo=o,this._capabilities=null!==(p=null==l?void 0:l.capabilities)&&void 0!==p?p:{},this._instructions=null==l?void 0:l.instructions,this.setRequestHandler(InitializeRequestSchema,o=>this._oninitialize(o)),this.setNotificationHandler(InitializedNotificationSchema,()=>{var o;return null===(o=this.oninitialized)||void 0===o?void 0:o.call(this)})}registerCapabilities(o){if(this.transport)throw new Error("Cannot register capabilities after connecting to transport");this._capabilities=mergeCapabilities(this._capabilities,o)}assertCapabilityForMethod(o){var l,p,m;switch(o){case"sampling/createMessage":if(!(null===(l=this._clientCapabilities)||void 0===l?void 0:l.sampling))throw new Error(`Client does not support sampling (required for ${o})`);break;case"elicitation/create":if(!(null===(p=this._clientCapabilities)||void 0===p?void 0:p.elicitation))throw new Error(`Client does not support elicitation (required for ${o})`);break;case"roots/list":if(!(null===(m=this._clientCapabilities)||void 0===m?void 0:m.roots))throw new Error(`Client does not support listing roots (required for ${o})`)}}assertNotificationCapability(o){switch(o){case"notifications/message":if(!this._capabilities.logging)throw new Error(`Server does not support logging (required for ${o})`);break;case"notifications/resources/updated":case"notifications/resources/list_changed":if(!this._capabilities.resources)throw new Error(`Server does not support notifying about resources (required for ${o})`);break;case"notifications/tools/list_changed":if(!this._capabilities.tools)throw new Error(`Server does not support notifying of tool list changes (required for ${o})`);break;case"notifications/prompts/list_changed":if(!this._capabilities.prompts)throw new Error(`Server does not support notifying of prompt list changes (required for ${o})`)}}assertRequestHandlerCapability(o){switch(o){case"sampling/createMessage":if(!this._capabilities.sampling)throw new Error(`Server does not support sampling (required for ${o})`);break;case"logging/setLevel":if(!this._capabilities.logging)throw new Error(`Server does not support logging (required for ${o})`);break;case"prompts/get":case"prompts/list":if(!this._capabilities.prompts)throw new Error(`Server does not support prompts (required for ${o})`);break;case"resources/list":case"resources/templates/list":case"resources/read":if(!this._capabilities.resources)throw new Error(`Server does not support resources (required for ${o})`);break;case"tools/call":case"tools/list":if(!this._capabilities.tools)throw new Error(`Server does not support tools (required for ${o})`)}}async _oninitialize(o){const l=o.params.protocolVersion;this._clientCapabilities=o.params.capabilities,this._clientVersion=o.params.clientInfo;return{protocolVersion:SUPPORTED_PROTOCOL_VERSIONS.includes(l)?l:LATEST_PROTOCOL_VERSION,capabilities:this.getCapabilities(),serverInfo:this._serverInfo,...this._instructions&&{instructions:this._instructions}}}getClientCapabilities(){return this._clientCapabilities}getClientVersion(){return this._clientVersion}getCapabilities(){return this._capabilities}async ping(){return this.request({method:"ping"},EmptyResultSchema)}async createMessage(o,l){return this.request({method:"sampling/createMessage",params:o},CreateMessageResultSchema,l)}async elicitInput(o,l){const p=await this.request({method:"elicitation/create",params:o},ElicitResultSchema,l);if("accept"===p.action&&p.content)try{const l=new import_ajv.default,m=l.compile(o.requestedSchema);if(!m(p.content))throw new McpError(ErrorCode.InvalidParams,`Elicitation response content does not match requested schema: ${l.errorsText(m.errors)}`)}catch(o){if(o instanceof McpError)throw o;throw new McpError(ErrorCode.InternalError,`Error validating elicitation response: ${o}`)}return p}async listRoots(o,l){return this.request({method:"roots/list",params:o},ListRootsResultSchema,l)}async sendLoggingMessage(o){return this.notification({method:"notifications/message",params:o})}async sendResourceUpdated(o){return this.notification({method:"notifications/resources/updated",params:o})}async sendResourceListChanged(){return this.notification({method:"notifications/resources/list_changed"})}async sendToolListChanged(){return this.notification({method:"notifications/tools/list_changed"})}async sendPromptListChanged(){return this.notification({method:"notifications/prompts/list_changed"})}}var ignoreOverride=Symbol("Let zodToJsonSchema decide on which parser to use"),defaultOptions={name:void 0,$refStrategy:"root",basePath:["#"],effectStrategy:"input",pipeStrategy:"all",dateStrategy:"format:date-time",mapStrategy:"entries",removeAdditionalStrategy:"passthrough",allowedAdditionalProperties:!0,rejectedAdditionalProperties:!1,definitionPath:"definitions",target:"jsonSchema7",strictUnions:!1,definitions:{},errorMessages:!1,markdownDescription:!1,patternStrategy:"escape",applyRegexFlags:!1,emailStrategy:"format:email",base64Strategy:"contentEncoding:base64",nameStrategy:"ref"},getDefaultOptions=o=>"string"==typeof o?{...defaultOptions,name:o}:{...defaultOptions,...o},getRefs=o=>{const l=getDefaultOptions(o),p=void 0!==l.name?[...l.basePath,l.definitionPath,l.name]:l.basePath;return{...l,currentPath:p,propertyPath:void 0,seen:new Map(Object.entries(l.definitions).map(([o,p])=>[p._def,{def:p._def,path:[...l.basePath,l.definitionPath,o],jsonSchema:void 0}]))}};function addErrorMessage(o,l,p,m){m?.errorMessages&&p&&(o.errorMessage={...o.errorMessage,[l]:p})}function setResponseValueAndErrors(o,l,p,m,g){o[l]=p,addErrorMessage(o,l,m,g)}function parseAnyDef(){return{}}function parseArrayDef(o,l){const p={type:"array"};return o.type?._def&&o.type?._def?.typeName!==ZodFirstPartyTypeKind.ZodAny&&(p.items=parseDef(o.type._def,{...l,currentPath:[...l.currentPath,"items"]})),o.minLength&&setResponseValueAndErrors(p,"minItems",o.minLength.value,o.minLength.message,l),o.maxLength&&setResponseValueAndErrors(p,"maxItems",o.maxLength.value,o.maxLength.message,l),o.exactLength&&(setResponseValueAndErrors(p,"minItems",o.exactLength.value,o.exactLength.message,l),setResponseValueAndErrors(p,"maxItems",o.exactLength.value,o.exactLength.message,l)),p}function parseBigintDef(o,l){const p={type:"integer",format:"int64"};if(!o.checks)return p;for(const m of o.checks)switch(m.kind){case"min":"jsonSchema7"===l.target?m.inclusive?setResponseValueAndErrors(p,"minimum",m.value,m.message,l):setResponseValueAndErrors(p,"exclusiveMinimum",m.value,m.message,l):(m.inclusive||(p.exclusiveMinimum=!0),setResponseValueAndErrors(p,"minimum",m.value,m.message,l));break;case"max":"jsonSchema7"===l.target?m.inclusive?setResponseValueAndErrors(p,"maximum",m.value,m.message,l):setResponseValueAndErrors(p,"exclusiveMaximum",m.value,m.message,l):(m.inclusive||(p.exclusiveMaximum=!0),setResponseValueAndErrors(p,"maximum",m.value,m.message,l));break;case"multipleOf":setResponseValueAndErrors(p,"multipleOf",m.value,m.message,l)}return p}function parseBooleanDef(){return{type:"boolean"}}function parseBrandedDef(o,l){return parseDef(o.type._def,l)}var parseCatchDef=(o,l)=>parseDef(o.innerType._def,l);function parseDateDef(o,l,p){const m=p??l.dateStrategy;if(Array.isArray(m))return{anyOf:m.map((p,m)=>parseDateDef(o,l,p))};switch(m){case"string":case"format:date-time":return{type:"string",format:"date-time"};case"format:date":return{type:"string",format:"date"};case"integer":return integerDateParser(o,l)}}var integerDateParser=(o,l)=>{const p={type:"integer",format:"unix-time"};if("openApi3"===l.target)return p;for(const m of o.checks)switch(m.kind){case"min":setResponseValueAndErrors(p,"minimum",m.value,m.message,l);break;case"max":setResponseValueAndErrors(p,"maximum",m.value,m.message,l)}return p};function parseDefaultDef(o,l){return{...parseDef(o.innerType._def,l),default:o.defaultValue()}}function parseEffectsDef(o,l){return"input"===l.effectStrategy?parseDef(o.schema._def,l):{}}function parseEnumDef(o){return{type:"string",enum:Array.from(o.values)}}var isJsonSchema7AllOfType=o=>(!("type"in o)||"string"!==o.type)&&"allOf"in o;function parseIntersectionDef(o,l){const p=[parseDef(o.left._def,{...l,currentPath:[...l.currentPath,"allOf","0"]}),parseDef(o.right._def,{...l,currentPath:[...l.currentPath,"allOf","1"]})].filter(o=>!!o);let m="jsonSchema2019-09"===l.target?{unevaluatedProperties:!1}:void 0;const g=[];return p.forEach(o=>{if(isJsonSchema7AllOfType(o))g.push(...o.allOf),void 0===o.unevaluatedProperties&&(m=void 0);else{let l=o;if("additionalProperties"in o&&!1===o.additionalProperties){const{additionalProperties:p,...m}=o;l=m}else m=void 0;g.push(l)}}),g.length?{allOf:g,...m}:void 0}function parseLiteralDef(o,l){const p=typeof o.value;return"bigint"!==p&&"number"!==p&&"boolean"!==p&&"string"!==p?{type:Array.isArray(o.value)?"array":"object"}:"openApi3"===l.target?{type:"bigint"===p?"integer":p,enum:[o.value]}:{type:"bigint"===p?"integer":p,const:o.value}}var emojiRegex2=void 0,zodPatterns={cuid:/^[cC][^\s-]{8,}$/,cuid2:/^[0-9a-z]+$/,ulid:/^[0-9A-HJKMNP-TV-Z]{26}$/,email:/^(?!\.)(?!.*\.\.)([a-zA-Z0-9_'+\-\.]*)[a-zA-Z0-9_+-]@([a-zA-Z0-9][a-zA-Z0-9\-]*\.)+[a-zA-Z]{2,}$/,emoji:()=>(void 0===emojiRegex2&&(emojiRegex2=RegExp("^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$","u")),emojiRegex2),uuid:/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/,ipv4:/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,ipv4Cidr:/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,ipv6:/^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$/,ipv6Cidr:/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,base64:/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,base64url:/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,nanoid:/^[a-zA-Z0-9_-]{21}$/,jwt:/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/};function parseStringDef(o,l){const p={type:"string"};if(o.checks)for(const m of o.checks)switch(m.kind){case"min":setResponseValueAndErrors(p,"minLength","number"==typeof p.minLength?Math.max(p.minLength,m.value):m.value,m.message,l);break;case"max":setResponseValueAndErrors(p,"maxLength","number"==typeof p.maxLength?Math.min(p.maxLength,m.value):m.value,m.message,l);break;case"email":switch(l.emailStrategy){case"format:email":addFormat(p,"email",m.message,l);break;case"format:idn-email":addFormat(p,"idn-email",m.message,l);break;case"pattern:zod":addPattern(p,zodPatterns.email,m.message,l)}break;case"url":addFormat(p,"uri",m.message,l);break;case"uuid":addFormat(p,"uuid",m.message,l);break;case"regex":addPattern(p,m.regex,m.message,l);break;case"cuid":addPattern(p,zodPatterns.cuid,m.message,l);break;case"cuid2":addPattern(p,zodPatterns.cuid2,m.message,l);break;case"startsWith":addPattern(p,RegExp(`^${escapeLiteralCheckValue(m.value,l)}`),m.message,l);break;case"endsWith":addPattern(p,RegExp(`${escapeLiteralCheckValue(m.value,l)}$`),m.message,l);break;case"datetime":addFormat(p,"date-time",m.message,l);break;case"date":addFormat(p,"date",m.message,l);break;case"time":addFormat(p,"time",m.message,l);break;case"duration":addFormat(p,"duration",m.message,l);break;case"length":setResponseValueAndErrors(p,"minLength","number"==typeof p.minLength?Math.max(p.minLength,m.value):m.value,m.message,l),setResponseValueAndErrors(p,"maxLength","number"==typeof p.maxLength?Math.min(p.maxLength,m.value):m.value,m.message,l);break;case"includes":addPattern(p,RegExp(escapeLiteralCheckValue(m.value,l)),m.message,l);break;case"ip":"v6"!==m.version&&addFormat(p,"ipv4",m.message,l),"v4"!==m.version&&addFormat(p,"ipv6",m.message,l);break;case"base64url":addPattern(p,zodPatterns.base64url,m.message,l);break;case"jwt":addPattern(p,zodPatterns.jwt,m.message,l);break;case"cidr":"v6"!==m.version&&addPattern(p,zodPatterns.ipv4Cidr,m.message,l),"v4"!==m.version&&addPattern(p,zodPatterns.ipv6Cidr,m.message,l);break;case"emoji":addPattern(p,zodPatterns.emoji(),m.message,l);break;case"ulid":addPattern(p,zodPatterns.ulid,m.message,l);break;case"base64":switch(l.base64Strategy){case"format:binary":addFormat(p,"binary",m.message,l);break;case"contentEncoding:base64":setResponseValueAndErrors(p,"contentEncoding","base64",m.message,l);break;case"pattern:zod":addPattern(p,zodPatterns.base64,m.message,l)}break;case"nanoid":addPattern(p,zodPatterns.nanoid,m.message,l)}return p}function escapeLiteralCheckValue(o,l){return"escape"===l.patternStrategy?escapeNonAlphaNumeric(o):o}var ALPHA_NUMERIC=new Set("ABCDEFGHIJKLMNOPQRSTUVXYZabcdefghijklmnopqrstuvxyz0123456789");function escapeNonAlphaNumeric(o){let l="";for(let p=0;p<o.length;p++)ALPHA_NUMERIC.has(o[p])||(l+="\\"),l+=o[p];return l}function addFormat(o,l,p,m){o.format||o.anyOf?.some(o=>o.format)?(o.anyOf||(o.anyOf=[]),o.format&&(o.anyOf.push({format:o.format,...o.errorMessage&&m.errorMessages&&{errorMessage:{format:o.errorMessage.format}}}),delete o.format,o.errorMessage&&(delete o.errorMessage.format,0===Object.keys(o.errorMessage).length&&delete o.errorMessage)),o.anyOf.push({format:l,...p&&m.errorMessages&&{errorMessage:{format:p}}})):setResponseValueAndErrors(o,"format",l,p,m)}function addPattern(o,l,p,m){o.pattern||o.allOf?.some(o=>o.pattern)?(o.allOf||(o.allOf=[]),o.pattern&&(o.allOf.push({pattern:o.pattern,...o.errorMessage&&m.errorMessages&&{errorMessage:{pattern:o.errorMessage.pattern}}}),delete o.pattern,o.errorMessage&&(delete o.errorMessage.pattern,0===Object.keys(o.errorMessage).length&&delete o.errorMessage)),o.allOf.push({pattern:stringifyRegExpWithFlags(l,m),...p&&m.errorMessages&&{errorMessage:{pattern:p}}})):setResponseValueAndErrors(o,"pattern",stringifyRegExpWithFlags(l,m),p,m)}function stringifyRegExpWithFlags(o,l){if(!l.applyRegexFlags||!o.flags)return o.source;const p=o.flags.includes("i"),m=o.flags.includes("m"),g=o.flags.includes("s"),y=p?o.source.toLowerCase():o.source;let _="",b=!1,S=!1,A=!1;for(let o=0;o<y.length;o++)if(b)_+=y[o],b=!1;else{if(p)if(S){if(y[o].match(/[a-z]/)){A?(_+=y[o],_+=`${y[o-2]}-${y[o]}`.toUpperCase(),A=!1):"-"===y[o+1]&&y[o+2]?.match(/[a-z]/)?(_+=y[o],A=!0):_+=`${y[o]}${y[o].toUpperCase()}`;continue}}else if(y[o].match(/[a-z]/)){_+=`[${y[o]}${y[o].toUpperCase()}]`;continue}if(m){if("^"===y[o]){_+="(^|(?<=[\r\n]))";continue}if("$"===y[o]){_+="($|(?=[\r\n]))";continue}}g&&"."===y[o]?_+=S?`${y[o]}\r\n`:`[${y[o]}\r\n]`:(_+=y[o],"\\"===y[o]?b=!0:S&&"]"===y[o]?S=!1:S||"["!==y[o]||(S=!0))}try{new RegExp(_)}catch{return console.warn(`Could not convert regex pattern at ${l.currentPath.join("/")} to a flag-independent form! Falling back to the flag-ignorant source`),o.source}return _}function parseRecordDef(o,l){if("openAi"===l.target&&console.warn("Warning: OpenAI may not support records in schemas! Try an array of key-value pairs instead."),"openApi3"===l.target&&o.keyType?._def.typeName===ZodFirstPartyTypeKind.ZodEnum)return{type:"object",required:o.keyType._def.values,properties:o.keyType._def.values.reduce((p,m)=>({...p,[m]:parseDef(o.valueType._def,{...l,currentPath:[...l.currentPath,"properties",m]})??{}}),{}),additionalProperties:l.rejectedAdditionalProperties};const p={type:"object",additionalProperties:parseDef(o.valueType._def,{...l,currentPath:[...l.currentPath,"additionalProperties"]})??l.allowedAdditionalProperties};if("openApi3"===l.target)return p;if(o.keyType?._def.typeName===ZodFirstPartyTypeKind.ZodString&&o.keyType._def.checks?.length){const{type:m,...g}=parseStringDef(o.keyType._def,l);return{...p,propertyNames:g}}if(o.keyType?._def.typeName===ZodFirstPartyTypeKind.ZodEnum)return{...p,propertyNames:{enum:o.keyType._def.values}};if(o.keyType?._def.typeName===ZodFirstPartyTypeKind.ZodBranded&&o.keyType._def.type._def.typeName===ZodFirstPartyTypeKind.ZodString&&o.keyType._def.type._def.checks?.length){const{type:m,...g}=parseBrandedDef(o.keyType._def,l);return{...p,propertyNames:g}}return p}function parseMapDef(o,l){if("record"===l.mapStrategy)return parseRecordDef(o,l);return{type:"array",maxItems:125,items:{type:"array",items:[parseDef(o.keyType._def,{...l,currentPath:[...l.currentPath,"items","items","0"]})||{},parseDef(o.valueType._def,{...l,currentPath:[...l.currentPath,"items","items","1"]})||{}],minItems:2,maxItems:2}}}function parseNativeEnumDef(o){const l=o.values,p=Object.keys(o.values).filter(o=>"number"!=typeof l[l[o]]),m=p.map(o=>l[o]),g=Array.from(new Set(m.map(o=>typeof o)));return{type:1===g.length?"string"===g[0]?"string":"number":["string","number"],enum:m}}function parseNeverDef(){return{not:{}}}function parseNullDef(o){return"openApi3"===o.target?{enum:["null"],nullable:!0}:{type:"null"}}var primitiveMappings={ZodString:"string",ZodNumber:"number",ZodBigInt:"integer",ZodBoolean:"boolean",ZodNull:"null"};function parseUnionDef(o,l){if("openApi3"===l.target)return asAnyOf(o,l);const p=o.options instanceof Map?Array.from(o.options.values()):o.options;if(p.every(o=>o._def.typeName in primitiveMappings&&(!o._def.checks||!o._def.checks.length))){const o=p.reduce((o,l)=>{const p=primitiveMappings[l._def.typeName];return p&&!o.includes(p)?[...o,p]:o},[]);return{type:o.length>1?o:o[0]}}if(p.every(o=>"ZodLiteral"===o._def.typeName&&!o.description)){const o=p.reduce((o,l)=>{const p=typeof l._def.value;switch(p){case"string":case"number":case"boolean":return[...o,p];case"bigint":return[...o,"integer"];case"object":if(null===l._def.value)return[...o,"null"];default:return o}},[]);if(o.length===p.length){const l=o.filter((o,l,p)=>p.indexOf(o)===l);return{type:l.length>1?l:l[0],enum:p.reduce((o,l)=>o.includes(l._def.value)?o:[...o,l._def.value],[])}}}else if(p.every(o=>"ZodEnum"===o._def.typeName))return{type:"string",enum:p.reduce((o,l)=>[...o,...l._def.values.filter(l=>!o.includes(l))],[])};return asAnyOf(o,l)}var asAnyOf=(o,l)=>{const p=(o.options instanceof Map?Array.from(o.options.values()):o.options).map((o,p)=>parseDef(o._def,{...l,currentPath:[...l.currentPath,"anyOf",`${p}`]})).filter(o=>!!o&&(!l.strictUnions||"object"==typeof o&&Object.keys(o).length>0));return p.length?{anyOf:p}:void 0};function parseNullableDef(o,l){if(["ZodString","ZodNumber","ZodBigInt","ZodBoolean","ZodNull"].includes(o.innerType._def.typeName)&&(!o.innerType._def.checks||!o.innerType._def.checks.length))return"openApi3"===l.target?{type:primitiveMappings[o.innerType._def.typeName],nullable:!0}:{type:[primitiveMappings[o.innerType._def.typeName],"null"]};if("openApi3"===l.target){const p=parseDef(o.innerType._def,{...l,currentPath:[...l.currentPath]});return p&&"$ref"in p?{allOf:[p],nullable:!0}:p&&{...p,nullable:!0}}const p=parseDef(o.innerType._def,{...l,currentPath:[...l.currentPath,"anyOf","0"]});return p&&{anyOf:[p,{type:"null"}]}}function parseNumberDef(o,l){const p={type:"number"};if(!o.checks)return p;for(const m of o.checks)switch(m.kind){case"int":p.type="integer",addErrorMessage(p,"type",m.message,l);break;case"min":"jsonSchema7"===l.target?m.inclusive?setResponseValueAndErrors(p,"minimum",m.value,m.message,l):setResponseValueAndErrors(p,"exclusiveMinimum",m.value,m.message,l):(m.inclusive||(p.exclusiveMinimum=!0),setResponseValueAndErrors(p,"minimum",m.value,m.message,l));break;case"max":"jsonSchema7"===l.target?m.inclusive?setResponseValueAndErrors(p,"maximum",m.value,m.message,l):setResponseValueAndErrors(p,"exclusiveMaximum",m.value,m.message,l):(m.inclusive||(p.exclusiveMaximum=!0),setResponseValueAndErrors(p,"maximum",m.value,m.message,l));break;case"multipleOf":setResponseValueAndErrors(p,"multipleOf",m.value,m.message,l)}return p}function parseObjectDef(o,l){const p="openAi"===l.target,m={type:"object",properties:{}},g=[],y=o.shape();for(const o in y){let _=y[o];if(void 0===_||void 0===_._def)continue;let b=safeIsOptional(_);b&&p&&(_ instanceof ZodOptional&&(_=_._def.innerType),_.isNullable()||(_=_.nullable()),b=!1);const S=parseDef(_._def,{...l,currentPath:[...l.currentPath,"properties",o],propertyPath:[...l.currentPath,"properties",o]});void 0!==S&&(m.properties[o]=S,b||g.push(o))}g.length&&(m.required=g);const _=decideAdditionalProperties(o,l);return void 0!==_&&(m.additionalProperties=_),m}function decideAdditionalProperties(o,l){if("ZodNever"!==o.catchall._def.typeName)return parseDef(o.catchall._def,{...l,currentPath:[...l.currentPath,"additionalProperties"]});switch(o.unknownKeys){case"passthrough":return l.allowedAdditionalProperties;case"strict":return l.rejectedAdditionalProperties;case"strip":return"strict"===l.removeAdditionalStrategy?l.allowedAdditionalProperties:l.rejectedAdditionalProperties}}function safeIsOptional(o){try{return o.isOptional()}catch{return!0}}var parseOptionalDef=(o,l)=>{if(l.currentPath.toString()===l.propertyPath?.toString())return parseDef(o.innerType._def,l);const p=parseDef(o.innerType._def,{...l,currentPath:[...l.currentPath,"anyOf","1"]});return p?{anyOf:[{not:{}},p]}:{}},parsePipelineDef=(o,l)=>{if("input"===l.pipeStrategy)return parseDef(o.in._def,l);if("output"===l.pipeStrategy)return parseDef(o.out._def,l);const p=parseDef(o.in._def,{...l,currentPath:[...l.currentPath,"allOf","0"]});return{allOf:[p,parseDef(o.out._def,{...l,currentPath:[...l.currentPath,"allOf",p?"1":"0"]})].filter(o=>void 0!==o)}};function parsePromiseDef(o,l){return parseDef(o.type._def,l)}function parseSetDef(o,l){const p={type:"array",uniqueItems:!0,items:parseDef(o.valueType._def,{...l,currentPath:[...l.currentPath,"items"]})};return o.minSize&&setResponseValueAndErrors(p,"minItems",o.minSize.value,o.minSize.message,l),o.maxSize&&setResponseValueAndErrors(p,"maxItems",o.maxSize.value,o.maxSize.message,l),p}function parseTupleDef(o,l){return o.rest?{type:"array",minItems:o.items.length,items:o.items.map((o,p)=>parseDef(o._def,{...l,currentPath:[...l.currentPath,"items",`${p}`]})).reduce((o,l)=>void 0===l?o:[...o,l],[]),additionalItems:parseDef(o.rest._def,{...l,currentPath:[...l.currentPath,"additionalItems"]})}:{type:"array",minItems:o.items.length,maxItems:o.items.length,items:o.items.map((o,p)=>parseDef(o._def,{...l,currentPath:[...l.currentPath,"items",`${p}`]})).reduce((o,l)=>void 0===l?o:[...o,l],[])}}function parseUndefinedDef(){return{not:{}}}function parseUnknownDef(){return{}}var parseReadonlyDef=(o,l)=>parseDef(o.innerType._def,l),selectParser=(o,l,p)=>{switch(l){case ZodFirstPartyTypeKind.ZodString:return parseStringDef(o,p);case ZodFirstPartyTypeKind.ZodNumber:return parseNumberDef(o,p);case ZodFirstPartyTypeKind.ZodObject:return parseObjectDef(o,p);case ZodFirstPartyTypeKind.ZodBigInt:return parseBigintDef(o,p);case ZodFirstPartyTypeKind.ZodBoolean:return parseBooleanDef();case ZodFirstPartyTypeKind.ZodDate:return parseDateDef(o,p);case ZodFirstPartyTypeKind.ZodUndefined:return parseUndefinedDef();case ZodFirstPartyTypeKind.ZodNull:return parseNullDef(p);case ZodFirstPartyTypeKind.ZodArray:return parseArrayDef(o,p);case ZodFirstPartyTypeKind.ZodUnion:case ZodFirstPartyTypeKind.ZodDiscriminatedUnion:return parseUnionDef(o,p);case ZodFirstPartyTypeKind.ZodIntersection:return parseIntersectionDef(o,p);case ZodFirstPartyTypeKind.ZodTuple:return parseTupleDef(o,p);case ZodFirstPartyTypeKind.ZodRecord:return parseRecordDef(o,p);case ZodFirstPartyTypeKind.ZodLiteral:return parseLiteralDef(o,p);case ZodFirstPartyTypeKind.ZodEnum:return parseEnumDef(o);case ZodFirstPartyTypeKind.ZodNativeEnum:return parseNativeEnumDef(o);case ZodFirstPartyTypeKind.ZodNullable:return parseNullableDef(o,p);case ZodFirstPartyTypeKind.ZodOptional:return parseOptionalDef(o,p);case ZodFirstPartyTypeKind.ZodMap:return parseMapDef(o,p);case ZodFirstPartyTypeKind.ZodSet:return parseSetDef(o,p);case ZodFirstPartyTypeKind.ZodLazy:return()=>o.getter()._def;case ZodFirstPartyTypeKind.ZodPromise:return parsePromiseDef(o,p);case ZodFirstPartyTypeKind.ZodNaN:case ZodFirstPartyTypeKind.ZodNever:return parseNeverDef();case ZodFirstPartyTypeKind.ZodEffects:return parseEffectsDef(o,p);case ZodFirstPartyTypeKind.ZodAny:return parseAnyDef();case ZodFirstPartyTypeKind.ZodUnknown:return parseUnknownDef();case ZodFirstPartyTypeKind.ZodDefault:return parseDefaultDef(o,p);case ZodFirstPartyTypeKind.ZodBranded:return parseBrandedDef(o,p);case ZodFirstPartyTypeKind.ZodReadonly:return parseReadonlyDef(o,p);case ZodFirstPartyTypeKind.ZodCatch:return parseCatchDef(o,p);case ZodFirstPartyTypeKind.ZodPipeline:return parsePipelineDef(o,p);case ZodFirstPartyTypeKind.ZodFunction:case ZodFirstPartyTypeKind.ZodVoid:case ZodFirstPartyTypeKind.ZodSymbol:default:return}};function parseDef(o,l,p=!1){const m=l.seen.get(o);if(l.override){const g=l.override?.(o,l,m,p);if(g!==ignoreOverride)return g}if(m&&!p){const o=get$ref(m,l);if(void 0!==o)return o}const g={def:o,path:l.currentPath,jsonSchema:void 0};l.seen.set(o,g);const y=selectParser(o,o.typeName,l),_="function"==typeof y?parseDef(y(),l):y;if(_&&addMeta(o,l,_),l.postProcess){const p=l.postProcess(_,o,l);return g.jsonSchema=_,p}return g.jsonSchema=_,_}var get$ref=(o,l)=>{switch(l.$refStrategy){case"root":return{$ref:o.path.join("/")};case"relative":return{$ref:getRelativePath(l.currentPath,o.path)};case"none":case"seen":return o.path.length<l.currentPath.length&&o.path.every((o,p)=>l.currentPath[p]===o)?(console.warn(`Recursive reference detected at ${l.currentPath.join("/")}! Defaulting to any`),{}):"seen"===l.$refStrategy?{}:void 0}},getRelativePath=(o,l)=>{let p=0;for(;p<o.length&&p<l.length&&o[p]===l[p];p++);return[(o.length-p).toString(),...l.slice(p)].join("/")},addMeta=(o,l,p)=>(o.description&&(p.description=o.description,l.markdownDescription&&(p.markdownDescription=o.description)),p),zodToJsonSchema=(o,l)=>{const p=getRefs(l),m="object"==typeof l&&l.definitions?Object.entries(l.definitions).reduce((o,[l,m])=>({...o,[l]:parseDef(m._def,{...p,currentPath:[...p.basePath,p.definitionPath,l]},!0)??{}}),{}):void 0,g="string"==typeof l?l:"title"===l?.nameStrategy?void 0:l?.name,y=parseDef(o._def,void 0===g?p:{...p,currentPath:[...p.basePath,p.definitionPath,g]},!1)??{},_="object"==typeof l&&void 0!==l.name&&"title"===l.nameStrategy?l.name:void 0;void 0!==_&&(y.title=_);const b=void 0===g?m?{...y,[p.definitionPath]:m}:y:{$ref:[..."relative"===p.$refStrategy?[]:p.basePath,p.definitionPath,g].join("/"),[p.definitionPath]:{...m,[g]:y}};return"jsonSchema7"===p.target?b.$schema="http://json-schema.org/draft-07/schema#":"jsonSchema2019-09"!==p.target&&"openAi"!==p.target||(b.$schema="https://json-schema.org/draft/2019-09/schema#"),"openAi"===p.target&&("anyOf"in b||"oneOf"in b||"allOf"in b||"type"in b&&Array.isArray(b.type))&&console.warn("Warning: OpenAI may not support schemas with unions as roots! Try wrapping it in an object property."),b},McpZodTypeKind;(McpZodTypeKind||(McpZodTypeKind={})).Completable="McpCompletable";class Completable extends ZodType{_parse(o){const{ctx:l}=this._processInputParams(o),p=l.data;return this._def.type._parse({data:p,path:l.path,parent:l})}unwrap(){return this._def.type}}function processCreateParams2(o){if(!o)return{};const{errorMap:l,invalid_type_error:p,required_error:m,description:g}=o;if(l&&(p||m))throw new Error('Can\'t use "invalid_type_error" or "required_error" in conjunction with custom error map.');if(l)return{errorMap:l,description:g};return{errorMap:(l,g)=>{var y,_;const{message:b}=o;return"invalid_enum_value"===l.code?{message:null!=b?b:g.defaultError}:void 0===g.data?{message:null!==(y=null!=b?b:m)&&void 0!==y?y:g.defaultError}:"invalid_type"!==l.code?{message:g.defaultError}:{message:null!==(_=null!=b?b:p)&&void 0!==_?_:g.defaultError}},description:g}}Completable.create=(o,l)=>new Completable({type:o,typeName:McpZodTypeKind.Completable,complete:l.complete,...processCreateParams2(l)});class McpServer{constructor(o,l){this._registeredResources={},this._registeredResourceTemplates={},this._registeredTools={},this._registeredPrompts={},this._toolHandlersInitialized=!1,this._completionHandlerInitialized=!1,this._resourceHandlersInitialized=!1,this._promptHandlersInitialized=!1,this.server=new Server(o,l)}async connect(o){return await this.server.connect(o)}async close(){await this.server.close()}setToolRequestHandlers(){this._toolHandlersInitialized||(this.server.assertCanSetRequestHandler(ListToolsRequestSchema.shape.method.value),this.server.assertCanSetRequestHandler(CallToolRequestSchema.shape.method.value),this.server.registerCapabilities({tools:{listChanged:!0}}),this.server.setRequestHandler(ListToolsRequestSchema,()=>({tools:Object.entries(this._registeredTools).filter(([,o])=>o.enabled).map(([o,l])=>{const p={name:o,title:l.title,description:l.description,inputSchema:l.inputSchema?zodToJsonSchema(l.inputSchema,{strictUnions:!0}):EMPTY_OBJECT_JSON_SCHEMA,annotations:l.annotations};return l.outputSchema&&(p.outputSchema=zodToJsonSchema(l.outputSchema,{strictUnions:!0})),p})})),this.server.setRequestHandler(CallToolRequestSchema,async(o,l)=>{const p=this._registeredTools[o.params.name];if(!p)throw new McpError(ErrorCode.InvalidParams,`Tool ${o.params.name} not found`);if(!p.enabled)throw new McpError(ErrorCode.InvalidParams,`Tool ${o.params.name} disabled`);let m;if(p.inputSchema){const g=await p.inputSchema.safeParseAsync(o.params.arguments);if(!g.success)throw new McpError(ErrorCode.InvalidParams,`Invalid arguments for tool ${o.params.name}: ${g.error.message}`);const y=g.data,_=p.callback;try{m=await Promise.resolve(_(y,l))}catch(o){m={content:[{type:"text",text:o instanceof Error?o.message:String(o)}],isError:!0}}}else{const o=p.callback;try{m=await Promise.resolve(o(l))}catch(o){m={content:[{type:"text",text:o instanceof Error?o.message:String(o)}],isError:!0}}}if(p.outputSchema&&!m.isError){if(!m.structuredContent)throw new McpError(ErrorCode.InvalidParams,`Tool ${o.params.name} has an output schema but no structured content was provided`);const l=await p.outputSchema.safeParseAsync(m.structuredContent);if(!l.success)throw new McpError(ErrorCode.InvalidParams,`Invalid structured content for tool ${o.params.name}: ${l.error.message}`)}return m}),this._toolHandlersInitialized=!0)}setCompletionRequestHandler(){this._completionHandlerInitialized||(this.server.assertCanSetRequestHandler(CompleteRequestSchema.shape.method.value),this.server.registerCapabilities({completions:{}}),this.server.setRequestHandler(CompleteRequestSchema,async o=>{switch(o.params.ref.type){case"ref/prompt":return this.handlePromptCompletion(o,o.params.ref);case"ref/resource":return this.handleResourceCompletion(o,o.params.ref);default:throw new McpError(ErrorCode.InvalidParams,`Invalid completion reference: ${o.params.ref}`)}}),this._completionHandlerInitialized=!0)}async handlePromptCompletion(o,l){const p=this._registeredPrompts[l.name];if(!p)throw new McpError(ErrorCode.InvalidParams,`Prompt ${l.name} not found`);if(!p.enabled)throw new McpError(ErrorCode.InvalidParams,`Prompt ${l.name} disabled`);if(!p.argsSchema)return EMPTY_COMPLETION_RESULT;const m=p.argsSchema.shape[o.params.argument.name];if(!(m instanceof Completable))return EMPTY_COMPLETION_RESULT;const g=m._def;return createCompletionResult(await g.complete(o.params.argument.value,o.params.context))}async handleResourceCompletion(o,l){const p=Object.values(this._registeredResourceTemplates).find(o=>o.resourceTemplate.uriTemplate.toString()===l.uri);if(!p){if(this._registeredResources[l.uri])return EMPTY_COMPLETION_RESULT;throw new McpError(ErrorCode.InvalidParams,`Resource template ${o.params.ref.uri} not found`)}const m=p.resourceTemplate.completeCallback(o.params.argument.name);if(!m)return EMPTY_COMPLETION_RESULT;return createCompletionResult(await m(o.params.argument.value,o.params.context))}setResourceRequestHandlers(){this._resourceHandlersInitialized||(this.server.assertCanSetRequestHandler(ListResourcesRequestSchema.shape.method.value),this.server.assertCanSetRequestHandler(ListResourceTemplatesRequestSchema.shape.method.value),this.server.assertCanSetRequestHandler(ReadResourceRequestSchema.shape.method.value),this.server.registerCapabilities({resources:{listChanged:!0}}),this.server.setRequestHandler(ListResourcesRequestSchema,async(o,l)=>{const p=Object.entries(this._registeredResources).filter(([o,l])=>l.enabled).map(([o,l])=>({uri:o,name:l.name,...l.metadata})),m=[];for(const o of Object.values(this._registeredResourceTemplates)){if(!o.resourceTemplate.listCallback)continue;const p=await o.resourceTemplate.listCallback(l);for(const l of p.resources)m.push({...o.metadata,...l})}return{resources:[...p,...m]}}),this.server.setRequestHandler(ListResourceTemplatesRequestSchema,async()=>{const o=Object.entries(this._registeredResourceTemplates).map(([o,l])=>({name:o,uriTemplate:l.resourceTemplate.uriTemplate.toString(),...l.metadata}));return{resourceTemplates:o}}),this.server.setRequestHandler(ReadResourceRequestSchema,async(o,l)=>{const p=new URL(o.params.uri),m=this._registeredResources[p.toString()];if(m){if(!m.enabled)throw new McpError(ErrorCode.InvalidParams,`Resource ${p} disabled`);return m.readCallback(p,l)}for(const o of Object.values(this._registeredResourceTemplates)){const m=o.resourceTemplate.uriTemplate.match(p.toString());if(m)return o.readCallback(p,m,l)}throw new McpError(ErrorCode.InvalidParams,`Resource ${p} not found`)}),this.setCompletionRequestHandler(),this._resourceHandlersInitialized=!0)}setPromptRequestHandlers(){this._promptHandlersInitialized||(this.server.assertCanSetRequestHandler(ListPromptsRequestSchema.shape.method.value),this.server.assertCanSetRequestHandler(GetPromptRequestSchema.shape.method.value),this.server.registerCapabilities({prompts:{listChanged:!0}}),this.server.setRequestHandler(ListPromptsRequestSchema,()=>({prompts:Object.entries(this._registeredPrompts).filter(([,o])=>o.enabled).map(([o,l])=>({name:o,title:l.title,description:l.description,arguments:l.argsSchema?promptArgumentsFromSchema(l.argsSchema):void 0}))})),this.server.setRequestHandler(GetPromptRequestSchema,async(o,l)=>{const p=this._registeredPrompts[o.params.name];if(!p)throw new McpError(ErrorCode.InvalidParams,`Prompt ${o.params.name} not found`);if(!p.enabled)throw new McpError(ErrorCode.InvalidParams,`Prompt ${o.params.name} disabled`);if(p.argsSchema){const m=await p.argsSchema.safeParseAsync(o.params.arguments);if(!m.success)throw new McpError(ErrorCode.InvalidParams,`Invalid arguments for prompt ${o.params.name}: ${m.error.message}`);const g=m.data,y=p.callback;return await Promise.resolve(y(g,l))}{const o=p.callback;return await Promise.resolve(o(l))}}),this.setCompletionRequestHandler(),this._promptHandlersInitialized=!0)}resource(o,l,...p){let m;"object"==typeof p[0]&&(m=p.shift());const g=p[0];if("string"==typeof l){if(this._registeredResources[l])throw new Error(`Resource ${l} is already registered`);const p=this._createRegisteredResource(o,void 0,l,m,g);return this.setResourceRequestHandlers(),this.sendResourceListChanged(),p}{if(this._registeredResourceTemplates[o])throw new Error(`Resource template ${o} is already registered`);const p=this._createRegisteredResourceTemplate(o,void 0,l,m,g);return this.setResourceRequestHandlers(),this.sendResourceListChanged(),p}}registerResource(o,l,p,m){if("string"==typeof l){if(this._registeredResources[l])throw new Error(`Resource ${l} is already registered`);const g=this._createRegisteredResource(o,p.title,l,p,m);return this.setResourceRequestHandlers(),this.sendResourceListChanged(),g}{if(this._registeredResourceTemplates[o])throw new Error(`Resource template ${o} is already registered`);const g=this._createRegisteredResourceTemplate(o,p.title,l,p,m);return this.setResourceRequestHandlers(),this.sendResourceListChanged(),g}}_createRegisteredResource(o,l,p,m,g){const y={name:o,title:l,metadata:m,readCallback:g,enabled:!0,disable:()=>y.update({enabled:!1}),enable:()=>y.update({enabled:!0}),remove:()=>y.update({uri:null}),update:o=>{void 0!==o.uri&&o.uri!==p&&(delete this._registeredResources[p],o.uri&&(this._registeredResources[o.uri]=y)),void 0!==o.name&&(y.name=o.name),void 0!==o.title&&(y.title=o.title),void 0!==o.metadata&&(y.metadata=o.metadata),void 0!==o.callback&&(y.readCallback=o.callback),void 0!==o.enabled&&(y.enabled=o.enabled),this.sendResourceListChanged()}};return this._registeredResources[p]=y,y}_createRegisteredResourceTemplate(o,l,p,m,g){const y={resourceTemplate:p,title:l,metadata:m,readCallback:g,enabled:!0,disable:()=>y.update({enabled:!1}),enable:()=>y.update({enabled:!0}),remove:()=>y.update({name:null}),update:l=>{void 0!==l.name&&l.name!==o&&(delete this._registeredResourceTemplates[o],l.name&&(this._registeredResourceTemplates[l.name]=y)),void 0!==l.title&&(y.title=l.title),void 0!==l.template&&(y.resourceTemplate=l.template),void 0!==l.metadata&&(y.metadata=l.metadata),void 0!==l.callback&&(y.readCallback=l.callback),void 0!==l.enabled&&(y.enabled=l.enabled),this.sendResourceListChanged()}};return this._registeredResourceTemplates[o]=y,y}_createRegisteredPrompt(o,l,p,m,g){const y={title:l,description:p,argsSchema:void 0===m?void 0:exports_external.object(m),callback:g,enabled:!0,disable:()=>y.update({enabled:!1}),enable:()=>y.update({enabled:!0}),remove:()=>y.update({name:null}),update:l=>{void 0!==l.name&&l.name!==o&&(delete this._registeredPrompts[o],l.name&&(this._registeredPrompts[l.name]=y)),void 0!==l.title&&(y.title=l.title),void 0!==l.description&&(y.description=l.description),void 0!==l.argsSchema&&(y.argsSchema=exports_external.object(l.argsSchema)),void 0!==l.callback&&(y.callback=l.callback),void 0!==l.enabled&&(y.enabled=l.enabled),this.sendPromptListChanged()}};return this._registeredPrompts[o]=y,y}_createRegisteredTool(o,l,p,m,g,y,_){const b={title:l,description:p,inputSchema:void 0===m?void 0:exports_external.object(m),outputSchema:void 0===g?void 0:exports_external.object(g),annotations:y,callback:_,enabled:!0,disable:()=>b.update({enabled:!1}),enable:()=>b.update({enabled:!0}),remove:()=>b.update({name:null}),update:l=>{void 0!==l.name&&l.name!==o&&(delete this._registeredTools[o],l.name&&(this._registeredTools[l.name]=b)),void 0!==l.title&&(b.title=l.title),void 0!==l.description&&(b.description=l.description),void 0!==l.paramsSchema&&(b.inputSchema=exports_external.object(l.paramsSchema)),void 0!==l.callback&&(b.callback=l.callback),void 0!==l.annotations&&(b.annotations=l.annotations),void 0!==l.enabled&&(b.enabled=l.enabled),this.sendToolListChanged()}};return this._registeredTools[o]=b,this.setToolRequestHandlers(),this.sendToolListChanged(),b}tool(o,...l){if(this._registeredTools[o])throw new Error(`Tool ${o} is already registered`);let p,m,g;if("string"==typeof l[0]&&(p=l.shift()),l.length>1){const o=l[0];isZodRawShape(o)?(m=l.shift(),l.length>1&&"object"==typeof l[0]&&null!==l[0]&&!isZodRawShape(l[0])&&(g=l.shift())):"object"==typeof o&&null!==o&&(g=l.shift())}const y=l[0];return this._createRegisteredTool(o,void 0,p,m,undefined,g,y)}registerTool(o,l,p){if(this._registeredTools[o])throw new Error(`Tool ${o} is already registered`);const{title:m,description:g,inputSchema:y,outputSchema:_,annotations:b}=l;return this._createRegisteredTool(o,m,g,y,_,b,p)}prompt(o,...l){if(this._registeredPrompts[o])throw new Error(`Prompt ${o} is already registered`);let p,m;"string"==typeof l[0]&&(p=l.shift()),l.length>1&&(m=l.shift());const g=l[0],y=this._createRegisteredPrompt(o,void 0,p,m,g);return this.setPromptRequestHandlers(),this.sendPromptListChanged(),y}registerPrompt(o,l,p){if(this._registeredPrompts[o])throw new Error(`Prompt ${o} is already registered`);const{title:m,description:g,argsSchema:y}=l,_=this._createRegisteredPrompt(o,m,g,y,p);return this.setPromptRequestHandlers(),this.sendPromptListChanged(),_}isConnected(){return void 0!==this.server.transport}sendResourceListChanged(){this.isConnected()&&this.server.sendResourceListChanged()}sendToolListChanged(){this.isConnected()&&this.server.sendToolListChanged()}sendPromptListChanged(){this.isConnected()&&this.server.sendPromptListChanged()}}var EMPTY_OBJECT_JSON_SCHEMA={type:"object",properties:{}};function isZodRawShape(o){if("object"!=typeof o||null===o)return!1;return 0===Object.keys(o).length||Object.values(o).some(isZodTypeLike)}function isZodTypeLike(o){return null!==o&&"object"==typeof o&&"parse"in o&&"function"==typeof o.parse&&"safeParse"in o&&"function"==typeof o.safeParse}function promptArgumentsFromSchema(o){return Object.entries(o.shape).map(([o,l])=>({name:o,description:l.description,required:!l.isOptional()}))}function createCompletionResult(o){return{completion:{values:o.slice(0,100),total:o.length,hasMore:o.length>100}}}var EMPTY_COMPLETION_RESULT={completion:{values:[],hasMore:!1}};function tool(o,l,p,m){return{name:o,description:l,inputSchema:p,handler:m}}function createSdkMcpServer(o){const l=new McpServer({name:o.name,version:o.version??"1.0.0"},{capabilities:{tools:o.tools?{}:void 0}});return o.tools&&o.tools.forEach(o=>{l.tool(o.name,o.description,o.inputSchema,o.handler)}),{type:"sdk",name:o.name,instance:l}}function query$1({prompt:o,options:{abortController:l=createAbortController(),additionalDirectories:p=[],allowedTools:m=[],appendSystemPrompt:g,canUseTool:y,continue:_,customSystemPrompt:b,cwd:S,disallowedTools:A=[],env:T,executable:w=(isRunningWithBun()?"bun":"node"),executableArgs:D=[],extraArgs:O={},fallbackModel:k,hooks:I,maxTurns:N,mcpServers:L,model:j,pathToClaudeCodeExecutable:B,permissionMode:U="default",permissionPromptToolName:q,resume:Z,stderr:H,strictMcpConfig:G}={}}){if(T||(T={...process.env}),T.CLAUDE_CODE_ENTRYPOINT||(T.CLAUDE_CODE_ENTRYPOINT="sdk-ts"),void 0===B){const o=url.fileURLToPath("undefined"==typeof document?require("url").pathToFileURL(__filename).href:_documentCurrentScript&&"SCRIPT"===_documentCurrentScript.tagName.toUpperCase()&&_documentCurrentScript.src||new URL("index.js",document.baseURI).href),l=require$$1.join(o,"..");B=require$$1.join(l,"cli.js")}const z=new Map;if(L)for(const[o,l]of Object.entries(L))"sdk"===l.type&&z.set(o,l.instance);const W="string"!=typeof o,Q=new ProcessTransport({prompt:o,abortController:l,additionalDirectories:p,cwd:S,executable:w,executableArgs:D,extraArgs:O,pathToClaudeCodeExecutable:B,env:T,stderr:H,customSystemPrompt:b,appendSystemPrompt:g,maxTurns:N,model:j,fallbackModel:k,permissionMode:U,permissionPromptToolName:q,continueConversation:_,resume:Z,allowedTools:m,disallowedTools:A,mcpServers:L,strictMcpConfig:G,canUseTool:!!y,hooks:!!I}),ae=new Query(Q,W,y,I,l,z);return"string"!=typeof o&&ae.streamInput(o),ae}function isRunningWithBun(){return void 0!==process.versions.bun||void 0!==process.env.BUN_INSTALL}var sdk$1=Object.freeze({__proto__:null,createSdkMcpServer:createSdkMcpServer,query:query$1,tool:tool}),require$$4=getAugmentedNamespace(sdk$1),sdk={exports:{}},client={},tslib={};function __classPrivateFieldSet(o,l,p,m,g){if("m"===m)throw new TypeError("Private method is not writable");if("a"===m&&!g)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof l?o!==l||!g:!l.has(o))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===m?g.call(o,p):g?g.value=p:l.set(o,p),p}function __classPrivateFieldGet(o,l,p,m){if("a"===p&&!m)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof l?o!==l||!m:!l.has(o))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===p?m:"a"===p?m.call(o):m?m.value:l.get(o)}Object.defineProperty(tslib,"__esModule",{value:!0}),tslib.__setModuleDefault=tslib.__createBinding=void 0,tslib.__classPrivateFieldSet=__classPrivateFieldSet,tslib.__classPrivateFieldGet=__classPrivateFieldGet,tslib.__exportStar=__exportStar,tslib.__importStar=__importStar;var __createBinding=Object.create?function(o,l,p,m){void 0===m&&(m=p);var g=Object.getOwnPropertyDescriptor(l,p);g&&!("get"in g?!l.__esModule:g.writable||g.configurable)||(g={enumerable:!0,get:function(){return l[p]}}),Object.defineProperty(o,m,g)}:function(o,l,p,m){void 0===m&&(m=p),o[m]=l[p]};function __exportStar(o,l){for(var p in o)"default"===p||Object.prototype.hasOwnProperty.call(l,p)||__createBinding(l,o,p)}tslib.__createBinding=__createBinding;var __setModuleDefault=Object.create?function(o,l){Object.defineProperty(o,"default",{enumerable:!0,value:l})}:function(o,l){o.default=l};tslib.__setModuleDefault=__setModuleDefault;var ownKeys=function(o){return(ownKeys=Object.getOwnPropertyNames||function(o){var l=[];for(var p in o)Object.prototype.hasOwnProperty.call(o,p)&&(l[l.length]=p);return l})(o)};function __importStar(o){if(o&&o.__esModule)return o;var l={};if(null!=o)for(var p=ownKeys(o),m=0;m<p.length;m++)"default"!==p[m]&&__createBinding(l,o,p[m]);return __setModuleDefault(l,o),l}var uuid={};Object.defineProperty(uuid,"__esModule",{value:!0}),uuid.uuid4=void 0;let uuid4=function(){const{crypto:o}=globalThis;if(o?.randomUUID)return uuid.uuid4=o.randomUUID.bind(o),o.randomUUID();const l=new Uint8Array(1),p=o?()=>o.getRandomValues(l)[0]:()=>255*Math.random()&255;return"10000000-1000-4000-8000-100000000000".replace(/[018]/g,o=>(+o^p()&15>>+o/4).toString(16))};uuid.uuid4=uuid4;var values={},error$1={},errors={};function isAbortError(o){return"object"==typeof o&&null!==o&&("name"in o&&"AbortError"===o.name||"message"in o&&String(o.message).includes("FetchRequestCanceledException"))}Object.defineProperty(errors,"__esModule",{value:!0}),errors.castToError=void 0,errors.isAbortError=isAbortError;const castToError=o=>{if(o instanceof Error)return o;if("object"==typeof o&&null!==o){try{if("[object Error]"===Object.prototype.toString.call(o)){const l=new Error(o.message,o.cause?{cause:o.cause}:{});return o.stack&&(l.stack=o.stack),o.cause&&!l.cause&&(l.cause=o.cause),o.name&&(l.name=o.name),l}}catch{}try{return new Error(JSON.stringify(o))}catch{}}return new Error(o)};errors.castToError=castToError,Object.defineProperty(error$1,"__esModule",{value:!0}),error$1.InternalServerError=error$1.RateLimitError=error$1.UnprocessableEntityError=error$1.ConflictError=error$1.NotFoundError=error$1.PermissionDeniedError=error$1.AuthenticationError=error$1.BadRequestError=error$1.APIConnectionTimeoutError=error$1.APIConnectionError=error$1.APIUserAbortError=error$1.APIError=error$1.AnthropicError=void 0;const errors_1$2=errors;class AnthropicError extends Error{}error$1.AnthropicError=AnthropicError;class APIError extends AnthropicError{constructor(o,l,p,m){super(`${APIError.makeMessage(o,l,p)}`),this.status=o,this.headers=m,this.requestID=m?.get("request-id"),this.error=l}static makeMessage(o,l,p){const m=l?.message?"string"==typeof l.message?l.message:JSON.stringify(l.message):l?JSON.stringify(l):p;return o&&m?`${o} ${m}`:o?`${o} status code (no body)`:m||"(no status code or body)"}static generate(o,l,p,m){if(!o||!m)return new APIConnectionError({message:p,cause:(0,errors_1$2.castToError)(l)});const g=l;return 400===o?new BadRequestError(o,g,p,m):401===o?new AuthenticationError(o,g,p,m):403===o?new PermissionDeniedError(o,g,p,m):404===o?new NotFoundError(o,g,p,m):409===o?new ConflictError(o,g,p,m):422===o?new UnprocessableEntityError(o,g,p,m):429===o?new RateLimitError(o,g,p,m):o>=500?new InternalServerError(o,g,p,m):new APIError(o,g,p,m)}}error$1.APIError=APIError;class APIUserAbortError extends APIError{constructor({message:o}={}){super(void 0,void 0,o||"Request was aborted.",void 0)}}error$1.APIUserAbortError=APIUserAbortError;class APIConnectionError extends APIError{constructor({message:o,cause:l}){super(void 0,void 0,o||"Connection error.",void 0),l&&(this.cause=l)}}error$1.APIConnectionError=APIConnectionError;class APIConnectionTimeoutError extends APIConnectionError{constructor({message:o}={}){super({message:o??"Request timed out."})}}error$1.APIConnectionTimeoutError=APIConnectionTimeoutError;class BadRequestError extends APIError{}error$1.BadRequestError=BadRequestError;class AuthenticationError extends APIError{}error$1.AuthenticationError=AuthenticationError;class PermissionDeniedError extends APIError{}error$1.PermissionDeniedError=PermissionDeniedError;class NotFoundError extends APIError{}error$1.NotFoundError=NotFoundError;class ConflictError extends APIError{}error$1.ConflictError=ConflictError;class UnprocessableEntityError extends APIError{}error$1.UnprocessableEntityError=UnprocessableEntityError;class RateLimitError extends APIError{}error$1.RateLimitError=RateLimitError;class InternalServerError extends APIError{}error$1.InternalServerError=InternalServerError,function(o){Object.defineProperty(o,"__esModule",{value:!0}),o.safeJSON=o.maybeCoerceBoolean=o.maybeCoerceFloat=o.maybeCoerceInteger=o.coerceBoolean=o.coerceFloat=o.coerceInteger=o.validatePositiveInteger=o.ensurePresent=o.isReadonlyArray=o.isArray=o.isAbsoluteURL=void 0,o.maybeObj=function(o){if("object"!=typeof o)return{};return o??{}},o.isEmptyObj=function(o){if(!o)return!0;for(const l in o)return!1;return!0},o.hasOwn=function(o,l){return Object.prototype.hasOwnProperty.call(o,l)},o.isObj=function(o){return null!=o&&"object"==typeof o&&!Array.isArray(o)};const l=error$1,p=/^[a-z][a-z0-9+.-]*:/i;o.isAbsoluteURL=o=>p.test(o);o.isArray=l=>(o.isArray=Array.isArray,(0,o.isArray)(l)),o.isReadonlyArray=o.isArray;o.ensurePresent=o=>{if(null==o)throw new l.AnthropicError(`Expected a value to be given but received ${o} instead.`);return o};o.validatePositiveInteger=(o,p)=>{if("number"!=typeof p||!Number.isInteger(p))throw new l.AnthropicError(`${o} must be an integer`);if(p<0)throw new l.AnthropicError(`${o} must be a positive integer`);return p};o.coerceInteger=o=>{if("number"==typeof o)return Math.round(o);if("string"==typeof o)return parseInt(o,10);throw new l.AnthropicError(`Could not coerce ${o} (type: ${typeof o}) into a number`)};o.coerceFloat=o=>{if("number"==typeof o)return o;if("string"==typeof o)return parseFloat(o);throw new l.AnthropicError(`Could not coerce ${o} (type: ${typeof o}) into a number`)};o.coerceBoolean=o=>"boolean"==typeof o?o:"string"==typeof o?"true"===o:Boolean(o);o.maybeCoerceInteger=l=>{if(void 0!==l)return(0,o.coerceInteger)(l)};o.maybeCoerceFloat=l=>{if(void 0!==l)return(0,o.coerceFloat)(l)};o.maybeCoerceBoolean=l=>{if(void 0!==l)return(0,o.coerceBoolean)(l)};o.safeJSON=o=>{try{return JSON.parse(o)}catch(o){return}}}(values);var sleep$1={};Object.defineProperty(sleep$1,"__esModule",{value:!0}),sleep$1.sleep=void 0;const sleep=o=>new Promise(l=>setTimeout(l,o));sleep$1.sleep=sleep;var detectPlatform={},version={},hasRequiredVersion;function requireVersion(){return hasRequiredVersion||(hasRequiredVersion=1,Object.defineProperty(version,"__esModule",{value:!0}),version.VERSION=void 0,version.VERSION="0.60.0"),version}Object.defineProperty(detectPlatform,"__esModule",{value:!0}),detectPlatform.getPlatformHeaders=detectPlatform.isRunningInBrowser=void 0;const version_1$1=requireVersion(),isRunningInBrowser=()=>"undefined"!=typeof window&&void 0!==window.document&&"undefined"!=typeof navigator;function getDetectedPlatform(){return"undefined"!=typeof Deno&&null!=Deno.build?"deno":"undefined"!=typeof EdgeRuntime?"edge":"[object process]"===Object.prototype.toString.call(void 0!==globalThis.process?globalThis.process:0)?"node":"unknown"}detectPlatform.isRunningInBrowser=isRunningInBrowser;const getPlatformProperties=()=>{const o=getDetectedPlatform();if("deno"===o)return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":version_1$1.VERSION,"X-Stainless-OS":normalizePlatform(Deno.build.os),"X-Stainless-Arch":normalizeArch(Deno.build.arch),"X-Stainless-Runtime":"deno","X-Stainless-Runtime-Version":"string"==typeof Deno.version?Deno.version:Deno.version?.deno??"unknown"};if("undefined"!=typeof EdgeRuntime)return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":version_1$1.VERSION,"X-Stainless-OS":"Unknown","X-Stainless-Arch":`other:${EdgeRuntime}`,"X-Stainless-Runtime":"edge","X-Stainless-Runtime-Version":globalThis.process.version};if("node"===o)return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":version_1$1.VERSION,"X-Stainless-OS":normalizePlatform(globalThis.process.platform??"unknown"),"X-Stainless-Arch":normalizeArch(globalThis.process.arch??"unknown"),"X-Stainless-Runtime":"node","X-Stainless-Runtime-Version":globalThis.process.version??"unknown"};const l=getBrowserInfo();return l?{"X-Stainless-Lang":"js","X-Stainless-Package-Version":version_1$1.VERSION,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":`browser:${l.browser}`,"X-Stainless-Runtime-Version":l.version}:{"X-Stainless-Lang":"js","X-Stainless-Package-Version":version_1$1.VERSION,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":"unknown","X-Stainless-Runtime-Version":"unknown"}};function getBrowserInfo(){if("undefined"==typeof navigator||!navigator)return null;const o=[{key:"edge",pattern:/Edge(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/MSIE(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/Trident(?:.*rv\:(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"chrome",pattern:/Chrome(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"firefox",pattern:/Firefox(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"safari",pattern:/(?:Version\W+(\d+)\.(\d+)(?:\.(\d+))?)?(?:\W+Mobile\S*)?\W+Safari/}];for(const{key:l,pattern:p}of o){const o=p.exec(navigator.userAgent);if(o){return{browser:l,version:`${o[1]||0}.${o[2]||0}.${o[3]||0}`}}}return null}const normalizeArch=o=>"x32"===o?"x32":"x86_64"===o||"x64"===o?"x64":"arm"===o?"arm":"aarch64"===o||"arm64"===o?"arm64":o?`other:${o}`:"unknown",normalizePlatform=o=>(o=o.toLowerCase()).includes("ios")?"iOS":"android"===o?"Android":"darwin"===o?"MacOS":"win32"===o?"Windows":"freebsd"===o?"FreeBSD":"openbsd"===o?"OpenBSD":"linux"===o?"Linux":o?`Other:${o}`:"Unknown";let _platformHeaders;const getPlatformHeaders=()=>_platformHeaders??(_platformHeaders=getPlatformProperties());detectPlatform.getPlatformHeaders=getPlatformHeaders;var shims={},hasRequiredShims;function requireShims(){if(hasRequiredShims)return shims;function makeReadableStream(...o){const l=globalThis.ReadableStream;if(void 0===l)throw new Error("`ReadableStream` is not defined as a global; You will need to polyfill it, `globalThis.ReadableStream = ReadableStream`");return new l(...o)}return hasRequiredShims=1,Object.defineProperty(shims,"__esModule",{value:!0}),shims.getDefaultFetch=function(){if("undefined"!=typeof fetch)return fetch;throw new Error("`fetch` is not defined as a global; Either pass `fetch` to the client, `new Anthropic({ fetch })` or polyfill the global, `globalThis.fetch = fetch`")},shims.makeReadableStream=makeReadableStream,shims.ReadableStreamFrom=function(o){let l=Symbol.asyncIterator in o?o[Symbol.asyncIterator]():o[Symbol.iterator]();return makeReadableStream({start(){},async pull(o){const{done:p,value:m}=await l.next();p?o.close():o.enqueue(m)},async cancel(){await(l.return?.())}})},shims.ReadableStreamToAsyncIterable=function(o){if(o[Symbol.asyncIterator])return o;const l=o.getReader();return{async next(){try{const o=await l.read();return o?.done&&l.releaseLock(),o}catch(o){throw l.releaseLock(),o}},async return(){const o=l.cancel();return l.releaseLock(),await o,{done:!0,value:void 0}},[Symbol.asyncIterator](){return this}}},shims.CancelReadableStream=async function(o){if(null===o||"object"!=typeof o)return;if(o[Symbol.asyncIterator])return void await(o[Symbol.asyncIterator]().return?.());const l=o.getReader(),p=l.cancel();l.releaseLock(),await p},shims}var requestOptions={},hasRequiredRequestOptions;function requireRequestOptions(){if(hasRequiredRequestOptions)return requestOptions;hasRequiredRequestOptions=1,Object.defineProperty(requestOptions,"__esModule",{value:!0}),requestOptions.FallbackEncoder=void 0;return requestOptions.FallbackEncoder=({headers:o,body:l})=>({bodyHeaders:{"content-type":"application/json"},body:JSON.stringify(l)}),requestOptions}var pagination={},parse={},streaming$1={},line={},bytes={};function concatBytes(o){let l=0;for(const p of o)l+=p.length;const p=new Uint8Array(l);let m=0;for(const l of o)p.set(l,m),m+=l.length;return p}let encodeUTF8_,decodeUTF8_;function encodeUTF8(o){let l;return(encodeUTF8_??(l=new globalThis.TextEncoder,encodeUTF8_=l.encode.bind(l)))(o)}function decodeUTF8(o){let l;return(decodeUTF8_??(l=new globalThis.TextDecoder,decodeUTF8_=l.decode.bind(l)))(o)}var _LineDecoder_buffer,_LineDecoder_carriageReturnIndex;Object.defineProperty(bytes,"__esModule",{value:!0}),bytes.concatBytes=concatBytes,bytes.encodeUTF8=encodeUTF8,bytes.decodeUTF8=decodeUTF8,Object.defineProperty(line,"__esModule",{value:!0}),line.LineDecoder=void 0,line.findDoubleNewlineIndex=findDoubleNewlineIndex;const tslib_1$4=tslib,bytes_1$1=bytes;class LineDecoder{constructor(){_LineDecoder_buffer.set(this,void 0),_LineDecoder_carriageReturnIndex.set(this,void 0),tslib_1$4.__classPrivateFieldSet(this,_LineDecoder_buffer,new Uint8Array,"f"),tslib_1$4.__classPrivateFieldSet(this,_LineDecoder_carriageReturnIndex,null,"f")}decode(o){if(null==o)return[];const l=o instanceof ArrayBuffer?new Uint8Array(o):"string"==typeof o?(0,bytes_1$1.encodeUTF8)(o):o;tslib_1$4.__classPrivateFieldSet(this,_LineDecoder_buffer,(0,bytes_1$1.concatBytes)([tslib_1$4.__classPrivateFieldGet(this,_LineDecoder_buffer,"f"),l]),"f");const p=[];let m;for(;null!=(m=findNewlineIndex(tslib_1$4.__classPrivateFieldGet(this,_LineDecoder_buffer,"f"),tslib_1$4.__classPrivateFieldGet(this,_LineDecoder_carriageReturnIndex,"f")));){if(m.carriage&&null==tslib_1$4.__classPrivateFieldGet(this,_LineDecoder_carriageReturnIndex,"f")){tslib_1$4.__classPrivateFieldSet(this,_LineDecoder_carriageReturnIndex,m.index,"f");continue}if(null!=tslib_1$4.__classPrivateFieldGet(this,_LineDecoder_carriageReturnIndex,"f")&&(m.index!==tslib_1$4.__classPrivateFieldGet(this,_LineDecoder_carriageReturnIndex,"f")+1||m.carriage)){p.push((0,bytes_1$1.decodeUTF8)(tslib_1$4.__classPrivateFieldGet(this,_LineDecoder_buffer,"f").subarray(0,tslib_1$4.__classPrivateFieldGet(this,_LineDecoder_carriageReturnIndex,"f")-1))),tslib_1$4.__classPrivateFieldSet(this,_LineDecoder_buffer,tslib_1$4.__classPrivateFieldGet(this,_LineDecoder_buffer,"f").subarray(tslib_1$4.__classPrivateFieldGet(this,_LineDecoder_carriageReturnIndex,"f")),"f"),tslib_1$4.__classPrivateFieldSet(this,_LineDecoder_carriageReturnIndex,null,"f");continue}const o=null!==tslib_1$4.__classPrivateFieldGet(this,_LineDecoder_carriageReturnIndex,"f")?m.preceding-1:m.preceding,l=(0,bytes_1$1.decodeUTF8)(tslib_1$4.__classPrivateFieldGet(this,_LineDecoder_buffer,"f").subarray(0,o));p.push(l),tslib_1$4.__classPrivateFieldSet(this,_LineDecoder_buffer,tslib_1$4.__classPrivateFieldGet(this,_LineDecoder_buffer,"f").subarray(m.index),"f"),tslib_1$4.__classPrivateFieldSet(this,_LineDecoder_carriageReturnIndex,null,"f")}return p}flush(){return tslib_1$4.__classPrivateFieldGet(this,_LineDecoder_buffer,"f").length?this.decode("\n"):[]}}function findNewlineIndex(o,l){for(let p=l??0;p<o.length;p++){if(10===o[p])return{preceding:p,index:p+1,carriage:!1};if(13===o[p])return{preceding:p,index:p+1,carriage:!0}}return null}function findDoubleNewlineIndex(o){for(let l=0;l<o.length-1;l++){if(10===o[l]&&10===o[l+1])return l+2;if(13===o[l]&&13===o[l+1])return l+2;if(13===o[l]&&10===o[l+1]&&l+3<o.length&&13===o[l+2]&&10===o[l+3])return l+4}return-1}line.LineDecoder=LineDecoder,_LineDecoder_buffer=new WeakMap,_LineDecoder_carriageReturnIndex=new WeakMap,LineDecoder.NEWLINE_CHARS=new Set(["\n","\r"]),LineDecoder.NEWLINE_REGEXP=/\r\n|[\n\r]/g;var log={},hasRequiredLog,_Stream_client;function requireLog(){if(hasRequiredLog)return log;hasRequiredLog=1,Object.defineProperty(log,"__esModule",{value:!0}),log.formatRequestDetails=log.parseLogLevel=void 0,log.loggerFor=loggerFor;const o=values,l={off:0,error:200,warn:300,info:400,debug:500};function noop(){}function makeLogFn(o,p,m){return!p||l[o]>l[m]?noop:p[o].bind(p)}log.parseLogLevel=(p,m,g)=>{if(p)return(0,o.hasOwn)(l,p)?p:void loggerFor(g).warn(`${m} was set to ${JSON.stringify(p)}, expected one of ${JSON.stringify(Object.keys(l))}`)};const p={error:noop,warn:noop,info:noop,debug:noop};let m=new WeakMap;function loggerFor(o){const l=o.logger,g=o.logLevel??"off";if(!l)return p;const y=m.get(l);if(y&&y[0]===g)return y[1];const _={error:makeLogFn("error",l,g),warn:makeLogFn("warn",l,g),info:makeLogFn("info",l,g),debug:makeLogFn("debug",l,g)};return m.set(l,[g,_]),_}return log.formatRequestDetails=o=>(o.options&&(o.options={...o.options},delete o.options.headers),o.headers&&(o.headers=Object.fromEntries((o.headers instanceof Headers?[...o.headers]:Object.entries(o.headers)).map(([o,l])=>[o,"x-api-key"===o.toLowerCase()||"authorization"===o.toLowerCase()||"cookie"===o.toLowerCase()||"set-cookie"===o.toLowerCase()?"***":l]))),"retryOfRequestLogID"in o&&(o.retryOfRequestLogID&&(o.retryOf=o.retryOfRequestLogID),delete o.retryOfRequestLogID),o),log}Object.defineProperty(streaming$1,"__esModule",{value:!0}),streaming$1.Stream=void 0,streaming$1._iterSSEMessages=_iterSSEMessages;const tslib_1$3=tslib,error_1$1=error$1,shims_1=requireShims(),line_1=line,shims_2=requireShims(),errors_1$1=errors,values_1$2=values,bytes_1=bytes,log_1$2=requireLog(),error_2=error$1;class Stream{constructor(o,l,p){this.iterator=o,_Stream_client.set(this,void 0),this.controller=l,tslib_1$3.__classPrivateFieldSet(this,_Stream_client,p,"f")}static fromSSEResponse(o,l,p){let m=!1;const g=p?(0,log_1$2.loggerFor)(p):console;return new Stream(async function*(){if(m)throw new error_1$1.AnthropicError("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");m=!0;let p=!1;try{for await(const p of _iterSSEMessages(o,l)){if("completion"===p.event)try{yield JSON.parse(p.data)}catch(o){throw g.error("Could not parse message into JSON:",p.data),g.error("From chunk:",p.raw),o}if("message_start"===p.event||"message_delta"===p.event||"message_stop"===p.event||"content_block_start"===p.event||"content_block_delta"===p.event||"content_block_stop"===p.event)try{yield JSON.parse(p.data)}catch(o){throw g.error("Could not parse message into JSON:",p.data),g.error("From chunk:",p.raw),o}if("ping"!==p.event&&"error"===p.event)throw new error_2.APIError(void 0,(0,values_1$2.safeJSON)(p.data)??p.data,void 0,o.headers)}p=!0}catch(o){if((0,errors_1$1.isAbortError)(o))return;throw o}finally{p||l.abort()}},l,p)}static fromReadableStream(o,l,p){let m=!1;return new Stream(async function*(){if(m)throw new error_1$1.AnthropicError("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");m=!0;let p=!1;try{for await(const l of async function*(){const l=new line_1.LineDecoder,p=(0,shims_2.ReadableStreamToAsyncIterable)(o);for await(const o of p)for(const p of l.decode(o))yield p;for(const o of l.flush())yield o}())p||l&&(yield JSON.parse(l));p=!0}catch(o){if((0,errors_1$1.isAbortError)(o))return;throw o}finally{p||l.abort()}},l,p)}[(_Stream_client=new WeakMap,Symbol.asyncIterator)](){return this.iterator()}tee(){const o=[],l=[],p=this.iterator(),teeIterator=m=>({next:()=>{if(0===m.length){const m=p.next();o.push(m),l.push(m)}return m.shift()}});return[new Stream(()=>teeIterator(o),this.controller,tslib_1$3.__classPrivateFieldGet(this,_Stream_client,"f")),new Stream(()=>teeIterator(l),this.controller,tslib_1$3.__classPrivateFieldGet(this,_Stream_client,"f"))]}toReadableStream(){const o=this;let l;return(0,shims_1.makeReadableStream)({async start(){l=o[Symbol.asyncIterator]()},async pull(o){try{const{value:p,done:m}=await l.next();if(m)return o.close();const g=(0,bytes_1.encodeUTF8)(JSON.stringify(p)+"\n");o.enqueue(g)}catch(l){o.error(l)}},async cancel(){await(l.return?.())}})}}async function*_iterSSEMessages(o,l){if(!o.body){if(l.abort(),void 0!==globalThis.navigator&&"ReactNative"===globalThis.navigator.product)throw new error_1$1.AnthropicError("The default react-native fetch implementation does not support streaming. Please use expo/fetch: https://docs.expo.dev/versions/latest/sdk/expo/#expofetch-api");throw new error_1$1.AnthropicError("Attempted to iterate over a response with no body")}const p=new SSEDecoder,m=new line_1.LineDecoder,g=(0,shims_2.ReadableStreamToAsyncIterable)(o.body);for await(const o of iterSSEChunks(g))for(const l of m.decode(o)){const o=p.decode(l);o&&(yield o)}for(const o of m.flush()){const l=p.decode(o);l&&(yield l)}}async function*iterSSEChunks(o){let l=new Uint8Array;for await(const p of o){if(null==p)continue;const o=p instanceof ArrayBuffer?new Uint8Array(p):"string"==typeof p?(0,bytes_1.encodeUTF8)(p):p;let m,g=new Uint8Array(l.length+o.length);for(g.set(l),g.set(o,l.length),l=g;-1!==(m=(0,line_1.findDoubleNewlineIndex)(l));)yield l.slice(0,m),l=l.slice(m)}l.length>0&&(yield l)}streaming$1.Stream=Stream;class SSEDecoder{constructor(){this.event=null,this.data=[],this.chunks=[]}decode(o){if(o.endsWith("\r")&&(o=o.substring(0,o.length-1)),!o){if(!this.event&&!this.data.length)return null;const o={event:this.event,data:this.data.join("\n"),raw:this.chunks};return this.event=null,this.data=[],this.chunks=[],o}if(this.chunks.push(o),o.startsWith(":"))return null;let[l,p,m]=partition(o,":");return m.startsWith(" ")&&(m=m.substring(1)),"event"===l?this.event=m:"data"===l&&this.data.push(m),null}}function partition(o,l){const p=o.indexOf(l);return-1!==p?[o.substring(0,p),l,o.substring(p+l.length)]:[o,"",""]}Object.defineProperty(parse,"__esModule",{value:!0}),parse.defaultParseResponse=defaultParseResponse,parse.addRequestID=addRequestID;const streaming_1=streaming$1,log_1$1=requireLog();async function defaultParseResponse(o,l){const{response:p,requestLogID:m,retryOfRequestLogID:g,startTime:y}=l,_=await(async()=>{if(l.options.stream)return(0,log_1$1.loggerFor)(o).debug("response",p.status,p.url,p.headers,p.body),l.options.__streamClass?l.options.__streamClass.fromSSEResponse(p,l.controller):streaming_1.Stream.fromSSEResponse(p,l.controller);if(204===p.status)return null;if(l.options.__binaryResponse)return p;const m=p.headers.get("content-type"),g=m?.split(";")[0]?.trim();if(g?.includes("application/json")||g?.endsWith("+json")){return addRequestID(await p.json(),p)}return await p.text()})();return(0,log_1$1.loggerFor)(o).debug(`[${m}] response parsed`,(0,log_1$1.formatRequestDetails)({retryOfRequestLogID:g,url:p.url,status:p.status,body:_,durationMs:Date.now()-y})),_}function addRequestID(o,l){return!o||"object"!=typeof o||Array.isArray(o)?o:Object.defineProperty(o,"_request_id",{value:l.headers.get("request-id"),enumerable:!1})}var apiPromise={},_APIPromise_client;Object.defineProperty(apiPromise,"__esModule",{value:!0}),apiPromise.APIPromise=void 0;const tslib_1$2=tslib,parse_1$1=parse;class APIPromise extends Promise{constructor(o,l,p=parse_1$1.defaultParseResponse){super(o=>{o(null)}),this.responsePromise=l,this.parseResponse=p,_APIPromise_client.set(this,void 0),tslib_1$2.__classPrivateFieldSet(this,_APIPromise_client,o,"f")}_thenUnwrap(o){return new APIPromise(tslib_1$2.__classPrivateFieldGet(this,_APIPromise_client,"f"),this.responsePromise,async(l,p)=>(0,parse_1$1.addRequestID)(o(await this.parseResponse(l,p),p),p.response))}asResponse(){return this.responsePromise.then(o=>o.response)}async withResponse(){const[o,l]=await Promise.all([this.parse(),this.asResponse()]);return{data:o,response:l,request_id:l.headers.get("request-id")}}parse(){return this.parsedPromise||(this.parsedPromise=this.responsePromise.then(o=>this.parseResponse(tslib_1$2.__classPrivateFieldGet(this,_APIPromise_client,"f"),o))),this.parsedPromise}then(o,l){return this.parse().then(o,l)}catch(o){return this.parse().catch(o)}finally(o){return this.parse().finally(o)}}var _AbstractPage_client;apiPromise.APIPromise=APIPromise,_APIPromise_client=new WeakMap,Object.defineProperty(pagination,"__esModule",{value:!0}),pagination.Page=pagination.PagePromise=pagination.AbstractPage=void 0;const tslib_1$1=tslib,error_1=error$1,parse_1=parse,api_promise_1$1=apiPromise,values_1$1=values;class AbstractPage{constructor(o,l,p,m){_AbstractPage_client.set(this,void 0),tslib_1$1.__classPrivateFieldSet(this,_AbstractPage_client,o,"f"),this.options=m,this.response=l,this.body=p}hasNextPage(){return!!this.getPaginatedItems().length&&null!=this.nextPageRequestOptions()}async getNextPage(){const o=this.nextPageRequestOptions();if(!o)throw new error_1.AnthropicError("No next page expected; please check `.hasNextPage()` before calling `.getNextPage()`.");return await tslib_1$1.__classPrivateFieldGet(this,_AbstractPage_client,"f").requestAPIList(this.constructor,o)}async*iterPages(){let o=this;for(yield o;o.hasNextPage();)o=await o.getNextPage(),yield o}async*[(_AbstractPage_client=new WeakMap,Symbol.asyncIterator)](){for await(const o of this.iterPages())for(const l of o.getPaginatedItems())yield l}}pagination.AbstractPage=AbstractPage;class PagePromise extends api_promise_1$1.APIPromise{constructor(o,l,p){super(o,l,async(o,l)=>new p(o,l.response,await(0,parse_1.defaultParseResponse)(o,l),l.options))}async*[Symbol.asyncIterator](){const o=await(this);for await(const l of o)yield l}}pagination.PagePromise=PagePromise;class Page extends AbstractPage{constructor(o,l,p,m){super(o,l,p,m),this.data=p.data||[],this.has_more=p.has_more||!1,this.first_id=p.first_id||null,this.last_id=p.last_id||null}getPaginatedItems(){return this.data??[]}hasNextPage(){return!1!==this.has_more&&super.hasNextPage()}nextPageRequestOptions(){if(this.options.query?.before_id){const o=this.first_id;return o?{...this.options,query:{...(0,values_1$1.maybeObj)(this.options.query),before_id:o}}:null}const o=this.last_id;return o?{...this.options,query:{...(0,values_1$1.maybeObj)(this.options.query),after_id:o}}:null}}pagination.Page=Page;var uploads$1={},toFile$1={},uploads={};!function(o){Object.defineProperty(o,"__esModule",{value:!0}),o.createForm=o.multipartFormRequestOptions=o.maybeMultipartFormRequestOptions=o.isAsyncIterable=o.checkFileSupport=void 0,o.makeFile=makeFile,o.getName=getName;const l=requireShims();function makeFile(l,p,m){return(0,o.checkFileSupport)(),new File(l,p??"unknown_file",m)}function getName(o){return("object"==typeof o&&null!==o&&("name"in o&&o.name&&String(o.name)||"url"in o&&o.url&&String(o.url)||"filename"in o&&o.filename&&String(o.filename)||"path"in o&&o.path&&String(o.path))||"").split(/[\\/]/).pop()||void 0}o.checkFileSupport=()=>{if("undefined"==typeof File){const{process:o}=globalThis,l="string"==typeof o?.versions?.node&&parseInt(o.versions.node.split("."))<20;throw new Error("`File` is not defined as a global, which is required for file uploads."+(l?" Update to Node 20 LTS or newer, or set `globalThis.File` to `import('node:buffer').File`.":""))}};o.isAsyncIterable=o=>null!=o&&"object"==typeof o&&"function"==typeof o[Symbol.asyncIterator];o.maybeMultipartFormRequestOptions=async(l,p)=>hasUploadableValue(l.body)?{...l,body:await(0,o.createForm)(l.body,p)}:l;o.multipartFormRequestOptions=async(l,p)=>({...l,body:await(0,o.createForm)(l.body,p)});const p=new WeakMap;o.createForm=async(o,l)=>{if(!await function(o){const l="function"==typeof o?o:o.fetch,m=p.get(l);if(m)return m;const g=(async()=>{try{const o="Response"in l?l.Response:(await l("data:,")).constructor,p=new FormData;return p.toString()!==await new o(p).text()}catch{return!0}})();return p.set(l,g),g}(l))throw new TypeError("The provided fetch function does not support file uploads with the current global FormData class.");const m=new FormData;return await Promise.all(Object.entries(o||{}).map(([o,l])=>addFormValue(m,o,l))),m};const isNamedBlob=o=>o instanceof Blob&&"name"in o,hasUploadableValue=l=>{if((l=>"object"==typeof l&&null!==l&&(l instanceof Response||(0,o.isAsyncIterable)(l)||isNamedBlob(l)))(l))return!0;if(Array.isArray(l))return l.some(hasUploadableValue);if(l&&"object"==typeof l)for(const o in l)if(hasUploadableValue(l[o]))return!0;return!1},addFormValue=async(p,m,g)=>{if(void 0!==g){if(null==g)throw new TypeError(`Received null for "${m}"; to pass null in FormData, you must use the string 'null'`);if("string"==typeof g||"number"==typeof g||"boolean"==typeof g)p.append(m,String(g));else if(g instanceof Response){let o={};const l=g.headers.get("Content-Type");l&&(o={type:l}),p.append(m,makeFile([await g.blob()],getName(g),o))}else if((0,o.isAsyncIterable)(g))p.append(m,makeFile([await new Response((0,l.ReadableStreamFrom)(g)).blob()],getName(g)));else if(isNamedBlob(g))p.append(m,makeFile([g],getName(g),{type:g.type}));else if(Array.isArray(g))await Promise.all(g.map(o=>addFormValue(p,m+"[]",o)));else{if("object"!=typeof g)throw new TypeError(`Invalid value given to form, expected a string, number, boolean, object, Array, File or Blob but got ${g} instead`);await Promise.all(Object.entries(g).map(([o,l])=>addFormValue(p,`${m}[${o}]`,l)))}}}}(uploads),Object.defineProperty(toFile$1,"__esModule",{value:!0}),toFile$1.toFile=toFile;const uploads_1=uploads,uploads_2=uploads,isBlobLike=o=>null!=o&&"object"==typeof o&&"number"==typeof o.size&&"string"==typeof o.type&&"function"==typeof o.text&&"function"==typeof o.slice&&"function"==typeof o.arrayBuffer,isFileLike=o=>null!=o&&"object"==typeof o&&"string"==typeof o.name&&"number"==typeof o.lastModified&&isBlobLike(o),isResponseLike=o=>null!=o&&"object"==typeof o&&"string"==typeof o.url&&"function"==typeof o.blob;async function toFile(o,l,p){if((0,uploads_2.checkFileSupport)(),o=await o,l||(l=(0,uploads_1.getName)(o)),isFileLike(o))return o instanceof File&&null==l&&null==p?o:(0,uploads_1.makeFile)([await o.arrayBuffer()],l??o.name,{type:o.type,lastModified:o.lastModified,...p});if(isResponseLike(o)){const m=await o.blob();return l||(l=new URL(o.url).pathname.split(/[\\/]/).pop()),(0,uploads_1.makeFile)(await getBytes(m),l,p)}const m=await getBytes(o);if(!p?.type){const o=m.find(o=>"object"==typeof o&&"type"in o&&o.type);"string"==typeof o&&(p={...p,type:o})}return(0,uploads_1.makeFile)(m,l,p)}async function getBytes(o){let l=[];if("string"==typeof o||ArrayBuffer.isView(o)||o instanceof ArrayBuffer)l.push(o);else if(isBlobLike(o))l.push(o instanceof Blob?o:await o.arrayBuffer());else{if(!(0,uploads_1.isAsyncIterable)(o)){const l=o?.constructor?.name;throw new Error(`Unexpected data type: ${typeof o}${l?`; constructor: ${l}`:""}${propsForError(o)}`)}for await(const p of o)l.push(...await getBytes(p))}return l}function propsForError(o){if("object"!=typeof o||null===o)return"";return`; props: [${Object.getOwnPropertyNames(o).map(o=>`"${o}"`).join(", ")}]`}!function(o){Object.defineProperty(o,"__esModule",{value:!0}),o.toFile=void 0;var l=toFile$1;Object.defineProperty(o,"toFile",{enumerable:!0,get:function(){return l.toFile}})}(uploads$1);var resources={},shared={},hasRequiredShared;function requireShared(){return hasRequiredShared||(hasRequiredShared=1,Object.defineProperty(shared,"__esModule",{value:!0})),shared}var beta={},resource={},hasRequiredResource;function requireResource(){if(hasRequiredResource)return resource;hasRequiredResource=1,Object.defineProperty(resource,"__esModule",{value:!0}),resource.APIResource=void 0;return resource.APIResource=class{constructor(o){this._client=o}},resource}var files={},headers={},hasRequiredHeaders;function requireHeaders(){if(hasRequiredHeaders)return headers;hasRequiredHeaders=1,Object.defineProperty(headers,"__esModule",{value:!0}),headers.isEmptyHeaders=headers.buildHeaders=void 0;const o=values,l=Symbol.for("brand.privateNullableHeaders");function*iterateHeaders(p){if(!p)return;if(l in p){const{values:o,nulls:l}=p;yield*o.entries();for(const o of l)yield[o,null];return}let m,g=!1;p instanceof Headers?m=p.entries():(0,o.isReadonlyArray)(p)?m=p:(g=!0,m=Object.entries(p??{}));for(let l of m){const p=l[0];if("string"!=typeof p)throw new TypeError("expected header name to be a string");const m=(0,o.isReadonlyArray)(l[1])?l[1]:[l[1]];let y=!1;for(const o of m)void 0!==o&&(g&&!y&&(y=!0,yield[p,null]),yield[p,o])}}headers.buildHeaders=o=>{const p=new Headers,m=new Set;for(const l of o){const o=new Set;for(const[g,y]of iterateHeaders(l)){const l=g.toLowerCase();o.has(l)||(p.delete(g),o.add(l)),null===y?(p.delete(g),m.add(l)):(p.append(g,y),m.delete(l))}}return{[l]:!0,values:p,nulls:m}};return headers.isEmptyHeaders=o=>{for(const l of iterateHeaders(o))return!1;return!0},headers}var path$1={},hasRequiredPath,hasRequiredFiles;function requirePath(){return hasRequiredPath||(hasRequiredPath=1,function(o){Object.defineProperty(o,"__esModule",{value:!0}),o.path=o.createPathTagFunction=void 0,o.encodeURIPath=encodeURIPath;const l=error$1;function encodeURIPath(o){return o.replace(/[^A-Za-z0-9\-._~!$&'()*+,;=:@]+/g,encodeURIComponent)}const p=Object.freeze(Object.create(null));o.createPathTagFunction=(o=encodeURIPath)=>function(m,...g){if(1===m.length)return m[0];let y=!1;const _=[],b=m.reduce((l,m,b)=>{/[?#]/.test(m)&&(y=!0);const S=g[b];let A=(y?encodeURIComponent:o)(""+S);return b!==g.length&&(null==S||"object"==typeof S&&S.toString===Object.getPrototypeOf(Object.getPrototypeOf(S.hasOwnProperty??p)??p)?.toString)&&(A=S+"",_.push({start:l.length+m.length,length:A.length,error:`Value of type ${Object.prototype.toString.call(S).slice(8,-1)} is not a valid path parameter`})),l+m+(b===g.length?"":A)},""),S=b.split(/[?#]/,1)[0],A=/(?<=^|\/)(?:\.|%2e){1,2}(?=\/|$)/gi;let T;for(;null!==(T=A.exec(S));)_.push({start:T.index,length:T[0].length,error:`Value "${T[0]}" can't be safely passed as a path parameter`});if(_.sort((o,l)=>o.start-l.start),_.length>0){let o=0;const p=_.reduce((l,p)=>{const m=" ".repeat(p.start-o),g="^".repeat(p.length);return o=p.start+p.length,l+m+g},"");throw new l.AnthropicError(`Path parameters result in path with invalid segments:\n${_.map(o=>o.error).join("\n")}\n${b}\n${p}`)}return b},o.path=(0,o.createPathTagFunction)(encodeURIPath)}(path$1)),path$1}function requireFiles(){if(hasRequiredFiles)return files;hasRequiredFiles=1,Object.defineProperty(files,"__esModule",{value:!0}),files.Files=void 0;const o=requireResource(),l=pagination,p=requireHeaders(),m=uploads,g=requirePath();class y extends o.APIResource{list(o={},m){const{betas:g,...y}=o??{};return this._client.getAPIList("/v1/files",l.Page,{query:y,...m,headers:(0,p.buildHeaders)([{"anthropic-beta":[...g??[],"files-api-2025-04-14"].toString()},m?.headers])})}delete(o,l={},m){const{betas:y}=l??{};return this._client.delete(g.path`/v1/files/${o}`,{...m,headers:(0,p.buildHeaders)([{"anthropic-beta":[...y??[],"files-api-2025-04-14"].toString()},m?.headers])})}download(o,l={},m){const{betas:y}=l??{};return this._client.get(g.path`/v1/files/${o}/content`,{...m,headers:(0,p.buildHeaders)([{"anthropic-beta":[...y??[],"files-api-2025-04-14"].toString(),Accept:"application/binary"},m?.headers]),__binaryResponse:!0})}retrieveMetadata(o,l={},m){const{betas:y}=l??{};return this._client.get(g.path`/v1/files/${o}`,{...m,headers:(0,p.buildHeaders)([{"anthropic-beta":[...y??[],"files-api-2025-04-14"].toString()},m?.headers])})}upload(o,l){const{betas:g,...y}=o;return this._client.post("/v1/files",(0,m.multipartFormRequestOptions)({body:y,...l,headers:(0,p.buildHeaders)([{"anthropic-beta":[...g??[],"files-api-2025-04-14"].toString()},l?.headers])},this._client))}}return files.Files=y,files}var models$1={},hasRequiredModels$1;function requireModels$1(){if(hasRequiredModels$1)return models$1;hasRequiredModels$1=1,Object.defineProperty(models$1,"__esModule",{value:!0}),models$1.Models=void 0;const o=requireResource(),l=pagination,p=requireHeaders(),m=requirePath();class g extends o.APIResource{retrieve(o,l={},g){const{betas:y}=l??{};return this._client.get(m.path`/v1/models/${o}?beta=true`,{...g,headers:(0,p.buildHeaders)([{...null!=y?.toString()?{"anthropic-beta":y?.toString()}:void 0},g?.headers])})}list(o={},m){const{betas:g,...y}=o??{};return this._client.getAPIList("/v1/models?beta=true",l.Page,{query:y,...m,headers:(0,p.buildHeaders)([{...null!=g?.toString()?{"anthropic-beta":g?.toString()}:void 0},m?.headers])})}}return models$1.Models=g,models$1}var messages$1={},batches$1={},jsonl={},hasRequiredJsonl;function requireJsonl(){if(hasRequiredJsonl)return jsonl;hasRequiredJsonl=1,Object.defineProperty(jsonl,"__esModule",{value:!0}),jsonl.JSONLDecoder=void 0;const o=error$1,l=requireShims(),p=line;class m{constructor(o,l){this.iterator=o,this.controller=l}async*decoder(){const o=new p.LineDecoder;for await(const l of this.iterator)for(const p of o.decode(l))yield JSON.parse(p);for(const l of o.flush())yield JSON.parse(l)}[Symbol.asyncIterator](){return this.decoder()}static fromResponse(p,g){if(!p.body){if(g.abort(),void 0!==globalThis.navigator&&"ReactNative"===globalThis.navigator.product)throw new o.AnthropicError("The default react-native fetch implementation does not support streaming. Please use expo/fetch: https://docs.expo.dev/versions/latest/sdk/expo/#expofetch-api");throw new o.AnthropicError("Attempted to iterate over a response with no body")}return new m((0,l.ReadableStreamToAsyncIterable)(p.body),g)}}return jsonl.JSONLDecoder=m,jsonl}var error={},hasRequiredError,hasRequiredBatches$1;function requireError(){return hasRequiredError||(hasRequiredError=1,function(o){Object.defineProperty(o,"__esModule",{value:!0});tslib.__exportStar(error$1,o)}(error)),error}function requireBatches$1(){if(hasRequiredBatches$1)return batches$1;hasRequiredBatches$1=1,Object.defineProperty(batches$1,"__esModule",{value:!0}),batches$1.Batches=void 0;const o=requireResource(),l=pagination,p=requireHeaders(),m=requireJsonl(),g=requireError(),y=requirePath();class _ extends o.APIResource{create(o,l){const{betas:m,...g}=o;return this._client.post("/v1/messages/batches?beta=true",{body:g,...l,headers:(0,p.buildHeaders)([{"anthropic-beta":[...m??[],"message-batches-2024-09-24"].toString()},l?.headers])})}retrieve(o,l={},m){const{betas:g}=l??{};return this._client.get(y.path`/v1/messages/batches/${o}?beta=true`,{...m,headers:(0,p.buildHeaders)([{"anthropic-beta":[...g??[],"message-batches-2024-09-24"].toString()},m?.headers])})}list(o={},m){const{betas:g,...y}=o??{};return this._client.getAPIList("/v1/messages/batches?beta=true",l.Page,{query:y,...m,headers:(0,p.buildHeaders)([{"anthropic-beta":[...g??[],"message-batches-2024-09-24"].toString()},m?.headers])})}delete(o,l={},m){const{betas:g}=l??{};return this._client.delete(y.path`/v1/messages/batches/${o}?beta=true`,{...m,headers:(0,p.buildHeaders)([{"anthropic-beta":[...g??[],"message-batches-2024-09-24"].toString()},m?.headers])})}cancel(o,l={},m){const{betas:g}=l??{};return this._client.post(y.path`/v1/messages/batches/${o}/cancel?beta=true`,{...m,headers:(0,p.buildHeaders)([{"anthropic-beta":[...g??[],"message-batches-2024-09-24"].toString()},m?.headers])})}async results(o,l={},y){const _=await this.retrieve(o);if(!_.results_url)throw new g.AnthropicError(`No batch \`results_url\`; Has it finished processing? ${_.processing_status} - ${_.id}`);const{betas:b}=l??{};return this._client.get(_.results_url,{...y,headers:(0,p.buildHeaders)([{"anthropic-beta":[...b??[],"message-batches-2024-09-24"].toString(),Accept:"application/binary"},y?.headers]),stream:!0,__binaryResponse:!0})._thenUnwrap((o,l)=>m.JSONLDecoder.fromResponse(l.response,l.controller))}}return batches$1.Batches=_,batches$1}var BetaMessageStream={},streaming={},hasRequiredStreaming;function requireStreaming(){return hasRequiredStreaming||(hasRequiredStreaming=1,function(o){Object.defineProperty(o,"__esModule",{value:!0});tslib.__exportStar(streaming$1,o)}(streaming)),streaming}var parser={},hasRequiredParser,hasRequiredBetaMessageStream;function requireParser(){if(hasRequiredParser)return parser;hasRequiredParser=1,Object.defineProperty(parser,"__esModule",{value:!0}),parser.partialParse=void 0;const strip=o=>{if(0===o.length)return o;let l=o[o.length-1];switch(l.type){case"separator":return o=o.slice(0,o.length-1),strip(o);case"number":let p=l.value[l.value.length-1];if("."===p||"-"===p)return o=o.slice(0,o.length-1),strip(o);case"string":let m=o[o.length-2];if("delimiter"===m?.type)return o=o.slice(0,o.length-1),strip(o);if("brace"===m?.type&&"{"===m.value)return o=o.slice(0,o.length-1),strip(o);break;case"delimiter":return o=o.slice(0,o.length-1),strip(o)}return o};return parser.partialParse=o=>JSON.parse((o=>{let l="";return o.map(o=>{"string"===o.type?l+='"'+o.value+'"':l+=o.value}),l})((o=>{let l=[];return o.map(o=>{"brace"===o.type&&("{"===o.value?l.push("}"):l.splice(l.lastIndexOf("}"),1)),"paren"===o.type&&("["===o.value?l.push("]"):l.splice(l.lastIndexOf("]"),1))}),l.length>0&&l.reverse().map(l=>{"}"===l?o.push({type:"brace",value:"}"}):"]"===l&&o.push({type:"paren",value:"]"})}),o})(strip((o=>{let l=0,p=[];for(;l<o.length;){let m=o[l];if("\\"===m){l++;continue}if("{"===m){p.push({type:"brace",value:"{"}),l++;continue}if("}"===m){p.push({type:"brace",value:"}"}),l++;continue}if("["===m){p.push({type:"paren",value:"["}),l++;continue}if("]"===m){p.push({type:"paren",value:"]"}),l++;continue}if(":"===m){p.push({type:"separator",value:":"}),l++;continue}if(","===m){p.push({type:"delimiter",value:","}),l++;continue}if('"'===m){let g="",y=!1;for(m=o[++l];'"'!==m;){if(l===o.length){y=!0;break}if("\\"===m){if(l++,l===o.length){y=!0;break}g+=m+o[l],m=o[++l]}else g+=m,m=o[++l]}m=o[++l],y||p.push({type:"string",value:g});continue}if(m&&/\s/.test(m)){l++;continue}let g=/[0-9]/;if(m&&g.test(m)||"-"===m||"."===m){let y="";for("-"===m&&(y+=m,m=o[++l]);m&&g.test(m)||"."===m;)y+=m,m=o[++l];p.push({type:"number",value:y});continue}let y=/[a-z]/i;if(m&&y.test(m)){let g="";for(;m&&y.test(m)&&l!==o.length;)g+=m,m=o[++l];if("true"!=g&&"false"!=g&&"null"!==g){l++;continue}p.push({type:"name",value:g});continue}l++}return p})(o))))),parser}function requireBetaMessageStream(){if(hasRequiredBetaMessageStream)return BetaMessageStream;var o,l,p,m,g,y,_,b,S,A,T,w,D,O,k,I,N,L,j,B,U,q;hasRequiredBetaMessageStream=1,Object.defineProperty(BetaMessageStream,"__esModule",{value:!0}),BetaMessageStream.BetaMessageStream=void 0;const Z=tslib,H=errors,G=requireError(),z=requireStreaming(),W=requireParser(),Q="__json_buf";function tracksToolInput(o){return"tool_use"===o.type||"server_tool_use"===o.type||"mcp_tool_use"===o.type}let ae=class ae{constructor(){o.add(this),this.messages=[],this.receivedMessages=[],l.set(this,void 0),this.controller=new AbortController,p.set(this,void 0),m.set(this,()=>{}),g.set(this,()=>{}),y.set(this,void 0),_.set(this,()=>{}),b.set(this,()=>{}),S.set(this,{}),A.set(this,!1),T.set(this,!1),w.set(this,!1),D.set(this,!1),O.set(this,void 0),k.set(this,void 0),L.set(this,o=>{if(Z.__classPrivateFieldSet(this,T,!0,"f"),(0,H.isAbortError)(o)&&(o=new G.APIUserAbortError),o instanceof G.APIUserAbortError)return Z.__classPrivateFieldSet(this,w,!0,"f"),this._emit("abort",o);if(o instanceof G.AnthropicError)return this._emit("error",o);if(o instanceof Error){const l=new G.AnthropicError(o.message);return l.cause=o,this._emit("error",l)}return this._emit("error",new G.AnthropicError(String(o)))}),Z.__classPrivateFieldSet(this,p,new Promise((o,l)=>{Z.__classPrivateFieldSet(this,m,o,"f"),Z.__classPrivateFieldSet(this,g,l,"f")}),"f"),Z.__classPrivateFieldSet(this,y,new Promise((o,l)=>{Z.__classPrivateFieldSet(this,_,o,"f"),Z.__classPrivateFieldSet(this,b,l,"f")}),"f"),Z.__classPrivateFieldGet(this,p,"f").catch(()=>{}),Z.__classPrivateFieldGet(this,y,"f").catch(()=>{})}get response(){return Z.__classPrivateFieldGet(this,O,"f")}get request_id(){return Z.__classPrivateFieldGet(this,k,"f")}async withResponse(){const o=await Z.__classPrivateFieldGet(this,p,"f");if(!o)throw new Error("Could not resolve a `Response` object");return{data:this,response:o,request_id:o.headers.get("request-id")}}static fromReadableStream(o){const l=new ae;return l._run(()=>l._fromReadableStream(o)),l}static createMessage(o,l,p){const m=new ae;for(const o of l.messages)m._addMessageParam(o);return m._run(()=>m._createMessage(o,{...l,stream:!0},{...p,headers:{...p?.headers,"X-Stainless-Helper-Method":"stream"}})),m}_run(o){o().then(()=>{this._emitFinal(),this._emit("end")},Z.__classPrivateFieldGet(this,L,"f"))}_addMessageParam(o){this.messages.push(o)}_addMessage(o,l=!0){this.receivedMessages.push(o),l&&this._emit("message",o)}async _createMessage(l,p,m){const g=m?.signal;let y;g&&(g.aborted&&this.controller.abort(),y=this.controller.abort.bind(this.controller),g.addEventListener("abort",y));try{Z.__classPrivateFieldGet(this,o,"m",j).call(this);const{response:g,data:y}=await l.create({...p,stream:!0},{...m,signal:this.controller.signal}).withResponse();this._connected(g);for await(const l of y)Z.__classPrivateFieldGet(this,o,"m",B).call(this,l);if(y.controller.signal?.aborted)throw new G.APIUserAbortError;Z.__classPrivateFieldGet(this,o,"m",U).call(this)}finally{g&&y&&g.removeEventListener("abort",y)}}_connected(o){this.ended||(Z.__classPrivateFieldSet(this,O,o,"f"),Z.__classPrivateFieldSet(this,k,o?.headers.get("request-id"),"f"),Z.__classPrivateFieldGet(this,m,"f").call(this,o),this._emit("connect"))}get ended(){return Z.__classPrivateFieldGet(this,A,"f")}get errored(){return Z.__classPrivateFieldGet(this,T,"f")}get aborted(){return Z.__classPrivateFieldGet(this,w,"f")}abort(){this.controller.abort()}on(o,l){return(Z.__classPrivateFieldGet(this,S,"f")[o]||(Z.__classPrivateFieldGet(this,S,"f")[o]=[])).push({listener:l}),this}off(o,l){const p=Z.__classPrivateFieldGet(this,S,"f")[o];if(!p)return this;const m=p.findIndex(o=>o.listener===l);return m>=0&&p.splice(m,1),this}once(o,l){return(Z.__classPrivateFieldGet(this,S,"f")[o]||(Z.__classPrivateFieldGet(this,S,"f")[o]=[])).push({listener:l,once:!0}),this}emitted(o){return new Promise((l,p)=>{Z.__classPrivateFieldSet(this,D,!0,"f"),"error"!==o&&this.once("error",p),this.once(o,l)})}async done(){Z.__classPrivateFieldSet(this,D,!0,"f"),await Z.__classPrivateFieldGet(this,y,"f")}get currentMessage(){return Z.__classPrivateFieldGet(this,l,"f")}async finalMessage(){return await this.done(),Z.__classPrivateFieldGet(this,o,"m",I).call(this)}async finalText(){return await this.done(),Z.__classPrivateFieldGet(this,o,"m",N).call(this)}_emit(o,...l){if(Z.__classPrivateFieldGet(this,A,"f"))return;"end"===o&&(Z.__classPrivateFieldSet(this,A,!0,"f"),Z.__classPrivateFieldGet(this,_,"f").call(this));const p=Z.__classPrivateFieldGet(this,S,"f")[o];if(p&&(Z.__classPrivateFieldGet(this,S,"f")[o]=p.filter(o=>!o.once),p.forEach(({listener:o})=>o(...l))),"abort"===o){const o=l[0];return Z.__classPrivateFieldGet(this,D,"f")||p?.length||Promise.reject(o),Z.__classPrivateFieldGet(this,g,"f").call(this,o),Z.__classPrivateFieldGet(this,b,"f").call(this,o),void this._emit("end")}if("error"===o){const o=l[0];Z.__classPrivateFieldGet(this,D,"f")||p?.length||Promise.reject(o),Z.__classPrivateFieldGet(this,g,"f").call(this,o),Z.__classPrivateFieldGet(this,b,"f").call(this,o),this._emit("end")}}_emitFinal(){this.receivedMessages.at(-1)&&this._emit("finalMessage",Z.__classPrivateFieldGet(this,o,"m",I).call(this))}async _fromReadableStream(l,p){const m=p?.signal;let g;m&&(m.aborted&&this.controller.abort(),g=this.controller.abort.bind(this.controller),m.addEventListener("abort",g));try{Z.__classPrivateFieldGet(this,o,"m",j).call(this),this._connected(null);const p=z.Stream.fromReadableStream(l,this.controller);for await(const l of p)Z.__classPrivateFieldGet(this,o,"m",B).call(this,l);if(p.controller.signal?.aborted)throw new G.APIUserAbortError;Z.__classPrivateFieldGet(this,o,"m",U).call(this)}finally{m&&g&&m.removeEventListener("abort",g)}}[(l=new WeakMap,p=new WeakMap,m=new WeakMap,g=new WeakMap,y=new WeakMap,_=new WeakMap,b=new WeakMap,S=new WeakMap,A=new WeakMap,T=new WeakMap,w=new WeakMap,D=new WeakMap,O=new WeakMap,k=new WeakMap,L=new WeakMap,o=new WeakSet,I=function(){if(0===this.receivedMessages.length)throw new G.AnthropicError("stream ended without producing a Message with role=assistant");return this.receivedMessages.at(-1)},N=function(){if(0===this.receivedMessages.length)throw new G.AnthropicError("stream ended without producing a Message with role=assistant");const o=this.receivedMessages.at(-1).content.filter(o=>"text"===o.type).map(o=>o.text);if(0===o.length)throw new G.AnthropicError("stream ended without producing a content block with type=text");return o.join(" ")},j=function(){this.ended||Z.__classPrivateFieldSet(this,l,void 0,"f")},B=function(p){if(this.ended)return;const m=Z.__classPrivateFieldGet(this,o,"m",q).call(this,p);switch(this._emit("streamEvent",p,m),p.type){case"content_block_delta":{const o=m.content.at(-1);switch(p.delta.type){case"text_delta":"text"===o.type&&this._emit("text",p.delta.text,o.text||"");break;case"citations_delta":"text"===o.type&&this._emit("citation",p.delta.citation,o.citations??[]);break;case"input_json_delta":tracksToolInput(o)&&o.input&&this._emit("inputJson",p.delta.partial_json,o.input);break;case"thinking_delta":"thinking"===o.type&&this._emit("thinking",p.delta.thinking,o.thinking);break;case"signature_delta":"thinking"===o.type&&this._emit("signature",o.signature);break;default:p.delta}break}case"message_stop":this._addMessageParam(m),this._addMessage(m,!0);break;case"content_block_stop":this._emit("contentBlock",m.content.at(-1));break;case"message_start":Z.__classPrivateFieldSet(this,l,m,"f")}},U=function(){if(this.ended)throw new G.AnthropicError("stream has ended, this shouldn't happen");const o=Z.__classPrivateFieldGet(this,l,"f");if(!o)throw new G.AnthropicError("request ended without sending any chunks");return Z.__classPrivateFieldSet(this,l,void 0,"f"),o},q=function(o){let p=Z.__classPrivateFieldGet(this,l,"f");if("message_start"===o.type){if(p)throw new G.AnthropicError(`Unexpected event order, got ${o.type} before receiving "message_stop"`);return o.message}if(!p)throw new G.AnthropicError(`Unexpected event order, got ${o.type} before "message_start"`);switch(o.type){case"message_stop":case"content_block_stop":return p;case"message_delta":return p.container=o.delta.container,p.stop_reason=o.delta.stop_reason,p.stop_sequence=o.delta.stop_sequence,p.usage.output_tokens=o.usage.output_tokens,null!=o.usage.input_tokens&&(p.usage.input_tokens=o.usage.input_tokens),null!=o.usage.cache_creation_input_tokens&&(p.usage.cache_creation_input_tokens=o.usage.cache_creation_input_tokens),null!=o.usage.cache_read_input_tokens&&(p.usage.cache_read_input_tokens=o.usage.cache_read_input_tokens),null!=o.usage.server_tool_use&&(p.usage.server_tool_use=o.usage.server_tool_use),p;case"content_block_start":return p.content.push(o.content_block),p;case"content_block_delta":{const l=p.content.at(o.index);switch(o.delta.type){case"text_delta":"text"===l?.type&&(p.content[o.index]={...l,text:(l.text||"")+o.delta.text});break;case"citations_delta":"text"===l?.type&&(p.content[o.index]={...l,citations:[...l.citations??[],o.delta.citation]});break;case"input_json_delta":if(l&&tracksToolInput(l)){let m=l[Q]||"";m+=o.delta.partial_json;const g={...l};if(Object.defineProperty(g,Q,{value:m,enumerable:!1,writable:!0}),m)try{g.input=(0,W.partialParse)(m)}catch(o){const l=new G.AnthropicError(`Unable to parse tool parameter JSON from model. Please retry your request or adjust your prompt. Error: ${o}. JSON: ${m}`);Z.__classPrivateFieldGet(this,L,"f").call(this,l)}p.content[o.index]=g}break;case"thinking_delta":"thinking"===l?.type&&(p.content[o.index]={...l,thinking:l.thinking+o.delta.thinking});break;case"signature_delta":"thinking"===l?.type&&(p.content[o.index]={...l,signature:o.delta.signature});break;default:o.delta}return p}}},Symbol.asyncIterator)](){const o=[],l=[];let p=!1;return this.on("streamEvent",p=>{const m=l.shift();m?m.resolve(p):o.push(p)}),this.on("end",()=>{p=!0;for(const o of l)o.resolve(void 0);l.length=0}),this.on("abort",o=>{p=!0;for(const p of l)p.reject(o);l.length=0}),this.on("error",o=>{p=!0;for(const p of l)p.reject(o);l.length=0}),{next:async()=>{if(!o.length)return p?{value:void 0,done:!0}:new Promise((o,p)=>l.push({resolve:o,reject:p})).then(o=>o?{value:o,done:!1}:{value:void 0,done:!0});return{value:o.shift(),done:!1}},return:async()=>(this.abort(),{value:void 0,done:!0})}}toReadableStream(){return new z.Stream(this[Symbol.asyncIterator].bind(this),this.controller).toReadableStream()}};return BetaMessageStream.BetaMessageStream=ae,BetaMessageStream}var constants={},hasRequiredConstants,hasRequiredMessages$1,hasRequiredBeta;function requireConstants(){return hasRequiredConstants||(hasRequiredConstants=1,Object.defineProperty(constants,"__esModule",{value:!0}),constants.MODEL_NONSTREAMING_TOKENS=void 0,constants.MODEL_NONSTREAMING_TOKENS={"claude-opus-4-20250514":8192,"claude-opus-4-0":8192,"claude-4-opus-20250514":8192,"anthropic.claude-opus-4-20250514-v1:0":8192,"claude-opus-4@20250514":8192,"claude-opus-4-1-20250805":8192,"anthropic.claude-opus-4-1-20250805-v1:0":8192,"claude-opus-4-1@20250805":8192}),constants}function requireMessages$1(){if(hasRequiredMessages$1)return messages$1;hasRequiredMessages$1=1,Object.defineProperty(messages$1,"__esModule",{value:!0}),messages$1.Messages=void 0;const o=tslib,l=requireResource(),p=o.__importStar(requireBatches$1()),m=requireBatches$1(),g=requireHeaders(),y=requireBetaMessageStream(),_={"claude-1.3":"November 6th, 2024","claude-1.3-100k":"November 6th, 2024","claude-instant-1.1":"November 6th, 2024","claude-instant-1.1-100k":"November 6th, 2024","claude-instant-1.2":"November 6th, 2024","claude-3-sonnet-20240229":"July 21st, 2025","claude-3-opus-20240229":"January 5th, 2026","claude-2.1":"July 21st, 2025","claude-2.0":"July 21st, 2025","claude-3-5-sonnet-20241022":"October 22, 2025","claude-3-5-sonnet-20240620":"October 22, 2025"},b=requireConstants();class S extends l.APIResource{constructor(){super(...arguments),this.batches=new p.Batches(this._client)}create(o,l){const{betas:p,...m}=o;m.model in _&&console.warn(`The model '${m.model}' is deprecated and will reach end-of-life on ${_[m.model]}\nPlease migrate to a newer model. Visit https://docs.anthropic.com/en/docs/resources/model-deprecations for more information.`);let y=this._client._options.timeout;if(!m.stream&&null==y){const o=b.MODEL_NONSTREAMING_TOKENS[m.model]??void 0;y=this._client.calculateNonstreamingTimeout(m.max_tokens,o)}return this._client.post("/v1/messages?beta=true",{body:m,timeout:y??6e5,...l,headers:(0,g.buildHeaders)([{...null!=p?.toString()?{"anthropic-beta":p?.toString()}:void 0},l?.headers]),stream:o.stream??!1})}stream(o,l){return y.BetaMessageStream.createMessage(this,o,l)}countTokens(o,l){const{betas:p,...m}=o;return this._client.post("/v1/messages/count_tokens?beta=true",{body:m,...l,headers:(0,g.buildHeaders)([{"anthropic-beta":[...p??[],"token-counting-2024-11-01"].toString()},l?.headers])})}}return messages$1.Messages=S,S.Batches=m.Batches,messages$1}function requireBeta(){if(hasRequiredBeta)return beta;hasRequiredBeta=1,Object.defineProperty(beta,"__esModule",{value:!0}),beta.Beta=void 0;const o=tslib,l=requireResource(),p=o.__importStar(requireFiles()),m=requireFiles(),g=o.__importStar(requireModels$1()),y=requireModels$1(),_=o.__importStar(requireMessages$1()),b=requireMessages$1();class S extends l.APIResource{constructor(){super(...arguments),this.models=new g.Models(this._client),this.messages=new _.Messages(this._client),this.files=new p.Files(this._client)}}return beta.Beta=S,S.Models=y.Models,S.Messages=b.Messages,S.Files=m.Files,beta}var completions={},hasRequiredCompletions;function requireCompletions(){if(hasRequiredCompletions)return completions;hasRequiredCompletions=1,Object.defineProperty(completions,"__esModule",{value:!0}),completions.Completions=void 0;const o=requireResource(),l=requireHeaders();class p extends o.APIResource{create(o,p){const{betas:m,...g}=o;return this._client.post("/v1/complete",{body:g,timeout:this._client._options.timeout??6e5,...p,headers:(0,l.buildHeaders)([{...null!=m?.toString()?{"anthropic-beta":m?.toString()}:void 0},p?.headers]),stream:o.stream??!1})}}return completions.Completions=p,completions}var messages={},MessageStream={},hasRequiredMessageStream;function requireMessageStream(){if(hasRequiredMessageStream)return MessageStream;var o,l,p,m,g,y,_,b,S,A,T,w,D,O,k,I,N,L,j,B,U,q;hasRequiredMessageStream=1,Object.defineProperty(MessageStream,"__esModule",{value:!0}),MessageStream.MessageStream=void 0;const Z=tslib,H=errors,G=requireError(),z=requireStreaming(),W=requireParser(),Q="__json_buf";function tracksToolInput(o){return"tool_use"===o.type||"server_tool_use"===o.type}let ae=class ae{constructor(){o.add(this),this.messages=[],this.receivedMessages=[],l.set(this,void 0),this.controller=new AbortController,p.set(this,void 0),m.set(this,()=>{}),g.set(this,()=>{}),y.set(this,void 0),_.set(this,()=>{}),b.set(this,()=>{}),S.set(this,{}),A.set(this,!1),T.set(this,!1),w.set(this,!1),D.set(this,!1),O.set(this,void 0),k.set(this,void 0),L.set(this,o=>{if(Z.__classPrivateFieldSet(this,T,!0,"f"),(0,H.isAbortError)(o)&&(o=new G.APIUserAbortError),o instanceof G.APIUserAbortError)return Z.__classPrivateFieldSet(this,w,!0,"f"),this._emit("abort",o);if(o instanceof G.AnthropicError)return this._emit("error",o);if(o instanceof Error){const l=new G.AnthropicError(o.message);return l.cause=o,this._emit("error",l)}return this._emit("error",new G.AnthropicError(String(o)))}),Z.__classPrivateFieldSet(this,p,new Promise((o,l)=>{Z.__classPrivateFieldSet(this,m,o,"f"),Z.__classPrivateFieldSet(this,g,l,"f")}),"f"),Z.__classPrivateFieldSet(this,y,new Promise((o,l)=>{Z.__classPrivateFieldSet(this,_,o,"f"),Z.__classPrivateFieldSet(this,b,l,"f")}),"f"),Z.__classPrivateFieldGet(this,p,"f").catch(()=>{}),Z.__classPrivateFieldGet(this,y,"f").catch(()=>{})}get response(){return Z.__classPrivateFieldGet(this,O,"f")}get request_id(){return Z.__classPrivateFieldGet(this,k,"f")}async withResponse(){const o=await Z.__classPrivateFieldGet(this,p,"f");if(!o)throw new Error("Could not resolve a `Response` object");return{data:this,response:o,request_id:o.headers.get("request-id")}}static fromReadableStream(o){const l=new ae;return l._run(()=>l._fromReadableStream(o)),l}static createMessage(o,l,p){const m=new ae;for(const o of l.messages)m._addMessageParam(o);return m._run(()=>m._createMessage(o,{...l,stream:!0},{...p,headers:{...p?.headers,"X-Stainless-Helper-Method":"stream"}})),m}_run(o){o().then(()=>{this._emitFinal(),this._emit("end")},Z.__classPrivateFieldGet(this,L,"f"))}_addMessageParam(o){this.messages.push(o)}_addMessage(o,l=!0){this.receivedMessages.push(o),l&&this._emit("message",o)}async _createMessage(l,p,m){const g=m?.signal;let y;g&&(g.aborted&&this.controller.abort(),y=this.controller.abort.bind(this.controller),g.addEventListener("abort",y));try{Z.__classPrivateFieldGet(this,o,"m",j).call(this);const{response:g,data:y}=await l.create({...p,stream:!0},{...m,signal:this.controller.signal}).withResponse();this._connected(g);for await(const l of y)Z.__classPrivateFieldGet(this,o,"m",B).call(this,l);if(y.controller.signal?.aborted)throw new G.APIUserAbortError;Z.__classPrivateFieldGet(this,o,"m",U).call(this)}finally{g&&y&&g.removeEventListener("abort",y)}}_connected(o){this.ended||(Z.__classPrivateFieldSet(this,O,o,"f"),Z.__classPrivateFieldSet(this,k,o?.headers.get("request-id"),"f"),Z.__classPrivateFieldGet(this,m,"f").call(this,o),this._emit("connect"))}get ended(){return Z.__classPrivateFieldGet(this,A,"f")}get errored(){return Z.__classPrivateFieldGet(this,T,"f")}get aborted(){return Z.__classPrivateFieldGet(this,w,"f")}abort(){this.controller.abort()}on(o,l){return(Z.__classPrivateFieldGet(this,S,"f")[o]||(Z.__classPrivateFieldGet(this,S,"f")[o]=[])).push({listener:l}),this}off(o,l){const p=Z.__classPrivateFieldGet(this,S,"f")[o];if(!p)return this;const m=p.findIndex(o=>o.listener===l);return m>=0&&p.splice(m,1),this}once(o,l){return(Z.__classPrivateFieldGet(this,S,"f")[o]||(Z.__classPrivateFieldGet(this,S,"f")[o]=[])).push({listener:l,once:!0}),this}emitted(o){return new Promise((l,p)=>{Z.__classPrivateFieldSet(this,D,!0,"f"),"error"!==o&&this.once("error",p),this.once(o,l)})}async done(){Z.__classPrivateFieldSet(this,D,!0,"f"),await Z.__classPrivateFieldGet(this,y,"f")}get currentMessage(){return Z.__classPrivateFieldGet(this,l,"f")}async finalMessage(){return await this.done(),Z.__classPrivateFieldGet(this,o,"m",I).call(this)}async finalText(){return await this.done(),Z.__classPrivateFieldGet(this,o,"m",N).call(this)}_emit(o,...l){if(Z.__classPrivateFieldGet(this,A,"f"))return;"end"===o&&(Z.__classPrivateFieldSet(this,A,!0,"f"),Z.__classPrivateFieldGet(this,_,"f").call(this));const p=Z.__classPrivateFieldGet(this,S,"f")[o];if(p&&(Z.__classPrivateFieldGet(this,S,"f")[o]=p.filter(o=>!o.once),p.forEach(({listener:o})=>o(...l))),"abort"===o){const o=l[0];return Z.__classPrivateFieldGet(this,D,"f")||p?.length||Promise.reject(o),Z.__classPrivateFieldGet(this,g,"f").call(this,o),Z.__classPrivateFieldGet(this,b,"f").call(this,o),void this._emit("end")}if("error"===o){const o=l[0];Z.__classPrivateFieldGet(this,D,"f")||p?.length||Promise.reject(o),Z.__classPrivateFieldGet(this,g,"f").call(this,o),Z.__classPrivateFieldGet(this,b,"f").call(this,o),this._emit("end")}}_emitFinal(){this.receivedMessages.at(-1)&&this._emit("finalMessage",Z.__classPrivateFieldGet(this,o,"m",I).call(this))}async _fromReadableStream(l,p){const m=p?.signal;let g;m&&(m.aborted&&this.controller.abort(),g=this.controller.abort.bind(this.controller),m.addEventListener("abort",g));try{Z.__classPrivateFieldGet(this,o,"m",j).call(this),this._connected(null);const p=z.Stream.fromReadableStream(l,this.controller);for await(const l of p)Z.__classPrivateFieldGet(this,o,"m",B).call(this,l);if(p.controller.signal?.aborted)throw new G.APIUserAbortError;Z.__classPrivateFieldGet(this,o,"m",U).call(this)}finally{m&&g&&m.removeEventListener("abort",g)}}[(l=new WeakMap,p=new WeakMap,m=new WeakMap,g=new WeakMap,y=new WeakMap,_=new WeakMap,b=new WeakMap,S=new WeakMap,A=new WeakMap,T=new WeakMap,w=new WeakMap,D=new WeakMap,O=new WeakMap,k=new WeakMap,L=new WeakMap,o=new WeakSet,I=function(){if(0===this.receivedMessages.length)throw new G.AnthropicError("stream ended without producing a Message with role=assistant");return this.receivedMessages.at(-1)},N=function(){if(0===this.receivedMessages.length)throw new G.AnthropicError("stream ended without producing a Message with role=assistant");const o=this.receivedMessages.at(-1).content.filter(o=>"text"===o.type).map(o=>o.text);if(0===o.length)throw new G.AnthropicError("stream ended without producing a content block with type=text");return o.join(" ")},j=function(){this.ended||Z.__classPrivateFieldSet(this,l,void 0,"f")},B=function(p){if(this.ended)return;const m=Z.__classPrivateFieldGet(this,o,"m",q).call(this,p);switch(this._emit("streamEvent",p,m),p.type){case"content_block_delta":{const o=m.content.at(-1);switch(p.delta.type){case"text_delta":"text"===o.type&&this._emit("text",p.delta.text,o.text||"");break;case"citations_delta":"text"===o.type&&this._emit("citation",p.delta.citation,o.citations??[]);break;case"input_json_delta":tracksToolInput(o)&&o.input&&this._emit("inputJson",p.delta.partial_json,o.input);break;case"thinking_delta":"thinking"===o.type&&this._emit("thinking",p.delta.thinking,o.thinking);break;case"signature_delta":"thinking"===o.type&&this._emit("signature",o.signature);break;default:p.delta}break}case"message_stop":this._addMessageParam(m),this._addMessage(m,!0);break;case"content_block_stop":this._emit("contentBlock",m.content.at(-1));break;case"message_start":Z.__classPrivateFieldSet(this,l,m,"f")}},U=function(){if(this.ended)throw new G.AnthropicError("stream has ended, this shouldn't happen");const o=Z.__classPrivateFieldGet(this,l,"f");if(!o)throw new G.AnthropicError("request ended without sending any chunks");return Z.__classPrivateFieldSet(this,l,void 0,"f"),o},q=function(o){let p=Z.__classPrivateFieldGet(this,l,"f");if("message_start"===o.type){if(p)throw new G.AnthropicError(`Unexpected event order, got ${o.type} before receiving "message_stop"`);return o.message}if(!p)throw new G.AnthropicError(`Unexpected event order, got ${o.type} before "message_start"`);switch(o.type){case"message_stop":case"content_block_stop":return p;case"message_delta":return p.stop_reason=o.delta.stop_reason,p.stop_sequence=o.delta.stop_sequence,p.usage.output_tokens=o.usage.output_tokens,null!=o.usage.input_tokens&&(p.usage.input_tokens=o.usage.input_tokens),null!=o.usage.cache_creation_input_tokens&&(p.usage.cache_creation_input_tokens=o.usage.cache_creation_input_tokens),null!=o.usage.cache_read_input_tokens&&(p.usage.cache_read_input_tokens=o.usage.cache_read_input_tokens),null!=o.usage.server_tool_use&&(p.usage.server_tool_use=o.usage.server_tool_use),p;case"content_block_start":return p.content.push({...o.content_block}),p;case"content_block_delta":{const l=p.content.at(o.index);switch(o.delta.type){case"text_delta":"text"===l?.type&&(p.content[o.index]={...l,text:(l.text||"")+o.delta.text});break;case"citations_delta":"text"===l?.type&&(p.content[o.index]={...l,citations:[...l.citations??[],o.delta.citation]});break;case"input_json_delta":if(l&&tracksToolInput(l)){let m=l[Q]||"";m+=o.delta.partial_json;const g={...l};Object.defineProperty(g,Q,{value:m,enumerable:!1,writable:!0}),m&&(g.input=(0,W.partialParse)(m)),p.content[o.index]=g}break;case"thinking_delta":"thinking"===l?.type&&(p.content[o.index]={...l,thinking:l.thinking+o.delta.thinking});break;case"signature_delta":"thinking"===l?.type&&(p.content[o.index]={...l,signature:o.delta.signature});break;default:o.delta}return p}}},Symbol.asyncIterator)](){const o=[],l=[];let p=!1;return this.on("streamEvent",p=>{const m=l.shift();m?m.resolve(p):o.push(p)}),this.on("end",()=>{p=!0;for(const o of l)o.resolve(void 0);l.length=0}),this.on("abort",o=>{p=!0;for(const p of l)p.reject(o);l.length=0}),this.on("error",o=>{p=!0;for(const p of l)p.reject(o);l.length=0}),{next:async()=>{if(!o.length)return p?{value:void 0,done:!0}:new Promise((o,p)=>l.push({resolve:o,reject:p})).then(o=>o?{value:o,done:!1}:{value:void 0,done:!0});return{value:o.shift(),done:!1}},return:async()=>(this.abort(),{value:void 0,done:!0})}}toReadableStream(){return new z.Stream(this[Symbol.asyncIterator].bind(this),this.controller).toReadableStream()}};return MessageStream.MessageStream=ae,MessageStream}var batches={},hasRequiredBatches,hasRequiredMessages;function requireBatches(){if(hasRequiredBatches)return batches;hasRequiredBatches=1,Object.defineProperty(batches,"__esModule",{value:!0}),batches.Batches=void 0;const o=requireResource(),l=pagination,p=requireHeaders(),m=requireJsonl(),g=requireError(),y=requirePath();class _ extends o.APIResource{create(o,l){return this._client.post("/v1/messages/batches",{body:o,...l})}retrieve(o,l){return this._client.get(y.path`/v1/messages/batches/${o}`,l)}list(o={},p){return this._client.getAPIList("/v1/messages/batches",l.Page,{query:o,...p})}delete(o,l){return this._client.delete(y.path`/v1/messages/batches/${o}`,l)}cancel(o,l){return this._client.post(y.path`/v1/messages/batches/${o}/cancel`,l)}async results(o,l){const y=await this.retrieve(o);if(!y.results_url)throw new g.AnthropicError(`No batch \`results_url\`; Has it finished processing? ${y.processing_status} - ${y.id}`);return this._client.get(y.results_url,{...l,headers:(0,p.buildHeaders)([{Accept:"application/binary"},l?.headers]),stream:!0,__binaryResponse:!0})._thenUnwrap((o,l)=>m.JSONLDecoder.fromResponse(l.response,l.controller))}}return batches.Batches=_,batches}function requireMessages(){if(hasRequiredMessages)return messages;hasRequiredMessages=1,Object.defineProperty(messages,"__esModule",{value:!0}),messages.Messages=void 0;const o=tslib,l=requireResource(),p=requireMessageStream(),m=o.__importStar(requireBatches()),g=requireBatches(),y=requireConstants();class _ extends l.APIResource{constructor(){super(...arguments),this.batches=new m.Batches(this._client)}create(o,l){o.model in b&&console.warn(`The model '${o.model}' is deprecated and will reach end-of-life on ${b[o.model]}\nPlease migrate to a newer model. Visit https://docs.anthropic.com/en/docs/resources/model-deprecations for more information.`);let p=this._client._options.timeout;if(!o.stream&&null==p){const l=y.MODEL_NONSTREAMING_TOKENS[o.model]??void 0;p=this._client.calculateNonstreamingTimeout(o.max_tokens,l)}return this._client.post("/v1/messages",{body:o,timeout:p??6e5,...l,stream:o.stream??!1})}stream(o,l){return p.MessageStream.createMessage(this,o,l)}countTokens(o,l){return this._client.post("/v1/messages/count_tokens",{body:o,...l})}}messages.Messages=_;const b={"claude-1.3":"November 6th, 2024","claude-1.3-100k":"November 6th, 2024","claude-instant-1.1":"November 6th, 2024","claude-instant-1.1-100k":"November 6th, 2024","claude-instant-1.2":"November 6th, 2024","claude-3-sonnet-20240229":"July 21st, 2025","claude-3-opus-20240229":"January 5th, 2026","claude-2.1":"July 21st, 2025","claude-2.0":"July 21st, 2025","claude-3-5-sonnet-20241022":"October 22, 2025","claude-3-5-sonnet-20240620":"October 22, 2025"};return _.Batches=g.Batches,messages}var models={},hasRequiredModels,hasRequiredResources;function requireModels(){if(hasRequiredModels)return models;hasRequiredModels=1,Object.defineProperty(models,"__esModule",{value:!0}),models.Models=void 0;const o=requireResource(),l=pagination,p=requireHeaders(),m=requirePath();class g extends o.APIResource{retrieve(o,l={},g){const{betas:y}=l??{};return this._client.get(m.path`/v1/models/${o}`,{...g,headers:(0,p.buildHeaders)([{...null!=y?.toString()?{"anthropic-beta":y?.toString()}:void 0},g?.headers])})}list(o={},m){const{betas:g,...y}=o??{};return this._client.getAPIList("/v1/models",l.Page,{query:y,...m,headers:(0,p.buildHeaders)([{...null!=g?.toString()?{"anthropic-beta":g?.toString()}:void 0},m?.headers])})}}return models.Models=g,models}function requireResources(){return hasRequiredResources||(hasRequiredResources=1,function(o){Object.defineProperty(o,"__esModule",{value:!0}),o.Models=o.Messages=o.Completions=o.Beta=void 0;tslib.__exportStar(requireShared(),o);var l=requireBeta();Object.defineProperty(o,"Beta",{enumerable:!0,get:function(){return l.Beta}});var p=requireCompletions();Object.defineProperty(o,"Completions",{enumerable:!0,get:function(){return p.Completions}});var m=requireMessages();Object.defineProperty(o,"Messages",{enumerable:!0,get:function(){return m.Messages}});var g=requireModels();Object.defineProperty(o,"Models",{enumerable:!0,get:function(){return g.Models}})}(resources)),resources}var env={},hasRequiredEnv,_BaseAnthropic_instances,_a,_BaseAnthropic_encoder,_BaseAnthropic_baseURLOverridden;function requireEnv(){if(hasRequiredEnv)return env;hasRequiredEnv=1,Object.defineProperty(env,"__esModule",{value:!0}),env.readEnv=void 0;return env.readEnv=o=>void 0!==globalThis.process?globalThis.process.env?.[o]?.trim()??void 0:void 0!==globalThis.Deno?globalThis.Deno.env?.get?.(o)?.trim():void 0,env}Object.defineProperty(client,"__esModule",{value:!0}),client.AI_PROMPT=client.HUMAN_PROMPT=client.Anthropic=client.BaseAnthropic=void 0;const tslib_1=tslib,uuid_1=uuid,values_1=values,sleep_1=sleep$1,errors_1=errors,detect_platform_1=detectPlatform,Shims=tslib_1.__importStar(requireShims()),Opts=tslib_1.__importStar(requireRequestOptions()),version_1=requireVersion(),Errors=tslib_1.__importStar(error$1),Pagination=tslib_1.__importStar(pagination),Uploads=tslib_1.__importStar(uploads$1),API=tslib_1.__importStar(requireResources()),api_promise_1=apiPromise,completions_1=requireCompletions(),models_1=requireModels(),beta_1=requireBeta(),messages_1=requireMessages(),detect_platform_2=detectPlatform,headers_1=requireHeaders(),env_1=requireEnv(),log_1=requireLog(),values_2=values;class BaseAnthropic{constructor({baseURL:o=(0,env_1.readEnv)("ANTHROPIC_BASE_URL"),apiKey:l=(0,env_1.readEnv)("ANTHROPIC_API_KEY")??null,authToken:p=(0,env_1.readEnv)("ANTHROPIC_AUTH_TOKEN")??null,...m}={}){_BaseAnthropic_instances.add(this),_BaseAnthropic_encoder.set(this,void 0);const g={apiKey:l,authToken:p,...m,baseURL:o||"https://api.anthropic.com"};if(!g.dangerouslyAllowBrowser&&(0,detect_platform_2.isRunningInBrowser)())throw new Errors.AnthropicError("It looks like you're running in a browser-like environment.\n\nThis is disabled by default, as it risks exposing your secret API credentials to attackers.\nIf you understand the risks and have appropriate mitigations in place,\nyou can set the `dangerouslyAllowBrowser` option to `true`, e.g.,\n\nnew Anthropic({ apiKey, dangerouslyAllowBrowser: true });\n");this.baseURL=g.baseURL,this.timeout=g.timeout??_a.DEFAULT_TIMEOUT,this.logger=g.logger??console;const y="warn";this.logLevel=y,this.logLevel=(0,log_1.parseLogLevel)(g.logLevel,"ClientOptions.logLevel",this)??(0,log_1.parseLogLevel)((0,env_1.readEnv)("ANTHROPIC_LOG"),"process.env['ANTHROPIC_LOG']",this)??y,this.fetchOptions=g.fetchOptions,this.maxRetries=g.maxRetries??2,this.fetch=g.fetch??Shims.getDefaultFetch(),tslib_1.__classPrivateFieldSet(this,_BaseAnthropic_encoder,Opts.FallbackEncoder,"f"),this._options=g,this.apiKey=l,this.authToken=p}withOptions(o){return new this.constructor({...this._options,baseURL:this.baseURL,maxRetries:this.maxRetries,timeout:this.timeout,logger:this.logger,logLevel:this.logLevel,fetch:this.fetch,fetchOptions:this.fetchOptions,apiKey:this.apiKey,authToken:this.authToken,...o})}defaultQuery(){return this._options.defaultQuery}validateHeaders({values:o,nulls:l}){if(!(this.apiKey&&o.get("x-api-key")||l.has("x-api-key")||this.authToken&&o.get("authorization")||l.has("authorization")))throw new Error('Could not resolve authentication method. Expected either apiKey or authToken to be set. Or for one of the "X-Api-Key" or "Authorization" headers to be explicitly omitted')}async authHeaders(o){return(0,headers_1.buildHeaders)([await this.apiKeyAuth(o),await this.bearerAuth(o)])}async apiKeyAuth(o){if(null!=this.apiKey)return(0,headers_1.buildHeaders)([{"X-Api-Key":this.apiKey}])}async bearerAuth(o){if(null!=this.authToken)return(0,headers_1.buildHeaders)([{Authorization:`Bearer ${this.authToken}`}])}stringifyQuery(o){return Object.entries(o).filter(([o,l])=>void 0!==l).map(([o,l])=>{if("string"==typeof l||"number"==typeof l||"boolean"==typeof l)return`${encodeURIComponent(o)}=${encodeURIComponent(l)}`;if(null===l)return`${encodeURIComponent(o)}=`;throw new Errors.AnthropicError(`Cannot stringify type ${typeof l}; Expected string, number, boolean, or null. If you need to pass nested query parameters, you can manually encode them, e.g. { query: { 'foo[key1]': value1, 'foo[key2]': value2 } }, and please open a GitHub issue requesting better support for your use case.`)}).join("&")}getUserAgent(){return`${this.constructor.name}/JS ${version_1.VERSION}`}defaultIdempotencyKey(){return`stainless-node-retry-${(0,uuid_1.uuid4)()}`}makeStatusError(o,l,p,m){return Errors.APIError.generate(o,l,p,m)}buildURL(o,l,p){const m=!tslib_1.__classPrivateFieldGet(this,_BaseAnthropic_instances,"m",_BaseAnthropic_baseURLOverridden).call(this)&&p||this.baseURL,g=(0,values_1.isAbsoluteURL)(o)?new URL(o):new URL(m+(m.endsWith("/")&&o.startsWith("/")?o.slice(1):o)),y=this.defaultQuery();return(0,values_2.isEmptyObj)(y)||(l={...y,...l}),"object"==typeof l&&l&&!Array.isArray(l)&&(g.search=this.stringifyQuery(l)),g.toString()}_calculateNonstreamingTimeout(o){if(3600*o/128e3>600)throw new Errors.AnthropicError("Streaming is required for operations that may take longer than 10 minutes. See https://github.com/anthropics/anthropic-sdk-typescript#streaming-responses for more details");return 6e5}async prepareOptions(o){}async prepareRequest(o,{url:l,options:p}){}get(o,l){return this.methodRequest("get",o,l)}post(o,l){return this.methodRequest("post",o,l)}patch(o,l){return this.methodRequest("patch",o,l)}put(o,l){return this.methodRequest("put",o,l)}delete(o,l){return this.methodRequest("delete",o,l)}methodRequest(o,l,p){return this.request(Promise.resolve(p).then(p=>({method:o,path:l,...p})))}request(o,l=null){return new api_promise_1.APIPromise(this,this.makeRequest(o,l,void 0))}async makeRequest(o,l,p){const m=await o,g=m.maxRetries??this.maxRetries;null==l&&(l=g),await this.prepareOptions(m);const{req:y,url:_,timeout:b}=await this.buildRequest(m,{retryCount:g-l});await this.prepareRequest(y,{url:_,options:m});const S="log_"+(Math.random()*(1<<24)|0).toString(16).padStart(6,"0"),A=void 0===p?"":`, retryOf: ${p}`,T=Date.now();if((0,log_1.loggerFor)(this).debug(`[${S}] sending request`,(0,log_1.formatRequestDetails)({retryOfRequestLogID:p,method:m.method,url:_,options:m,headers:y.headers})),m.signal?.aborted)throw new Errors.APIUserAbortError;const w=new AbortController,D=await this.fetchWithTimeout(_,y,b,w).catch(errors_1.castToError),O=Date.now();if(D instanceof Error){const o=`retrying, ${l} attempts remaining`;if(m.signal?.aborted)throw new Errors.APIUserAbortError;const g=(0,errors_1.isAbortError)(D)||/timed? ?out/i.test(String(D)+("cause"in D?String(D.cause):""));if(l)return(0,log_1.loggerFor)(this).info(`[${S}] connection ${g?"timed out":"failed"} - ${o}`),(0,log_1.loggerFor)(this).debug(`[${S}] connection ${g?"timed out":"failed"} (${o})`,(0,log_1.formatRequestDetails)({retryOfRequestLogID:p,url:_,durationMs:O-T,message:D.message})),this.retryRequest(m,l,p??S);if((0,log_1.loggerFor)(this).info(`[${S}] connection ${g?"timed out":"failed"} - error; no more retries left`),(0,log_1.loggerFor)(this).debug(`[${S}] connection ${g?"timed out":"failed"} (error; no more retries left)`,(0,log_1.formatRequestDetails)({retryOfRequestLogID:p,url:_,durationMs:O-T,message:D.message})),g)throw new Errors.APIConnectionTimeoutError;throw new Errors.APIConnectionError({cause:D})}const k=[...D.headers.entries()].filter(([o])=>"request-id"===o).map(([o,l])=>", "+o+": "+JSON.stringify(l)).join(""),I=`[${S}${A}${k}] ${y.method} ${_} ${D.ok?"succeeded":"failed"} with status ${D.status} in ${O-T}ms`;if(!D.ok){const o=await this.shouldRetry(D);if(l&&o){const o=`retrying, ${l} attempts remaining`;return await Shims.CancelReadableStream(D.body),(0,log_1.loggerFor)(this).info(`${I} - ${o}`),(0,log_1.loggerFor)(this).debug(`[${S}] response error (${o})`,(0,log_1.formatRequestDetails)({retryOfRequestLogID:p,url:D.url,status:D.status,headers:D.headers,durationMs:O-T})),this.retryRequest(m,l,p??S,D.headers)}const g=o?"error; no more retries left":"error; not retryable";(0,log_1.loggerFor)(this).info(`${I} - ${g}`);const y=await D.text().catch(o=>(0,errors_1.castToError)(o).message),_=(0,values_1.safeJSON)(y),b=_?void 0:y;(0,log_1.loggerFor)(this).debug(`[${S}] response error (${g})`,(0,log_1.formatRequestDetails)({retryOfRequestLogID:p,url:D.url,status:D.status,headers:D.headers,message:b,durationMs:Date.now()-T}));throw this.makeStatusError(D.status,_,b,D.headers)}return(0,log_1.loggerFor)(this).info(I),(0,log_1.loggerFor)(this).debug(`[${S}] response start`,(0,log_1.formatRequestDetails)({retryOfRequestLogID:p,url:D.url,status:D.status,headers:D.headers,durationMs:O-T})),{response:D,options:m,controller:w,requestLogID:S,retryOfRequestLogID:p,startTime:T}}getAPIList(o,l,p){return this.requestAPIList(l,{method:"get",path:o,...p})}requestAPIList(o,l){const p=this.makeRequest(l,null,void 0);return new Pagination.PagePromise(this,p,o)}async fetchWithTimeout(o,l,p,m){const{signal:g,method:y,..._}=l||{};g&&g.addEventListener("abort",()=>m.abort());const b=setTimeout(()=>m.abort(),p),S=globalThis.ReadableStream&&_.body instanceof globalThis.ReadableStream||"object"==typeof _.body&&null!==_.body&&Symbol.asyncIterator in _.body,A={signal:m.signal,...S?{duplex:"half"}:{},method:"GET",..._};y&&(A.method=y.toUpperCase());try{return await this.fetch.call(void 0,o,A)}finally{clearTimeout(b)}}async shouldRetry(o){const l=o.headers.get("x-should-retry");return"true"===l||"false"!==l&&(408===o.status||(409===o.status||(429===o.status||o.status>=500)))}async retryRequest(o,l,p,m){let g;const y=m?.get("retry-after-ms");if(y){const o=parseFloat(y);Number.isNaN(o)||(g=o)}const _=m?.get("retry-after");if(_&&!g){const o=parseFloat(_);g=Number.isNaN(o)?Date.parse(_)-Date.now():1e3*o}if(!(g&&0<=g&&g<6e4)){const p=o.maxRetries??this.maxRetries;g=this.calculateDefaultRetryTimeoutMillis(l,p)}return await(0,sleep_1.sleep)(g),this.makeRequest(o,l-1,p)}calculateDefaultRetryTimeoutMillis(o,l){const p=l-o;return Math.min(.5*Math.pow(2,p),8)*(1-.25*Math.random())*1e3}calculateNonstreamingTimeout(o,l){const p=6e5;if(36e5*o/128e3>p||null!=l&&o>l)throw new Errors.AnthropicError("Streaming is required for operations that may take longer than 10 minutes. See https://github.com/anthropics/anthropic-sdk-typescript#long-requests for more details");return p}async buildRequest(o,{retryCount:l=0}={}){const p={...o},{method:m,path:g,query:y,defaultBaseURL:_}=p,b=this.buildURL(g,y,_);"timeout"in p&&(0,values_1.validatePositiveInteger)("timeout",p.timeout),p.timeout=p.timeout??this.timeout;const{bodyHeaders:S,body:A}=this.buildBody({options:p});return{req:{method:m,headers:await this.buildHeaders({options:o,method:m,bodyHeaders:S,retryCount:l}),...p.signal&&{signal:p.signal},...globalThis.ReadableStream&&A instanceof globalThis.ReadableStream&&{duplex:"half"},...A&&{body:A},...this.fetchOptions??{},...p.fetchOptions??{}},url:b,timeout:p.timeout}}async buildHeaders({options:o,method:l,bodyHeaders:p,retryCount:m}){let g={};this.idempotencyHeader&&"get"!==l&&(o.idempotencyKey||(o.idempotencyKey=this.defaultIdempotencyKey()),g[this.idempotencyHeader]=o.idempotencyKey);const y=(0,headers_1.buildHeaders)([g,{Accept:"application/json","User-Agent":this.getUserAgent(),"X-Stainless-Retry-Count":String(m),...o.timeout?{"X-Stainless-Timeout":String(Math.trunc(o.timeout/1e3))}:{},...(0,detect_platform_1.getPlatformHeaders)(),...this._options.dangerouslyAllowBrowser?{"anthropic-dangerous-direct-browser-access":"true"}:void 0,"anthropic-version":"2023-06-01"},await this.authHeaders(o),this._options.defaultHeaders,p,o.headers]);return this.validateHeaders(y),y.values}buildBody({options:{body:o,headers:l}}){if(!o)return{bodyHeaders:void 0,body:void 0};const p=(0,headers_1.buildHeaders)([l]);return ArrayBuffer.isView(o)||o instanceof ArrayBuffer||o instanceof DataView||"string"==typeof o&&p.values.has("content-type")||o instanceof Blob||o instanceof FormData||o instanceof URLSearchParams||globalThis.ReadableStream&&o instanceof globalThis.ReadableStream?{bodyHeaders:void 0,body:o}:"object"==typeof o&&(Symbol.asyncIterator in o||Symbol.iterator in o&&"next"in o&&"function"==typeof o.next)?{bodyHeaders:void 0,body:Shims.ReadableStreamFrom(o)}:tslib_1.__classPrivateFieldGet(this,_BaseAnthropic_encoder,"f").call(this,{body:o,headers:p})}}client.BaseAnthropic=BaseAnthropic,_a=BaseAnthropic,_BaseAnthropic_encoder=new WeakMap,_BaseAnthropic_instances=new WeakSet,_BaseAnthropic_baseURLOverridden=function(){return"https://api.anthropic.com"!==this.baseURL},BaseAnthropic.Anthropic=_a,BaseAnthropic.HUMAN_PROMPT="\n\nHuman:",BaseAnthropic.AI_PROMPT="\n\nAssistant:",BaseAnthropic.DEFAULT_TIMEOUT=6e5,BaseAnthropic.AnthropicError=Errors.AnthropicError,BaseAnthropic.APIError=Errors.APIError,BaseAnthropic.APIConnectionError=Errors.APIConnectionError,BaseAnthropic.APIConnectionTimeoutError=Errors.APIConnectionTimeoutError,BaseAnthropic.APIUserAbortError=Errors.APIUserAbortError,BaseAnthropic.NotFoundError=Errors.NotFoundError,BaseAnthropic.ConflictError=Errors.ConflictError,BaseAnthropic.RateLimitError=Errors.RateLimitError,BaseAnthropic.BadRequestError=Errors.BadRequestError,BaseAnthropic.AuthenticationError=Errors.AuthenticationError,BaseAnthropic.InternalServerError=Errors.InternalServerError,BaseAnthropic.PermissionDeniedError=Errors.PermissionDeniedError,BaseAnthropic.UnprocessableEntityError=Errors.UnprocessableEntityError,BaseAnthropic.toFile=Uploads.toFile;let Anthropic$1=class extends BaseAnthropic{constructor(){super(...arguments),this.completions=new API.Completions(this),this.messages=new API.Messages(this),this.models=new API.Models(this),this.beta=new API.Beta(this)}};client.Anthropic=Anthropic$1,Anthropic$1.Completions=completions_1.Completions,Anthropic$1.Messages=messages_1.Messages,Anthropic$1.Models=models_1.Models,Anthropic$1.Beta=beta_1.Beta,client.HUMAN_PROMPT=Anthropic$1.HUMAN_PROMPT,client.AI_PROMPT=Anthropic$1.AI_PROMPT,function(o,l){l=o.exports=function(...o){return new l.default(...o)},Object.defineProperty(l,"__esModule",{value:!0}),l.UnprocessableEntityError=l.PermissionDeniedError=l.InternalServerError=l.AuthenticationError=l.BadRequestError=l.RateLimitError=l.ConflictError=l.NotFoundError=l.APIUserAbortError=l.APIConnectionTimeoutError=l.APIConnectionError=l.APIError=l.AnthropicError=l.PagePromise=l.AI_PROMPT=l.HUMAN_PROMPT=l.Anthropic=l.BaseAnthropic=l.APIPromise=l.toFile=l.default=void 0;var p=client;Object.defineProperty(l,"default",{enumerable:!0,get:function(){return p.Anthropic}});var m=uploads$1;Object.defineProperty(l,"toFile",{enumerable:!0,get:function(){return m.toFile}});var g=apiPromise;Object.defineProperty(l,"APIPromise",{enumerable:!0,get:function(){return g.APIPromise}});var y=client;Object.defineProperty(l,"BaseAnthropic",{enumerable:!0,get:function(){return y.BaseAnthropic}}),Object.defineProperty(l,"Anthropic",{enumerable:!0,get:function(){return y.Anthropic}}),Object.defineProperty(l,"HUMAN_PROMPT",{enumerable:!0,get:function(){return y.HUMAN_PROMPT}}),Object.defineProperty(l,"AI_PROMPT",{enumerable:!0,get:function(){return y.AI_PROMPT}});var _=pagination;Object.defineProperty(l,"PagePromise",{enumerable:!0,get:function(){return _.PagePromise}});var b=error$1;Object.defineProperty(l,"AnthropicError",{enumerable:!0,get:function(){return b.AnthropicError}}),Object.defineProperty(l,"APIError",{enumerable:!0,get:function(){return b.APIError}}),Object.defineProperty(l,"APIConnectionError",{enumerable:!0,get:function(){return b.APIConnectionError}}),Object.defineProperty(l,"APIConnectionTimeoutError",{enumerable:!0,get:function(){return b.APIConnectionTimeoutError}}),Object.defineProperty(l,"APIUserAbortError",{enumerable:!0,get:function(){return b.APIUserAbortError}}),Object.defineProperty(l,"NotFoundError",{enumerable:!0,get:function(){return b.NotFoundError}}),Object.defineProperty(l,"ConflictError",{enumerable:!0,get:function(){return b.ConflictError}}),Object.defineProperty(l,"RateLimitError",{enumerable:!0,get:function(){return b.RateLimitError}}),Object.defineProperty(l,"BadRequestError",{enumerable:!0,get:function(){return b.BadRequestError}}),Object.defineProperty(l,"AuthenticationError",{enumerable:!0,get:function(){return b.AuthenticationError}}),Object.defineProperty(l,"InternalServerError",{enumerable:!0,get:function(){return b.InternalServerError}}),Object.defineProperty(l,"PermissionDeniedError",{enumerable:!0,get:function(){return b.PermissionDeniedError}}),Object.defineProperty(l,"UnprocessableEntityError",{enumerable:!0,get:function(){return b.UnprocessableEntityError}})}(sdk,sdk.exports);var sdkExports=sdk.exports;const chalk$2=source$1,{validateConfig:validateConfig$1}=config,{readConfigFile:readConfigFile$1}=file,{validateApiConfig:validateApiConfig}=validator,{query:query}=require$$4,Anthropic=sdkExports,{readConfig:readConfig}=config,{execSync:execSync}=require$$1$1,os=require$$0$2,fs=fs$m,path=require$$1;let configData,testTempDir=null;const maxText=30;function createTestTempDir(){if(!testTempDir){const o=os.tmpdir(),l=Math.random().toString(36).substring(2,15);testTempDir=path.join(o,`ccapi-test-${l}`),fs.existsSync(testTempDir)||fs.mkdirSync(testTempDir,{recursive:!0})}return testTempDir}function cleanupTestTempDir(){if(testTempDir&&fs.existsSync(testTempDir))try{fs.rmSync(testTempDir,{recursive:!0,force:!0}),testTempDir=null}catch(o){}}const LATENCY_COLORS={EXCELLENT:{color:chalk$2.green,threshold:300},GOOD:{color:chalk$2.yellow,threshold:800},POOR:{color:chalk$2.red}};async function getConfigData(){configData=await readConfig()}function getLatencyColor(o){if("error"===o)return{color:chalk$2.red,text:"error",status:"●"};const l=parseInt(o);return l<=LATENCY_COLORS.EXCELLENT.threshold?{color:LATENCY_COLORS.EXCELLENT.color,text:`${l}ms`,status:"●"}:l<=LATENCY_COLORS.GOOD.threshold?{color:LATENCY_COLORS.GOOD.color,text:`${l}ms`,status:"●"}:{color:LATENCY_COLORS.POOR.color,text:`${l}ms`,status:"●"}}function showSpinner(){const o=["⠋","⠙","⠹","⠸","⠼","⠴","⠦","⠧","⠇","⠏"];let l=0;return setInterval(()=>{process.stdout.write(`\r${o[l]} `),l=(l+1)%o.length},100)}function getClaudeExecutablePath(){const o=fs$m;try{let l;const p="win32"===process.platform;l=p?"where claude":"which claude";const m=execSync(l,{encoding:"utf8"}).trim();let g=m;if(p&&m.includes("\n")&&(g=m.split("\n")[0].trim()),o.existsSync(g)){o.lstatSync(g).isSymbolicLink()&&(g=o.realpathSync(g))}return g}catch(o){return null}}async function testApiLatencyWithSDK(o,l,p,m="claude-3-5-haiku-20241022"){let g;const y=Date.now();try{const _=new Anthropic({apiKey:l||p,baseURL:o}),b=configData.testTimeout||5e3,S=new AbortController,A=setTimeout(()=>{S.abort()},b),T=await _.messages.create({model:m,max_tokens:10,messages:[{role:"user",content:"test"}]},{signal:S.signal});clearTimeout(A);g=Date.now()-y;let w="Success";try{const o=T.content?T:JSON.parse(T);w=o?.content?.[0]?.text||o?.content?.[0]?.thinking||"Success"}catch(o){}return{success:!0,latency:g,response:w,error:null}}catch(o){g=Date.now()-y;return{success:!1,latency:"timeout"===o?"error":g,error:"Request was aborted."===o.message?"Timeout":`${o.message||o?.error?.error?.message||"请求失败"}`,response:null}}}async function testApiLatency(o,l,p,m="claude-3-5-haiku-20241022"){let g;const y=Date.now();try{const _=createTestTempDir(),b={ANTHROPIC_BASE_URL:o,ANTHROPIC_MODEL:m};l&&(b.ANTHROPIC_API_KEY=l),p&&(b.ANTHROPIC_AUTH_TOKEN=p);const S=new AbortController,A=configData.testValidTimeout||2e4,T=setTimeout(()=>{g="error",S.abort()},A),w=getClaudeExecutablePath();if(!w)throw new Error("Claude 可执行文件未找到，请确保已安装 Claude Code");const D={env:{...b,PATH:process.env.PATH},cwd:_,model:m,abortController:S,mcpServers:void 0,maxTurns:2,pathToClaudeCodeExecutable:w,permissionMode:"bypassPermissions",executable:"node"};let O="",k=!1,I=!1;const N=query({prompt:"test",options:D});for await(const o of N)if(console.log("msg",o),"result"===o.type&&!k){I=!o.is_error&&"success"===o.subtype,k=!0;const l=Date.now();g=l-y,O=o.result.replace(/\n/g,"")||"error_during_execution",S.abort();break}return clearTimeout(T),k||(g="error",O="Empty response",S.abort()),{success:I,latency:g,response:O.length>maxText?O.slice(0,maxText)+"...":O||"Success",error:null}}catch(o){console.log("error",o);let l=!1,p="请求失败";return"AbortError"===o.name&&g&&"error"!==g&&"number"==typeof g?(p="Success",l=!0):"Claude Code process aborted by user"===o.message?(p="Timeout",g="error"):o.message&&(p=o.message,g="error"),{success:l,latency:g,error:p,response:null}}}function formatUrl(o,l=maxText){return o.length>l?o.slice(0,l-3)+"...":o}async function testConfigurationSerial(o,l,p=0,m=0){const g=Array.isArray(l.url)?l.url:[l.url],y=Array.isArray(l.key)?l.key:l.key?[l.key]:[],_=Array.isArray(l.token)?l.token:l.token?[l.token]:[],b=y.length>0?y:_;if(0===b.length)return{configName:o,results:[{url:"all",success:!1,latency:"error",error:"缺少认证信息 (key 或 token)"}]};const S=p||m||0,A=b[Math.min(S,b.length-1)],T=g.map((p,m)=>{const g=Array.isArray(l.model)?l.model[0]:l.model||"claude-3-5-haiku-20241022";return testApiLatency(p,y.length>0?A:null,_.length>0?A:null,g).then(l=>({url:p,...l,configName:o,index:m})).catch(l=>({url:p,success:!1,latency:"error",error:l.message,configName:o,index:m}))}),w=await Promise.all(T);return{configName:o,results:w}}async function testConfiguration(o,l){const p=Array.isArray(l.url)?l.url:[l.url],m=Array.isArray(l.key)?l.key:l.key?[l.key]:[],g=Array.isArray(l.token)?l.token:l.token?[l.token]:[],y=m.length>0?m:g;if(0===y.length)return{configName:o,results:[{url:"all",success:!1,latency:"error",error:"缺少认证信息 (key 或 token)"}]};const _=p.map((p,_)=>{const b=y[Math.min(_,y.length-1)],S=Array.isArray(l.model)?l.model[0]:l.model||"claude-3-5-haiku-20241022";return testApiLatencyWithSDK(p,m.length>0?b:null,g.length>0?b:null,S).then(l=>({url:p,...l,configName:o,index:_})).catch(l=>({url:p,success:!1,latency:"error",error:l.message,configName:o,index:_}))}),b=await Promise.all(_);return{configName:o,results:b}}async function testConfigurationSerialOld(o,l){console.log(chalk$2.cyan.bold(`[${o}]`));const p=Array.isArray(l.url)?l.url:[l.url],m=Array.isArray(l.key)?l.key:l.key?[l.key]:[],g=Array.isArray(l.token)?l.token:l.token?[l.token]:[],y=m.length>0?m:g;if(0===y.length)return console.log(chalk$2.red("    错误: 缺少认证信息 (key 或 token)")),{configName:o,results:[]};const _=[];for(let o=0;o<p.length;o++){const b=p[o],S=y[Math.min(o,y.length-1)],A=Array.isArray(l.model)?l.model[0]:l.model||"claude-3-5-haiku-20241022",T=showSpinner();try{const l=await testApiLatencyWithSDK(b,m.length>0?S:null,g.length>0?S:null,A);clearInterval(T),process.stdout.write("\r[K");const{color:p,text:y,status:w}=getLatencyColor(l.latency),D=l.response?l.response.length>maxText?l.response.slice(0,maxText)+"...":l.response:l.error||"Success",O=`    ${o+1}.[${formatUrl(b)}] ${p(w)} ${p.bold(y)} ${configData.testResponse?`[Response: ${D}]`:""}`;console.log(O),_.push({url:b,...l})}catch(l){clearInterval(T),process.stdout.write("\r[K");const p=`    ${o+1}.[${formatUrl(b)}] ${chalk$2.red("●")} ${chalk$2.red.bold("error")} ${configData.testResponse?`[Response: ${l.message}]`:""}`;console.log(p),_.push({url:b,success:!1,latency:"error",error:l.message})}}return console.log(),{configName:o,results:_}}async function testParallelCommand$2(o=null,l=!1){try{const l=await validateConfig$1(),p=await readConfigFile$1(l.apiConfigPath);if(!validateApiConfig(p))return void console.error(chalk$2.red("错误:"),"api配置文件格式不正确");let m={};if(o){if(!p[o])return console.error(chalk$2.red("错误:"),`配置 "${o}" 不存在`),void console.log(chalk$2.green("可用配置:"),Object.keys(p).join(", "));m[o]=p[o]}else m=p;const g=Object.keys(m).length;console.log(chalk$2.green.bold(`正在测试${g}个配置的URL延迟...`));const y=showSpinner(),_=Object.entries(m).map(([o,l])=>testConfiguration(o,l)),b=await Promise.all(_);clearInterval(y),process.stdout.write("\r[K");const S=sortTestResults(b);return displaySortedResults(S),console.log(chalk$2.green.bold("URL延迟测试完成!")),S}catch(o){console.error(chalk$2.red("URL延迟测试失败:"),o.message),process.exit(1)}}function sortTestResults(o){return o.map(o=>{const l=o.results.sort((o,l)=>void 0!==o.index&&void 0!==l.index?o.index-l.index:0);return{...o,results:l}}).sort((o,l)=>{const p=getBestLatency(o.results),m=getBestLatency(l.results);return p!==1/0&&m!==1/0?p-m:p!==1/0&&m===1/0?-1:p===1/0&&m!==1/0?1:o.configName.localeCompare(l.configName)})}function getBestLatencyInfo(o){const l=o.filter(o=>"number"==typeof o.latency&&o.latency>0&&o.latency!==1/0).sort((o,l)=>o.latency-l.latency);return l.length>0?{latency:l[0].latency,url:l[0].url}:{latency:1/0,url:null}}function getBestLatency(o){return getBestLatencyInfo(o).latency}function displaySimpleResults(o){console.log(),console.log(chalk$2.yellow.bold("有效性测试结果(按响应延迟从低到高): ")),console.log(),o.forEach((l,p)=>{const m=getBestLatencyInfo(l.results);let g;if(m.latency===1/0)g="无";else{g=`${formatUrl(m.url)}`}console.log(chalk$2.cyan.bold(`[${l.configName}]`)+chalk$2.cyan.bold(`(最优路线: ${g})`)),l.results.forEach((o,l)=>{const p=o.success&&"error"!==o.latency?`✅${chalk$2.green.bold("有效")}`:`❌${chalk$2.red.bold("无效")}`,{color:m}=getLatencyColor(o.latency),g="error"===o.latency?"error":`${o.latency}ms`,y=o.response?o.response.length>maxText?o.response.slice(0,maxText)+"...":o.response:o.error||"Success",_=configData.testResponse?` [Response: ${y}]`:"";console.log(`    ${l+1}.[${o.url}] ${p}(${m.bold(g)})${_}`)}),p<o.length-1&&console.log()}),console.log()}async function testSerialCommand$1(o=null,l=0,p=0){try{const m=await validateConfig$1(),g=await readConfigFile$1(m.apiConfigPath);if(!validateApiConfig(g))return void console.error(chalk$2.red("错误:"),"api配置文件格式不正确");let y={};if(o){if(!g[o])return console.error(chalk$2.red("错误:"),`配置 "${o}" 不存在`),void console.log(chalk$2.green("可用配置:"),Object.keys(g).join(", "));y[o]=g[o]}else y=g;const _=Object.keys(y).length;console.log(chalk$2.green.bold(`正在测试${_}个配置在Claude Code中的有效性(请耐心等待)...`));const b=showSpinner(),S=Object.entries(y).map(([o,m])=>testConfigurationSerial(o,m,l,p)),A=await Promise.all(S);clearInterval(b),process.stdout.write("\r[K");return displaySimpleResults(sortTestResults(A)),console.log(chalk$2.green.bold("有效性测试完成, 此结果代表能否在Claude Code中真正使用!")),cleanupTestTempDir(),A}catch(o){cleanupTestTempDir(),console.error(chalk$2.red("有效性测试失败:"),o.message),process.exit(1)}}function displaySortedResults(o){console.log(),console.log(chalk$2.yellow.bold("测试结果(按厂商URL延迟从低到高): ")),console.log(),o.forEach((l,p)=>{const m=getBestLatencyInfo(l.results);let g;if(m.latency===1/0)g="无";else{g=`${formatUrl(m.url)}`}console.log(chalk$2.cyan.bold(`[${l.configName}]`)+chalk$2.cyan.bold(`(最优路线: ${g})`)),l.results.forEach((o,l)=>{const{color:p,text:m,status:g}=getLatencyColor(o.latency),y=o.response?o.response.length>maxText?o.response.slice(0,maxText)+"...":o.response:o.error||"Success",_=`    ${l+1}.[${formatUrl(o.url)}] ${p(g)} ${p.bold(m)} ${configData.testResponse?`[Response: ${y}]`:""}`;console.log(_)}),p<o.length-1&&console.log()}),console.log()}async function testCommand(o=null){try{console.log(chalk$2.green.bold("正在测试延迟中...")),console.log();const l=await validateConfig$1(),p=await readConfigFile$1(l.apiConfigPath);if(!validateApiConfig(p))return void console.error(chalk$2.red("错误:"),"api配置文件格式不正确");let m={};if(o){if(!p[o])return console.error(chalk$2.red("错误:"),`配置 "${o}" 不存在`),void console.log(chalk$2.green("可用配置:"),Object.keys(p).join(", "));m[o]=p[o]}else m=p;const g=[];for(const[o,l]of Object.entries(m)){const p=await testConfigurationSerialOld(o,l);g.push(p)}return console.log(chalk$2.green.bold("延迟测试完成！")),g}catch(o){console.error(chalk$2.red("延迟测试失败:"),o.message),process.exit(1)}}getConfigData(),test.exports=testParallelCommand$2,test.exports.testCommand=testCommand,test.exports.testParallelCommand=testParallelCommand$2,test.exports.testSerialCommand=testSerialCommand$1;var testExports=test.exports;const chalk$1=source$1,{testParallelCommand:testParallelCommand$1}=testExports,useCommand$1=use,{validateConfig:validateConfig}=config,{readConfigFile:readConfigFile}=file;function analyzeBestConfig(o){const l=[];for(const p of o){const{configName:o,results:m}=p;for(let p=0;p<m.length;p++){const g=m[p];"number"==typeof g.latency&&g.latency>0&&g.latency!==1/0&&!isNaN(g.latency)&&l.push({configName:o,latency:g.latency,url:g.url,urlIndex:p,keyIndex:p,tokenIndex:p})}}return 0===l.length?{configName:null,latency:1/0,url:null,urlIndex:-1,keyIndex:-1,tokenIndex:-1}:(l.sort((o,l)=>o.latency-l.latency),l[0])}async function buildUseOptions(o,l,p){const m=p[o],g={};if(Array.isArray(m.url)&&l.urlIndex>=0&&(g.url=(l.urlIndex+1).toString()),Array.isArray(m.key)&&l.keyIndex>=0){const o=Math.min(l.keyIndex,m.key.length-1);g.key=(o+1).toString()}if(Array.isArray(m.token)&&l.tokenIndex>=0){const o=Math.min(l.tokenIndex,m.token.length-1);g.token=(o+1).toString()}return Array.isArray(m.model)&&(g.model="1"),Array.isArray(m.fast)&&(g.fast="1"),g}async function autoCommand$1(o=null,l={}){try{const l=await testParallelCommand$1(o);l&&0!==l.length||(console.error(chalk$1.red("错误:"),"暂无可用的配置进行测试"),process.exit(1));const p=analyzeBestConfig(l);if(!p.configName){const l=o?`${o}: 配置测试异常!`:"所有配置测试异常!";console.error(chalk$1.red.bold(l)),process.exit(1)}console.log(chalk$1.green.bold("已找到最优配置,开始切换中..."));const m=await validateConfig(),g=await readConfigFile(m.apiConfigPath),y=await buildUseOptions(p.configName,p,g);await useCommand$1(p.configName,y)}catch(o){console.error(chalk$1.red("自动切换配置失败:"),o.message),process.exit(1)}}var auto=autoCommand$1;const{Command:Command}=commanderExports,chalk=source$1,packageJson=require$$2$1,versionCommand=version$1,setCommand=set,listCommand=list,useCommand=use,{testParallelCommand:testParallelCommand,testSerialCommand:testSerialCommand}=testExports,autoCommand=auto,program=new Command;program.name("ccapi").description("Claude settings.json配置管理工具").version(packageJson.version),program.option("-v, --version","显示版本信息").action(o=>{o.version&&versionCommand()}),program.command("set").description("设置配置文件路径").option("--settings <path>","Claude Code settings.json文件路径").option("--api <path>","自定义API配置文件路径").action(setCommand),program.command("ls").alias("list").description("显示当前API配置列表").action(listCommand),program.command("use <name>").description("切换到指定的API配置").option("-u, --url <index>","指定要切换的URL索引（从1开始，仅对数组类型url有效）").option("-k, --key <index>","指定要切换的Key索引（从1开始，仅对数组类型key有效）").option("-t, --token <index>","指定要切换的Token索引（从1开始，仅对数组类型token有效）").option("-m, --model <index>","指定要切换的模型索引（从1开始，仅对数组类型model有效）").option("-f, --fast <index>","指定要切换的快速模型索引（从1开始，仅对数组类型fast有效）").action((o,l)=>{useCommand(o,l)}),program.command("test [name]").description("测试API配置的延迟").option("-s, --serial","最真实的测试配置在Claude Code中是否可用，提示：会在Claude Code中生成历史记录，介意勿用!").option("-t, --token <index>","指定要使用的Token索引（从1开始，仅在测试单个配置且使用-s时有效）").option("-k, --key <index>","指定要使用的Key索引（从1开始，仅在测试单个配置且使用-s时有效）").action((o,l)=>{if(l.serial){const p=l.key?parseInt(l.key)-1:0,m=l.token?parseInt(l.token)-1:0;testSerialCommand(o,p,m)}else testParallelCommand(o)}),program.command("auto [name]").description("自动测试并切换到最优配置").action((o,l)=>{autoCommand(o,l)}),process.on("uncaughtException",o=>{console.error(chalk.red("程序错误:"),o.message),"development"===process.env.NODE_ENV&&console.error(o.stack),process.exit(1)}),process.on("unhandledRejection",(o,l)=>{console.error(chalk.red("未处理的Promise错误:"),o),"development"===process.env.NODE_ENV&&console.error("Promise:",l),process.exit(1)}),program.parse(process.argv),process.argv.slice(2).length||program.outputHelp(),module.exports=src$1;
